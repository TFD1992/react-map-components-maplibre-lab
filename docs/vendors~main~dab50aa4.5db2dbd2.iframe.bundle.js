(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{104:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p}));var r=n(0),o=n.n(r);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var u=o.a.createContext({}),l=function(t){var e=o.a.useContext(u),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},d=function(t){var e=l(t.components);return o.a.createElement(u.Provider,{value:e},t.children)},h={inlineCode:"code",wrapper:function(t){var e=t.children;return o.a.createElement(o.a.Fragment,{},e)}},f=o.a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,a=t.parentName,u=c(t,["components","mdxType","originalType","parentName"]),d=l(n),f=r,p=d["".concat(a,".").concat(f)]||d[f]||h[f]||i;return n?o.a.createElement(p,s(s({ref:e},u),{},{components:n})):o.a.createElement(p,s({ref:e},u))}));function p(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,a=new Array(i);a[0]=f;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=t,s.mdxType="string"==typeof t?t:r,a[1]=s;for(var u=2;u<i;u++)a[u]=n[u];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},114:function(t,e,n){"use strict";function r(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}n.d(e,"a",(function(){return r}))},120:function(t,e,n){"use strict";var r=n(2),o=n(46),i=n(0),a=n.n(i),s=(n(3),n(253)),c=n.n(s),u=n(89);function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.baseClasses,n=t.newClasses;t.Component;if(!n)return e;var o=Object(r.a)({},e);return Object.keys(n).forEach((function(t){n[t]&&(o[t]="".concat(e[t]," ").concat(n[t]))})),o}var d={set:function(t,e,n,r){var o=t.get(e);o||(o=new Map,t.set(e,o)),o.set(n,r)},get:function(t,e,n){var r=t.get(e);return r?r.get(n):void 0},delete:function(t,e,n){t.get(e).delete(n)}};var h=a.a.createContext(null);function f(){return a.a.useContext(h)}var p="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",g=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var m=n(424),y=n(425),v=n(426),b=n(441),x=n(427),E=n(428),O=n(429);function S(){return{plugins:[Object(m.a)(),Object(y.a)(),Object(v.a)(),Object(b.a)(),Object(x.a)(),"undefined"==typeof window?null:Object(E.a)(),Object(O.a)()]}}var M=Object(u.b)(S()),C={disableGeneration:!1,generateClassName:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.disableGlobal,n=void 0!==e&&e,r=t.productionPrefix,o=void 0===r?"jss":r,i=t.seed,a=void 0===i?"":i,s=""===a?"":"".concat(a,"-"),c=0,u=function(){return c+=1};return function(t,e){var r=e.options.name;if(r&&0===r.indexOf("Mui")&&!e.options.link&&!n){if(-1!==g.indexOf(t.key))return"Mui-".concat(t.key);var i="".concat(s).concat(r,"-").concat(t.key);return e.options.theme[p]&&""===a?"".concat(i,"-").concat(u()):i}return"".concat(s).concat(o).concat(u())}}(),jss:M,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},w=a.a.createContext(C);var j=-1e9;function _(){return j+=1}var I=n(336);function T(t){return t&&"object"===Object(I.a)(t)&&t.constructor===Object}function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?Object(r.a)({},t):t;return T(t)&&T(e)&&Object.keys(e).forEach((function(r){"__proto__"!==r&&(T(e[r])&&r in t?o[r]=k(t[r],e[r],n):o[r]=e[r])})),o}function L(t){var e="function"==typeof t;return{create:function(n,o){var i;try{i=e?t(n):t}catch(t){throw t}if(!o||!n.overrides||!n.overrides[o])return i;var a=n.overrides[o],s=Object(r.a)({},i);return Object.keys(a).forEach((function(t){s[t]=k(s[t],a[t])})),s},options:{}}}var P={};function A(t,e,n){var r=t.state;if(t.stylesOptions.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var o=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,o=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,o=!0),o&&(r.cacheClasses.value=l({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:n})),r.cacheClasses.value}function N(t,e){var n=t.state,o=t.theme,i=t.stylesOptions,a=t.stylesCreator,s=t.name;if(!i.disableGeneration){var c=d.get(i.sheetsManager,a,o);c||(c={refs:0,staticSheet:null,dynamicStyles:null},d.set(i.sheetsManager,a,o,c));var h=Object(r.a)({},a.options,i,{theme:o,flip:"boolean"==typeof i.flip?i.flip:"rtl"===o.direction});h.generateId=h.serverGenerateClassName||h.generateClassName;var f=i.sheetsRegistry;if(0===c.refs){var p;i.sheetsCache&&(p=d.get(i.sheetsCache,a,o));var g=a.create(o,s);p||((p=i.jss.createStyleSheet(g,Object(r.a)({link:!1},h))).attach(),i.sheetsCache&&d.set(i.sheetsCache,a,o,p)),f&&f.add(p),c.staticSheet=p,c.dynamicStyles=Object(u.d)(g)}if(c.dynamicStyles){var m=i.jss.createStyleSheet(c.dynamicStyles,Object(r.a)({link:!0},h));m.update(e),m.attach(),n.dynamicSheet=m,n.classes=l({baseClasses:c.staticSheet.classes,newClasses:m.classes}),f&&f.add(m)}else n.classes=c.staticSheet.classes;c.refs+=1}}function R(t,e){var n=t.state;n.dynamicSheet&&n.dynamicSheet.update(e)}function F(t){var e=t.state,n=t.theme,r=t.stylesOptions,o=t.stylesCreator;if(!r.disableGeneration){var i=d.get(r.sheetsManager,o,n);i.refs-=1;var a=r.sheetsRegistry;0===i.refs&&(d.delete(r.sheetsManager,o,n),r.jss.removeStyleSheet(i.staticSheet),a&&a.remove(i.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),a&&a.remove(e.dynamicSheet))}}function D(t,e){var n,r=a.a.useRef([]),o=a.a.useMemo((function(){return{}}),e);r.current!==o&&(r.current=o,n=t()),a.a.useEffect((function(){return function(){n&&n()}}),[o])}function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.name,i=e.classNamePrefix,s=e.Component,c=e.defaultTheme,u=void 0===c?P:c,l=Object(o.a)(e,["name","classNamePrefix","Component","defaultTheme"]),d=L(t),h=n||i||"makeStyles";d.options={index:_(),name:n,meta:h,classNamePrefix:h};var p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=f()||u,o=Object(r.a)({},a.a.useContext(w),l),i=a.a.useRef(),c=a.a.useRef();D((function(){var r={name:n,state:{},stylesCreator:d,stylesOptions:o,theme:e};return N(r,t),c.current=!1,i.current=r,function(){F(r)}}),[e,d]),a.a.useEffect((function(){c.current&&R(i.current,t),c.current=!0}));var h=A(i.current,t.classes,s);return h};return p}function z(t){var e=t.theme,n=t.name,r=t.props;if(!e||!e.props||!e.props[n])return r;var o,i=e.props[n];for(o in i)void 0===r[o]&&(r[o]=i[o]);return r}var U=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var i=e.defaultTheme,s=e.withTheme,u=void 0!==s&&s,l=e.name,d=Object(o.a)(e,["defaultTheme","withTheme","name"]);var h=l,p=H(t,Object(r.a)({defaultTheme:i,Component:n,name:l||n.displayName,classNamePrefix:h},d)),g=a.a.forwardRef((function(t,e){t.classes;var s,c=t.innerRef,d=Object(o.a)(t,["classes","innerRef"]),h=p(Object(r.a)({},n.defaultProps,t)),g=d;return("string"==typeof l||u)&&(s=f()||i,l&&(g=z({theme:s,name:l,props:d})),u&&!g.theme&&(g.theme=s)),a.a.createElement(n,Object(r.a)({ref:c||e,classes:h},g))}));return c()(g,n),g}},B=n(9),V=["xs","sm","md","lg","xl"];function G(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,i=t.unit,a=void 0===i?"px":i,s=t.step,c=void 0===s?5:s,u=Object(o.a)(t,["values","unit","step"]);function l(t){var e="number"==typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(a,")")}function d(t,e){var r=V.indexOf(e);return r===V.length-1?l(t):"@media (min-width:".concat("number"==typeof n[t]?n[t]:t).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"==typeof n[V[r+1]]?n[V[r+1]]:e)-c/100).concat(a,")")}return Object(r.a)({keys:V,values:n,up:l,down:function(t){var e=V.indexOf(t)+1,r=n[V[e]];return e===V.length?l("xs"):"@media (max-width:".concat(("number"==typeof r&&e>0?r:t)-c/100).concat(a,")")},between:d,only:function(t){return d(t,t)},width:function(t){return n[t]}},u)}function W(t,e,n){var o;return Object(r.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),Object(r.a)({paddingLeft:e(2),paddingRight:e(2)},n,Object(B.a)({},t.up("sm"),Object(r.a)({paddingLeft:e(3),paddingRight:e(3)},n[t.up("sm")])))},toolbar:(o={minHeight:56},Object(B.a)(o,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(B.a)(o,t.up("sm"),{minHeight:64}),o)},n)}var q=n(823),J={black:"#000",white:"#fff"},Z={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Y={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},X={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},K={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Q={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},$={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},tt={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},et=n(168),nt={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:J.white,default:Z[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},rt={text:{primary:J.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Z[800],default:"#303030"},action:{active:J.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ot(t,e,n,r){var o=r.light||r,i=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=Object(et.d)(t.main,o):"dark"===e&&(t.dark=Object(et.b)(t.main,i)))}function it(t){var e=t.primary,n=void 0===e?{light:Y[300],main:Y[500],dark:Y[700]}:e,i=t.secondary,a=void 0===i?{light:X.A200,main:X.A400,dark:X.A700}:i,s=t.error,c=void 0===s?{light:K[300],main:K[500],dark:K[700]}:s,u=t.warning,l=void 0===u?{light:Q[300],main:Q[500],dark:Q[700]}:u,d=t.info,h=void 0===d?{light:$[300],main:$[500],dark:$[700]}:d,f=t.success,p=void 0===f?{light:tt[300],main:tt[500],dark:tt[700]}:f,g=t.type,m=void 0===g?"light":g,y=t.contrastThreshold,v=void 0===y?3:y,b=t.tonalOffset,x=void 0===b?.2:b,E=Object(o.a)(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function O(t){return Object(et.c)(t,rt.text.primary)>=v?rt.text.primary:nt.text.primary}var S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(t=Object(r.a)({},t)).main&&t[e]&&(t.main=t[e]),!t.main)throw new Error(Object(q.a)(4,e));if("string"!=typeof t.main)throw new Error(Object(q.a)(5,JSON.stringify(t.main)));return ot(t,"light",n,x),ot(t,"dark",o,x),t.contrastText||(t.contrastText=O(t.main)),t},M={dark:rt,light:nt};return k(Object(r.a)({common:J,type:m,primary:S(n),secondary:S(a,"A400","A200","A700"),error:S(c),warning:S(l),info:S(h),success:S(p),grey:Z,contrastThreshold:v,getContrastText:O,augmentColor:S,tonalOffset:x},M[m]),E)}function at(t){return Math.round(1e5*t)/1e5}function st(t){return at(t)}var ct={textTransform:"uppercase"};function ut(t,e){var n="function"==typeof e?e(t):e,i=n.fontFamily,a=void 0===i?'"Roboto", "Helvetica", "Arial", sans-serif':i,s=n.fontSize,c=void 0===s?14:s,u=n.fontWeightLight,l=void 0===u?300:u,d=n.fontWeightRegular,h=void 0===d?400:d,f=n.fontWeightMedium,p=void 0===f?500:f,g=n.fontWeightBold,m=void 0===g?700:g,y=n.htmlFontSize,v=void 0===y?16:y,b=n.allVariants,x=n.pxToRem,E=Object(o.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var O=c/14,S=x||function(t){return"".concat(t/v*O,"rem")},M=function(t,e,n,o,i){return Object(r.a)({fontFamily:a,fontWeight:t,fontSize:S(e),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===a?{letterSpacing:"".concat(at(o/e),"em")}:{},i,b)},C={h1:M(l,96,1.167,-1.5),h2:M(l,60,1.2,-.5),h3:M(h,48,1.167,0),h4:M(h,34,1.235,.25),h5:M(h,24,1.334,0),h6:M(p,20,1.6,.15),subtitle1:M(h,16,1.75,.15),subtitle2:M(p,14,1.57,.1),body1:M(h,16,1.5,.15),body2:M(h,14,1.43,.15),button:M(p,14,1.75,.4,ct),caption:M(h,12,1.66,.4),overline:M(h,12,2.66,1,ct)};return k(Object(r.a)({htmlFontSize:v,pxToRem:S,round:st,fontFamily:a,fontSize:c,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},C),E,{clone:!1})}function lt(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var dt=["none",lt(0,2,1,-1,0,1,1,0,0,1,3,0),lt(0,3,1,-2,0,2,2,0,0,1,5,0),lt(0,3,3,-2,0,3,4,0,0,1,8,0),lt(0,2,4,-1,0,4,5,0,0,1,10,0),lt(0,3,5,-1,0,5,8,0,0,1,14,0),lt(0,3,5,-1,0,6,10,0,0,1,18,0),lt(0,4,5,-2,0,7,10,1,0,2,16,1),lt(0,5,5,-3,0,8,10,1,0,3,14,2),lt(0,5,6,-3,0,9,12,1,0,3,16,2),lt(0,6,6,-3,0,10,14,1,0,4,18,3),lt(0,6,7,-4,0,11,15,1,0,4,20,3),lt(0,7,8,-4,0,12,17,2,0,5,22,4),lt(0,7,8,-4,0,13,19,2,0,5,24,4),lt(0,7,9,-4,0,14,21,2,0,5,26,4),lt(0,8,9,-5,0,15,22,2,0,6,28,5),lt(0,8,10,-5,0,16,24,2,0,6,30,5),lt(0,8,11,-5,0,17,26,2,0,6,32,5),lt(0,9,11,-5,0,18,28,2,0,7,34,6),lt(0,9,12,-6,0,19,29,2,0,7,36,6),lt(0,10,13,-6,0,20,31,3,0,8,38,7),lt(0,10,13,-6,0,21,33,3,0,8,40,7),lt(0,10,14,-6,0,22,35,3,0,8,42,7),lt(0,11,14,-7,0,23,36,3,0,9,44,8),lt(0,11,15,-7,0,24,38,3,0,9,46,8)],ht={borderRadius:4},ft=n(53);n(97);var pt=function(t,e){return e?k(t,e,{clone:!1}):t},gt={xs:0,sm:600,md:960,lg:1280,xl:1920},mt={keys:["xs","sm","md","lg","xl"],up:function(t){return"@media (min-width:".concat(gt[t],"px)")}};var yt,vt,bt={m:"margin",p:"padding"},xt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Et={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ot=(yt=function(t){if(t.length>2){if(!Et[t])return[t];t=Et[t]}var e=t.split(""),n=Object(ft.a)(e,2),r=n[0],o=n[1],i=bt[r],a=xt[o]||"";return Array.isArray(a)?a.map((function(t){return i+t})):[i+a]},vt={},function(t){return void 0===vt[t]&&(vt[t]=yt(t)),vt[t]}),St=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Mt(t){var e=t.spacing||8;return"number"==typeof e?function(t){return e*t}:Array.isArray(e)?function(t){return e[t]}:"function"==typeof e?e:function(){}}function Ct(t,e){return function(n){return t.reduce((function(t,r){return t[r]=function(t,e){if("string"==typeof e||null==e)return e;var n=t(Math.abs(e));return e>=0?n:"number"==typeof n?-n:"-".concat(n)}(e,n),t}),{})}}function wt(t){var e=Mt(t.theme);return Object.keys(t).map((function(n){if(-1===St.indexOf(n))return null;var r=Ct(Ot(n),e),o=t[n];return function(t,e,n){if(Array.isArray(e)){var r=t.theme.breakpoints||mt;return e.reduce((function(t,o,i){return t[r.up(r.keys[i])]=n(e[i]),t}),{})}if("object"===Object(I.a)(e)){var o=t.theme.breakpoints||mt;return Object.keys(e).reduce((function(t,r){return t[o.up(r)]=n(e[r]),t}),{})}return n(e)}(t,o,r)})).reduce(pt,{})}wt.propTypes={},wt.filterProps=St;function jt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=Mt({spacing:t}),n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map((function(t){if("string"==typeof t)return t;var n=e(t);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}var _t={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},It={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Tt(t){return"".concat(Math.round(t),"ms")}var kt={easing:_t,duration:It,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.duration,r=void 0===n?It.standard:n,i=e.easing,a=void 0===i?_t.easeInOut:i,s=e.delay,c=void 0===s?0:s;Object(o.a)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map((function(t){return"".concat(t," ").concat("string"==typeof r?r:Tt(r)," ").concat(a," ").concat("string"==typeof c?c:Tt(c))})).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}},Lt={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Pt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,r=t.mixins,i=void 0===r?{}:r,a=t.palette,s=void 0===a?{}:a,c=t.spacing,u=t.typography,l=void 0===u?{}:u,d=Object(o.a)(t,["breakpoints","mixins","palette","spacing","typography"]),h=it(s),f=G(n),p=jt(c),g=k({breakpoints:f,direction:"ltr",mixins:W(f,p,i),overrides:{},palette:h,props:{},shadows:dt,typography:ut(h,l),spacing:p,shape:ht,transitions:kt,zIndex:Lt},d),m=arguments.length,y=new Array(m>1?m-1:0),v=1;v<m;v++)y[v-1]=arguments[v];return g=y.reduce((function(t,e){return k(t,e)}),g)}var At=Pt();e.a=function(t,e){return U(t,Object(r.a)({defaultTheme:At},e))}},124:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(823);function o(t){if("string"!=typeof t)throw new Error(Object(r.a)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},1268:function(t,e,n){var r=n(1269),o=n(1270),i=n(1271);o instanceof Function||(o=o.default),t.exports=function(t){if(!t)return[];var e=o(r(t)),n=[];return e.features.forEach((function(t){t.geometry&&(n=n.concat(i(t.geometry.coordinates)))})),n}},1269:function(t,e){t.exports=function(t){if(!t||!t.type)return null;var e=n[t.type];if(!e)return null;if("geometry"===e)return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if("feature"===e)return{type:"FeatureCollection",features:[t]};if("featurecollection"===e)return t};var n={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},1271:function(t,e){t.exports=function(t){return function t(e){if(Array.isArray(e)&&e.length&&"number"==typeof e[0])return[e];return e.reduce((function(e,n){return Array.isArray(n)&&Array.isArray(n[0])?e.concat(t(n)):(e.push(n),e)}),[])}(t)}},1273:function(t,e){function n(t){if(!(this instanceof n))return new n(t);this._bbox=t||[1/0,1/0,-1/0,-1/0],this._valid=!!t}t.exports=n,n.prototype.include=function(t){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[0]),this._bbox[3]=Math.max(this._bbox[3],t[1]),this},n.prototype.equals=function(t){var e;return e=t instanceof n?t.bbox():t,this._bbox[0]==e[0]&&this._bbox[1]==e[1]&&this._bbox[2]==e[2]&&this._bbox[3]==e[3]},n.prototype.center=function(t){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},n.prototype.union=function(t){var e;return this._valid=!0,e=t instanceof n?t.bbox():t,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[2]),this._bbox[3]=Math.max(this._bbox[3],e[3]),this},n.prototype.bbox=function(){return this._valid?this._bbox:null},n.prototype.contains=function(t){if(!t)return this._fastContains();if(!this._valid)return null;var e=t[0],n=t[1];return this._bbox[0]<=e&&this._bbox[1]<=n&&this._bbox[2]>=e&&this._bbox[3]>=n},n.prototype.intersect=function(t){return this._valid?(e=t instanceof n?t.bbox():t,!(this._bbox[0]>e[2]||this._bbox[2]<e[0]||this._bbox[3]<e[1]||this._bbox[1]>e[3])):null;var e},n.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var t="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",t)},n.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},1286:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(1289)},1289:function(t,e,n){"use strict";n.r(e),n.d(e,"capitalize",(function(){return r.a})),n.d(e,"createChainedFunction",(function(){return o})),n.d(e,"createSvgIcon",(function(){return f})),n.d(e,"debounce",(function(){return p})),n.d(e,"deprecatedPropType",(function(){return g.a})),n.d(e,"isMuiElement",(function(){return m.a})),n.d(e,"ownerDocument",(function(){return y})),n.d(e,"ownerWindow",(function(){return v})),n.d(e,"requirePropFactory",(function(){return b})),n.d(e,"setRef",(function(){return x.a})),n.d(e,"unsupportedProp",(function(){return E})),n.d(e,"useControlled",(function(){return O})),n.d(e,"useEventCallback",(function(){return S.a})),n.d(e,"useForkRef",(function(){return M.a})),n.d(e,"unstable_useId",(function(){return C})),n.d(e,"useIsFocusVisible",(function(){return w.a}));var r=n(124);function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return null==e?t:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t.apply(this,r),e.apply(this,r)}}),(function(){}))}var i=n(2),a=n(0),s=n.n(a),c=n(46),u=(n(3),n(7)),l=n(120),d=a.forwardRef((function(t,e){var n=t.children,o=t.classes,s=t.className,l=t.color,d=void 0===l?"inherit":l,h=t.component,f=void 0===h?"svg":h,p=t.fontSize,g=void 0===p?"medium":p,m=t.htmlColor,y=t.titleAccess,v=t.viewBox,b=void 0===v?"0 0 24 24":v,x=Object(c.a)(t,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return a.createElement(f,Object(i.a)({className:Object(u.a)(o.root,s,"inherit"!==d&&o["color".concat(Object(r.a)(d))],"default"!==g&&"medium"!==g&&o["fontSize".concat(Object(r.a)(g))]),focusable:"false",viewBox:b,color:m,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:e},x),n,y?a.createElement("title",null,y):null)}));d.muiName="SvgIcon";var h=Object(l.a)((function(t){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:t.typography.pxToRem(24),transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter})},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:t.typography.pxToRem(20)},fontSizeLarge:{fontSize:t.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(d);function f(t,e){var n=function(e,n){return s.a.createElement(h,Object(i.a)({ref:n},e),t)};return n.muiName=h.muiName,s.a.memo(s.a.forwardRef(n))}function p(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=this,s=function(){t.apply(a,o)};clearTimeout(e),e=setTimeout(s,n)}return r.clear=function(){clearTimeout(e)},r}var g=n(539),m=n(410);function y(t){return t&&t.ownerDocument||document}function v(t){return y(t).defaultView||window}function b(t){return function(){return null}}var x=n(335);function E(t,e,n,r,o){return null}function O(t){var e=t.controlled,n=t.default,r=(t.name,t.state,a.useRef(void 0!==e).current),o=a.useState(n),i=o[0],s=o[1];return[r?e:i,a.useCallback((function(t){r||s(t)}),[])]}var S=n(206),M=n(231);function C(t){var e=a.useState(t),n=e[0],r=e[1],o=t||n;return a.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),o}var w=n(409)},129:function(t,e,n){"use strict";(function(t){var r=n(57),o=n(754);n.d(e,"b",(function(){return o.a}));var i=n(742);n.d(e,"a",(function(){return i.a})),n.d(e,"d",(function(){return r.c})),n.d(e,"c",(function(){return r.a})),n.d(e,"e",(function(){return r.f}));const a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t};(a.global||a.self||a.window).mathgl={config:r.b}}).call(this,n(85))},136:function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return v})),n.d(e,"c",(function(){return b}));n(57);const r={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function o(t,e,n={}){return function(t,e={}){return Math.sign(i(t,e))}(t,n)!==e&&(function(t,e){const{start:n=0,end:r=t.length,size:o=2}=e,i=(r-n)/o,a=Math.floor(i/2);for(let e=0;e<a;++e){const r=n+e*o,a=n+(i-1-e)*o;for(let e=0;e<o;++e){const n=t[r+e];t[r+e]=t[a+e],t[a+e]=n}}}(t,n),!0)}function i(t,e={}){const{start:n=0,end:r=t.length}=e,o=e.size||2;let i=0;for(let e=n,a=r-o;e<r;e+=o)i+=(t[e]-t[a])*(t[e+1]+t[a+1]),a=e;return i/2}function a(t,e){const n=e.length,r=t.length;if(r>0){let o=!0;for(let i=0;i<n;i++)if(t[r-n+i]!==e[i]){o=!1;break}if(o)return!1}for(let o=0;o<n;o++)t[r+o]=e[o];return!0}function s(t,e){const n=e.length;for(let r=0;r<n;r++)t[r]=e[r]}function c(t,e,n,r,o=[]){const i=r+e*n;for(let e=0;e<n;e++)o[e]=t[i+e];return o}function u(t,e,n,r,o=[]){let i,a;if(8&n)i=(r[3]-t[1])/(e[1]-t[1]),a=3;else if(4&n)i=(r[1]-t[1])/(e[1]-t[1]),a=1;else if(2&n)i=(r[2]-t[0])/(e[0]-t[0]),a=2;else{if(!(1&n))return null;i=(r[0]-t[0])/(e[0]-t[0]),a=0}for(let n=0;n<t.length;n++)o[n]=(1&a)===n?r[a]:i*(e[n]-t[n])+t[n];return o}function l(t,e){let n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function d(t,e={}){const{size:n=2,broken:r=!1,gridResolution:o=10,gridOffset:i=[0,0],startIndex:d=0,endIndex:h=t.length}=e,f=(h-d)/n;let p=[];const y=[p],v=c(t,0,n,d);let b,x;const E=g(v,o,i,[]),O=[];a(p,v);for(let e=1;e<f;e++){for(b=c(t,e,n,d,b),x=l(b,E);x;){u(v,b,x,E,O);const t=l(O,E);t&&(u(v,O,t,E,O),x=t),a(p,O),s(v,O),m(E,o,x),r&&p.length>n&&(p=[],y.push(p),a(p,v)),x=l(b,E)}a(p,b),s(v,b)}return r?y:y[0]}function h(t,e){for(let n=0;n<e.length;n++)t.push(e[n]);return t}function f(t,e,n={}){if(!t.length)return[];const{size:r=2,gridResolution:o=10,gridOffset:i=[0,0],edgeTypes:a=!1}=n,s=[],c=[{pos:t,types:a&&new Array(t.length/r).fill(1),holes:e||[]}],u=[[],[]];let d=[];for(;c.length;){const{pos:t,types:e,holes:n}=c.shift();y(t,r,n[0]||t.length,u),d=g(u[0],o,i,d);const f=l(u[1],d);if(f){let o=p(t,e,r,0,n[0]||t.length,d,f);const i={pos:o[0].pos,types:o[0].types,holes:[]},s={pos:o[1].pos,types:o[1].types,holes:[]};c.push(i,s);for(let c=0;c<n.length;c++)o=p(t,e,r,n[c],n[c+1]||t.length,d,f),o[0]&&(i.holes.push(i.pos.length),i.pos=h(i.pos,o[0].pos),a&&(i.types=h(i.types,o[0].types))),o[1]&&(s.holes.push(s.pos.length),s.pos=h(s.pos,o[1].pos),a&&(s.types=h(s.types,o[1].types)))}else{const r={positions:t};a&&(r.edgeTypes=e),n.length&&(r.holeIndices=n),s.push(r)}}return s}function p(t,e,n,r,o,i,l){const d=(o-r)/n,h=[],f=[],p=[],g=[],m=[];let y,v,b;const x=c(t,d-1,n,r);let E=Math.sign(8&l?x[1]-i[3]:x[0]-i[2]),O=e&&e[d-1],S=0,M=0;for(let o=0;o<d;o++)y=c(t,o,n,r,y),v=Math.sign(8&l?y[1]-i[3]:y[0]-i[2]),b=e&&e[r/n+o],v&&E&&E!==v&&(u(x,y,l,i,m),a(h,m)&&p.push(O),a(f,m)&&g.push(O)),v<=0?(a(h,y)&&p.push(b),S-=v):p.length&&(p[p.length-1]=0),v>=0?(a(f,y)&&g.push(b),M+=v):g.length&&(g[g.length-1]=0),s(x,y),E=v,O=b;return[S?{pos:h,types:e&&p}:null,M?{pos:f,types:e&&g}:null]}function g(t,e,n,r){const o=Math.floor((t[0]-n[0])/e)*e+n[0],i=Math.floor((t[1]-n[1])/e)*e+n[1];return r[0]=o,r[1]=i,r[2]=o+e,r[3]=i+e,r}function m(t,e,n){8&n?(t[1]+=e,t[3]+=e):4&n?(t[1]-=e,t[3]-=e):2&n?(t[0]+=e,t[2]+=e):1&n&&(t[0]-=e,t[2]-=e)}function y(t,e,n,r){let o=1/0,i=-1/0,a=1/0,s=-1/0;for(let r=0;r<n;r+=e){const e=t[r],n=t[r+1];o=e<o?e:o,i=e>i?e:i,a=n<a?n:a,s=n>s?n:s}return r[0][0]=o,r[0][1]=a,r[1][0]=i,r[1][1]=s,r}function v(t,e={}){const{size:n=2,startIndex:r=0,endIndex:o=t.length,normalize:i=!0}=e,a=t.slice(r,o);O(a,n,0,o-r);const s=d(a,{size:n,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(i)for(const t of s)S(t,n);return s}function b(t,e,n={}){const{size:r=2,normalize:o=!0,edgeTypes:i=!1}=n;e=e||[];const a=[],s=[];let c=0,u=0;for(let o=0;o<=e.length;o++){const i=e[o]||t.length,l=u,d=x(t,r,c,i);for(let e=d;e<i;e++)a[u++]=t[e];for(let e=c;e<d;e++)a[u++]=t[e];O(a,r,l,u),E(a,r,l,u,n.maxLatitude),c=i,s[o]=u}s.pop();const l=f(a,s,{size:r,gridResolution:360,gridOffset:[-180,-180],edgeTypes:i});if(o)for(const t of l)S(t.positions,r);return l}function x(t,e,n,r){let o=-1,i=-1;for(let a=n+1;a<r;a+=e){const e=Math.abs(t[a]);e>o&&(o=e,i=a-1)}return i}function E(t,e,n,r,o=85.051129){const i=t[n],s=t[r-e];if(Math.abs(i-s)>180){const r=c(t,0,e,n);r[0]+=360*Math.round((s-i)/360),a(t,r),r[1]=Math.sign(r[1])*o,a(t,r),r[0]=i,a(t,r)}}function O(t,e,n,r){let o,i=t[0];for(let a=n;a<r;a+=e){o=t[a];const e=o-i;(e>180||e<-180)&&(o-=360*Math.round(e/360)),t[a]=i=o}}function S(t,e){let n;const r=t.length/e;for(let o=0;o<r&&(n=t[o*e],(n+180)%360==0);o++);const o=360*-Math.round(n/360);if(0!==o)for(let n=0;n<r;n++)t[n*e]+=o}},14:function(t,e,n){"use strict";n.r(e),n.d(e,"classes",(function(){return r})),n.d(e,"sources",(function(){return o})),n.d(e,"cursors",(function(){return i})),n.d(e,"types",(function(){return a})),n.d(e,"geojsonTypes",(function(){return s})),n.d(e,"modes",(function(){return c})),n.d(e,"events",(function(){return u})),n.d(e,"updateActions",(function(){return l})),n.d(e,"meta",(function(){return d})),n.d(e,"activeStates",(function(){return h})),n.d(e,"interactions",(function(){return f})),n.d(e,"LAT_MIN",(function(){return p})),n.d(e,"LAT_RENDERED_MIN",(function(){return g})),n.d(e,"LAT_MAX",(function(){return m})),n.d(e,"LAT_RENDERED_MAX",(function(){return y})),n.d(e,"LNG_MIN",(function(){return v})),n.d(e,"LNG_MAX",(function(){return b}));const r={CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},o={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},i={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},a={POLYGON:"polygon",LINE:"line_string",POINT:"point"},s={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},c={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},u={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},l={MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},d={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},h={ACTIVE:"true",INACTIVE:"false"},f=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],p=-90,g=-85,m=90,y=85,v=-270,b=270},1439:function(t,e,n){"use strict";var r=n(46),o=n(2),i=n(0),a=(n(3),n(7)),s=n(120),c=n(168),u=n(825),l=n(124),d=i.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,d=t.color,h=void 0===d?"default":d,f=t.component,p=void 0===f?"button":f,g=t.disabled,m=void 0!==g&&g,y=t.disableElevation,v=void 0!==y&&y,b=t.disableFocusRipple,x=void 0!==b&&b,E=t.endIcon,O=t.focusVisibleClassName,S=t.fullWidth,M=void 0!==S&&S,C=t.size,w=void 0===C?"medium":C,j=t.startIcon,_=t.type,I=void 0===_?"button":_,T=t.variant,k=void 0===T?"text":T,L=Object(r.a)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),P=j&&i.createElement("span",{className:Object(a.a)(s.startIcon,s["iconSize".concat(Object(l.a)(w))])},j),A=E&&i.createElement("span",{className:Object(a.a)(s.endIcon,s["iconSize".concat(Object(l.a)(w))])},E);return i.createElement(u.a,Object(o.a)({className:Object(a.a)(s.root,s[k],c,"inherit"===h?s.colorInherit:"default"!==h&&s["".concat(k).concat(Object(l.a)(h))],"medium"!==w&&[s["".concat(k,"Size").concat(Object(l.a)(w))],s["size".concat(Object(l.a)(w))]],v&&s.disableElevation,m&&s.disabled,M&&s.fullWidth),component:p,disabled:m,focusRipple:!x,focusVisibleClassName:Object(a.a)(s.focusVisible,O),ref:e,type:I},L),i.createElement("span",{className:s.label},P,n,A))}));e.a=Object(s.a)((function(t){return{root:Object(o.a)({},t.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,color:t.palette.text.primary,transition:t.transitions.create(["background-color","box-shadow","border"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(c.a)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:t.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:Object(c.a)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:Object(c.a)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(t.palette.action.disabledBackground)}},outlinedPrimary:{color:t.palette.primary.main,border:"1px solid ".concat(Object(c.a)(t.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.primary.main),backgroundColor:Object(c.a)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:t.palette.secondary.main,border:"1px solid ".concat(Object(c.a)(t.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.secondary.main),backgroundColor:Object(c.a)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(t.palette.action.disabled)}},contained:{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2],"&:hover":{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]},"&$disabled":{backgroundColor:t.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:t.shadows[6]},"&:active":{boxShadow:t.shadows[8]},"&$disabled":{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},containedPrimary:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},containedSecondary:{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(d)},1440:function(t,e,n){"use strict";var r=n(2),o=n(46),i=n(0),a=(n(3),n(7)),s=n(120),c=n(234),u=i.forwardRef((function(t,e){var n=t.children,s=t.classes,u=t.className,l=t.component,d=void 0===l?"ul":l,h=t.dense,f=void 0!==h&&h,p=t.disablePadding,g=void 0!==p&&p,m=t.subheader,y=Object(o.a)(t,["children","classes","className","component","dense","disablePadding","subheader"]),v=i.useMemo((function(){return{dense:f}}),[f]);return i.createElement(c.a.Provider,{value:v},i.createElement(d,Object(r.a)({className:Object(a.a)(s.root,u,f&&s.dense,!g&&s.padding,m&&s.subheader),ref:e},y),m,n))}));e.a=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(u)},1441:function(t,e,n){"use strict";var r=n(2),o=n(46),i=n(0),a=(n(3),n(7)),s=n(120),c=n(825),u=n(410),l=n(231),d=n(234),h=n(123),f="undefined"==typeof window?i.useEffect:i.useLayoutEffect,p=i.forwardRef((function(t,e){var n=t.alignItems,s=void 0===n?"center":n,p=t.autoFocus,g=void 0!==p&&p,m=t.button,y=void 0!==m&&m,v=t.children,b=t.classes,x=t.className,E=t.component,O=t.ContainerComponent,S=void 0===O?"li":O,M=t.ContainerProps,C=(M=void 0===M?{}:M).className,w=Object(o.a)(M,["className"]),j=t.dense,_=void 0!==j&&j,I=t.disabled,T=void 0!==I&&I,k=t.disableGutters,L=void 0!==k&&k,P=t.divider,A=void 0!==P&&P,N=t.focusVisibleClassName,R=t.selected,F=void 0!==R&&R,D=Object(o.a)(t,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),H=i.useContext(d.a),z={dense:_||H.dense||!1,alignItems:s},U=i.useRef(null);f((function(){g&&U.current&&U.current.focus()}),[g]);var B=i.Children.toArray(v),V=B.length&&Object(u.a)(B[B.length-1],["ListItemSecondaryAction"]),G=i.useCallback((function(t){U.current=h.findDOMNode(t)}),[]),W=Object(l.a)(G,e),q=Object(r.a)({className:Object(a.a)(b.root,x,z.dense&&b.dense,!L&&b.gutters,A&&b.divider,T&&b.disabled,y&&b.button,"center"!==s&&b.alignItemsFlexStart,V&&b.secondaryAction,F&&b.selected),disabled:T},D),J=E||"li";return y&&(q.component=E||"div",q.focusVisibleClassName=Object(a.a)(b.focusVisible,N),J=c.a),V?(J=q.component||E?J:"div","li"===S&&("li"===J?J="div":"li"===q.component&&(q.component="div")),i.createElement(d.a.Provider,{value:z},i.createElement(S,Object(r.a)({className:Object(a.a)(b.container,C),ref:W},w),i.createElement(J,q,B),B.pop()))):i.createElement(d.a.Provider,{value:z},i.createElement(J,Object(r.a)({ref:W},q),B))}));e.a=Object(s.a)((function(t){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:t.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:t.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(t.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(p)},1466:function(t,e,n){"use strict";var r=n(2),o=n(46),i=n(0),a=(n(3),n(7)),s=n(120),c=n(124),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=i.forwardRef((function(t,e){var n=t.align,s=void 0===n?"inherit":n,l=t.classes,d=t.className,h=t.color,f=void 0===h?"initial":h,p=t.component,g=t.display,m=void 0===g?"initial":g,y=t.gutterBottom,v=void 0!==y&&y,b=t.noWrap,x=void 0!==b&&b,E=t.paragraph,O=void 0!==E&&E,S=t.variant,M=void 0===S?"body1":S,C=t.variantMapping,w=void 0===C?u:C,j=Object(o.a)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),_=p||(O?"p":w[M]||u[M])||"span";return i.createElement(_,Object(r.a)({className:Object(a.a)(l.root,d,"inherit"!==M&&l[M],"initial"!==f&&l["color".concat(Object(c.a)(f))],x&&l.noWrap,v&&l.gutterBottom,O&&l.paragraph,"inherit"!==s&&l["align".concat(Object(c.a)(s))],"initial"!==m&&l["display".concat(Object(c.a)(m))]),ref:e},j))})),d=Object(s.a)((function(t){return{root:{margin:0},body2:t.typography.body2,body1:t.typography.body1,caption:t.typography.caption,button:t.typography.button,h1:t.typography.h1,h2:t.typography.h2,h3:t.typography.h3,h4:t.typography.h4,h5:t.typography.h5,h6:t.typography.h6,subtitle1:t.typography.subtitle1,subtitle2:t.typography.subtitle2,overline:t.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorTextPrimary:{color:t.palette.text.primary},colorTextSecondary:{color:t.palette.text.secondary},colorError:{color:t.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(l),h=n(234),f=i.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,u=t.disableTypography,l=void 0!==u&&u,f=t.inset,p=void 0!==f&&f,g=t.primary,m=t.primaryTypographyProps,y=t.secondary,v=t.secondaryTypographyProps,b=Object(o.a)(t,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),x=i.useContext(h.a).dense,E=null!=g?g:n;null==E||E.type===d||l||(E=i.createElement(d,Object(r.a)({variant:x?"body2":"body1",className:s.primary,component:"span",display:"block"},m),E));var O=y;return null==O||O.type===d||l||(O=i.createElement(d,Object(r.a)({variant:"body2",className:s.secondary,color:"textSecondary",display:"block"},v),O)),i.createElement("div",Object(r.a)({className:Object(a.a)(s.root,c,x&&s.dense,p&&s.inset,E&&O&&s.multiline),ref:e},b),E,O)}));e.a=Object(s.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(f)},168:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return d}));var r=n(823);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)}function i(t){if(t.type)return t;if("#"===t.charAt(0))return i(function(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map((function(t){return t+t}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(t,e){return e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3})).join(", "),")"):""}(t));var e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,t));var o=t.substring(e+1,t.length-1).split(",");return{type:n,values:o=o.map((function(t){return parseFloat(t)}))}}function a(t){var e=t.type,n=t.values;return-1!==e.indexOf("rgb")?n=n.map((function(t,e){return e<3?parseInt(t,10):t})):-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function s(t,e){var n=c(t),r=c(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(t){var e="hsl"===(t=i(t)).type?i(function(t){var e=(t=i(t)).values,n=e[0],r=e[1]/100,o=e[2]/100,s=r*Math.min(o,1-o),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return o-s*Math.max(Math.min(e-3,9-e,1),-1)},u="rgb",l=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===t.type&&(u+="a",l.push(e[3])),a({type:u,values:l})}(t)).values:t.values;return e=e.map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function u(t,e){return t=i(t),e=o(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),t.values[3]=e,a(t)}function l(t,e){if(t=i(t),e=o(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return a(t)}function d(t,e){if(t=i(t),e=o(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return a(t)}},178:function(t,e,n){"use strict";e.a={enable(t){setTimeout(()=>{t.map&&t.map.doubleClickZoom&&t._ctx&&t._ctx.store&&t._ctx.store.getInitialConfigValue&&t._ctx.store.getInitialConfigValue("doubleClickZoom")&&t.map.doubleClickZoom.enable()},0)},disable(t){setTimeout(()=>{t.map&&t.map.doubleClickZoom&&t.map.doubleClickZoom.disable()},0)}}},206:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function i(t){var e=r.useRef(t);return o((function(){e.current=t})),r.useCallback((function(){return e.current.apply(void 0,arguments)}),[])}},231:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),o=n(335);function i(t,e){return r.useMemo((function(){return null==t&&null==e?null:function(n){Object(o.a)(t,n),Object(o.a)(e,n)}}),[t,e])}},233:function(t,e,n){"use strict";function r(t,e,n){const r=e[0],o=e[1],i=n[3]*r+n[7]*o||1;return t[0]=(n[0]*r+n[4]*o)/i,t[1]=(n[1]*r+n[5]*o)/i,t}function o(t,e,n){const r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i||1;return t[0]=(n[0]*r+n[4]*o+n[8]*i)/a,t[1]=(n[1]*r+n[5]*o+n[9]*i)/a,t[2]=(n[2]*r+n[6]*o+n[10]*i)/a,t}function i(t,e,n){const r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t[2]=e[2],t}function a(t,e,n){const r=e[0],o=e[1],i=e[2];return t[0]=n[0]*r+n[3]*o+n[6]*i,t[1]=n[1]*r+n[4]*o+n[7]*i,t[2]=n[2]*r+n[5]*o+n[8]*i,t[3]=e[3],t}n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return a}))},234:function(t,e,n){"use strict";var r=n(0),o=r.createContext({});e.a=o},292:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(57),o=n(114);class i extends(function(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Array)){get ELEMENTS(){return Object(o.a)(!1),0}clone(){return(new this.constructor).copy(this)}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}fromArray(t,e=0){for(let n=0;n<this.ELEMENTS;++n)this[n]=t[n+e];return this.check()}to(t){return t===this?this:Object(r.e)(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toArray(t=[],e=0){for(let n=0;n<this.ELEMENTS;++n)t[e+n]=this[n];return t}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(r.b)}formatString(t){let e="";for(let n=0;n<this.ELEMENTS;++n)e+=(n>0?", ":"")+Object(r.d)(this[n],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(!Object(r.c)(this[e],t[e]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,e,n){void 0===n&&(n=e,e=t,t=this);for(let r=0;r<this.ELEMENTS;++r){const o=t[r];this[r]=o+n*(e[r]-o)}return this.check()}min(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}max(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}clamp(t,e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t[n]),e[n]);return this.check()}add(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]+=e[t];return this.check()}subtract(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]-=e[t];return this.check()}scale(t){if(Array.isArray(t))return this.multiply(t);for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}sub(t){return this.subtract(t)}setScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}addScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}divideScalar(t){return this.scale(1/t)}clampScalar(t,e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t),e);return this.check()}multiplyByScalar(t){return this.scale(t)}get elements(){return this}check(){if(r.b.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}}},294:function(t,e,n){"use strict";var r=n(421),o=n.n(r),i=n(14);const{LAT_MIN:a,LAT_MAX:s,LAT_RENDERED_MIN:c,LAT_RENDERED_MAX:u,LNG_MIN:l,LNG_MAX:d}=i;e.a=function(t,e){let n=a,r=s,i=a,h=s,f=d,p=l;t.forEach(t=>{const e=o()(t),a=e[1],s=e[3],c=e[0],u=e[2];a>n&&(n=a),s<r&&(r=s),s>i&&(i=s),a<h&&(h=a),c<f&&(f=c),u>p&&(p=u)});const g=e;return n+g.lat>u&&(g.lat=u-n),i+g.lat>s&&(g.lat=s-i),r+g.lat<c&&(g.lat=c-r),h+g.lat<a&&(g.lat=a-h),f+g.lng<=l&&(g.lng+=360*Math.ceil(Math.abs(g.lng)/360)),p+g.lng>=d&&(g.lng-=360*Math.ceil(Math.abs(g.lng)/360)),g}},302:function(t,e,n){(function(e){t.exports=function(){"use strict";var t=function(t,e){var n={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},r={on:function(t,e,r){if(void 0===n[t])throw new Error("Invalid event type: "+t);n[t].push({selector:e,fn:r})},render:function(t){e.store.featureChanged(t)}},o=function(t,o){for(var i=n[t],a=i.length;a--;){var s=i[a];if(s.selector(o)){s.fn.call(r,o)||e.store.render(),e.ui.updateMapClasses();break}}};return t.start.call(r),{render:t.render,stop:function(){t.stop&&t.stop()},trash:function(){t.trash&&(t.trash(),e.store.render())},combineFeatures:function(){t.combineFeatures&&t.combineFeatures()},uncombineFeatures:function(){t.uncombineFeatures&&t.uncombineFeatures()},drag:function(t){o("drag",t)},click:function(t){o("click",t)},mousemove:function(t){o("mousemove",t)},mousedown:function(t){o("mousedown",t)},mouseup:function(t){o("mouseup",t)},mouseout:function(t){o("mouseout",t)},keydown:function(t){o("keydown",t)},keyup:function(t){o("keyup",t)},touchstart:function(t){o("touchstart",t)},touchmove:function(t){o("touchmove",t)},touchend:function(t){o("touchend",t)},tap:function(t){o("tap",t)}}},n=6378137;function r(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,r,o,a,s,c,u=0,l=t.length;if(l>2){for(c=0;c<l;c++)c===l-2?(o=l-2,a=l-1,s=0):c===l-1?(o=l-1,a=0,s=1):(o=c,a=c+1,s=c+2),e=t[o],r=t[a],u+=(i(t[s][0])-i(e[0]))*Math.sin(i(r[1]));u=u*n*n/2}return u}function i(t){return t*Math.PI/180}var a=function t(e){var n,o=0;switch(e.type){case"Polygon":return r(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)o+=r(e.coordinates[n]);return o;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)o+=t(e.geometries[n]);return o}},s="active",c="mapbox-gl-draw-hot",u="mapbox-gl-draw-cold",l="add",d="move",h="pointer",f="none",p={POLYGON:"polygon",LINE:"line_string",POINT:"point"},g="Feature",m="Polygon",y="LineString",v="Point",b="FeatureCollection",x="Multi",E={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},O="draw.create",S="draw.update",M="feature",C="midpoint",w="vertex",j="true",_="false",I=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],T={Point:0,LineString:1,Polygon:2};function k(t,e){var n=T[t.geometry.type]-T[e.geometry.type];return 0===n&&t.geometry.type===m?t.area-e.area:n}function L(t){if(this._items={},this._nums={},this._length=t?t.length:0,t)for(var e=0,n=t.length;e<n;e++)this.add(t[e]),void 0!==t[e]&&("string"==typeof t[e]?this._items[t[e]]=e:this._nums[t[e]]=e)}L.prototype.add=function(t){return this.has(t)||(this._length++,"string"==typeof t?this._items[t]=this._length:this._nums[t]=this._length),this},L.prototype.delete=function(t){return!1===this.has(t)||(this._length--,delete this._items[t],delete this._nums[t]),this},L.prototype.has=function(t){return!("string"!=typeof t&&"number"!=typeof t||void 0===this._items[t]&&void 0===this._nums[t])},L.prototype.values=function(){var t=this,e=[];return Object.keys(this._items).forEach((function(n){e.push({k:n,v:t._items[n]})})),Object.keys(this._nums).forEach((function(n){e.push({k:JSON.parse(n),v:t._nums[n]})})),e.sort((function(t,e){return t.v-e.v})).map((function(t){return t.k}))},L.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var P=[M,C,w],A={click:function(t,e,n){return N(t,e,n,n.options.clickBuffer)},touch:function(t,e,n){return N(t,e,n,n.options.touchBuffer)}};function N(t,e,n,r){if(null===n.map)return[];var o=t?function(t,e){return void 0===e&&(e=0),[[t.point.x-e,t.point.y-e],[t.point.x+e,t.point.y+e]]}(t,r):e,i={};n.options.styles&&(i.layers=n.options.styles.map((function(t){return t.id})));var s=n.map.queryRenderedFeatures(o,i).filter((function(t){return-1!==P.indexOf(t.properties.meta)})),c=new L,u=[];return s.forEach((function(t){var e=t.properties.id;c.has(e)||(c.add(e),u.push(t))})),function(t){return t.map((function(t){return t.geometry.type===m&&(t.area=a({type:g,property:{},geometry:t.geometry})),t})).sort(k).map((function(t){return delete t.area,t}))}(u)}function R(t,e){var n=A.click(t,null,e),r={mouse:f};return n[0]&&(r.mouse=n[0].properties.active===j?d:h,r.feature=n[0].properties.meta),-1!==e.events.currentModeName().indexOf("draw")&&(r.mouse=l),e.ui.queueMapClasses(r),e.ui.updateMapClasses(),n[0]}function F(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function D(t,e,n){void 0===n&&(n={});var r=null!=n.fineTolerance?n.fineTolerance:4,o=null!=n.grossTolerance?n.grossTolerance:12,i=null!=n.interval?n.interval:500;t.point=t.point||e.point,t.time=t.time||e.time;var a=F(t.point,e.point);return a<r||a<o&&e.time-t.time<i}function H(t,e,n){void 0===n&&(n={});var r=null!=n.tolerance?n.tolerance:25,o=null!=n.interval?n.interval:250;return t.point=t.point||e.point,t.time=t.time||e.time,F(t.point,e.point)<r&&e.time-t.time<o}function z(t,e){return t(e={exports:{}},e.exports),e.exports}var U=z((function(t){var e=t.exports=function(t,n){if(n||(n=16),void 0===t&&(t=128),t<=0)return"0";for(var r=Math.log(Math.pow(2,t))/Math.log(n),o=2;r===1/0;o*=2)r=Math.log(Math.pow(2,t/o))/Math.log(n)*o;var i=r-Math.floor(r),a="";for(o=0;o<Math.floor(r);o++)a=Math.floor(Math.random()*n).toString(n)+a;if(i){var s=Math.pow(n,i);a=Math.floor(Math.random()*s).toString(n)+a}var c=parseInt(a,n);return c!==1/0&&c>=Math.pow(2,t)?e(t,n):a};e.rack=function(t,n,r){var o=function(o){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");t+=r}var s=e(t,n)}while(Object.hasOwnProperty.call(i,s));return i[s]=o,s},i=o.hats={};return o.get=function(t){return o.hats[t]},o.set=function(t,e){return o.hats[t]=e,o},o.bits=t||128,o.base=n||16,o}})),B=function(t,e){this.ctx=t,this.properties=e.properties||{},this.coordinates=e.geometry.coordinates,this.id=e.id||U(),this.type=e.geometry.type};B.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},B.prototype.incomingCoords=function(t){this.setCoordinates(t)},B.prototype.setCoordinates=function(t){this.coordinates=t,this.changed()},B.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},B.prototype.setProperty=function(t,e){this.properties[t]=e},B.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:g,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},B.prototype.internal=function(t){var e={id:this.id,meta:M,"meta:type":this.type,active:_,mode:t};if(this.ctx.options.userProperties)for(var n in this.properties)e["user_"+n]=this.properties[n];return{type:g,properties:e,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var V=function(t,e){B.call(this,t,e)};(V.prototype=Object.create(B.prototype)).isValid=function(){return"number"==typeof this.coordinates[0]&&"number"==typeof this.coordinates[1]},V.prototype.updateCoordinate=function(t,e,n){this.coordinates=3===arguments.length?[e,n]:[t,e],this.changed()},V.prototype.getCoordinate=function(){return this.getCoordinates()};var G=function(t,e){B.call(this,t,e)};(G.prototype=Object.create(B.prototype)).isValid=function(){return this.coordinates.length>1},G.prototype.addCoordinate=function(t,e,n){this.changed();var r=parseInt(t,10);this.coordinates.splice(r,0,[e,n])},G.prototype.getCoordinate=function(t){var e=parseInt(t,10);return JSON.parse(JSON.stringify(this.coordinates[e]))},G.prototype.removeCoordinate=function(t){this.changed(),this.coordinates.splice(parseInt(t,10),1)},G.prototype.updateCoordinate=function(t,e,n){var r=parseInt(t,10);this.coordinates[r]=[e,n],this.changed()};var W=function(t,e){B.call(this,t,e),this.coordinates=this.coordinates.map((function(t){return t.slice(0,-1)}))};(W.prototype=Object.create(B.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every((function(t){return t.length>2}))},W.prototype.incomingCoords=function(t){this.coordinates=t.map((function(t){return t.slice(0,-1)})),this.changed()},W.prototype.setCoordinates=function(t){this.coordinates=t,this.changed()},W.prototype.addCoordinate=function(t,e,n){this.changed();var r=t.split(".").map((function(t){return parseInt(t,10)}));this.coordinates[r[0]].splice(r[1],0,[e,n])},W.prototype.removeCoordinate=function(t){this.changed();var e=t.split(".").map((function(t){return parseInt(t,10)})),n=this.coordinates[e[0]];n&&(n.splice(e[1],1),n.length<3&&this.coordinates.splice(e[0],1))},W.prototype.getCoordinate=function(t){var e=t.split(".").map((function(t){return parseInt(t,10)})),n=this.coordinates[e[0]];return JSON.parse(JSON.stringify(n[e[1]]))},W.prototype.getCoordinates=function(){return this.coordinates.map((function(t){return t.concat([t[0]])}))},W.prototype.updateCoordinate=function(t,e,n){this.changed();var r=t.split("."),o=parseInt(r[0],10),i=parseInt(r[1],10);void 0===this.coordinates[o]&&(this.coordinates[o]=[]),this.coordinates[o][i]=[e,n]};var q={MultiPoint:V,MultiLineString:G,MultiPolygon:W},J=function(t,e,n,r,o){var i=n.split("."),a=parseInt(i[0],10),s=i[1]?i.slice(1).join("."):null;return t[a][e](s,r,o)},Z=function(t,e){if(B.call(this,t,e),delete this.coordinates,this.model=q[e.geometry.type],void 0===this.model)throw new TypeError(e.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(e.geometry.coordinates)};function Y(t){this.map=t.map,this.drawConfig=JSON.parse(JSON.stringify(t.options||{})),this._ctx=t}(Z.prototype=Object.create(B.prototype))._coordinatesToFeatures=function(t){var e=this,n=this.model.bind(this);return t.map((function(t){return new n(e.ctx,{id:U(),type:g,properties:{},geometry:{coordinates:t,type:e.type.replace("Multi","")}})}))},Z.prototype.isValid=function(){return this.features.every((function(t){return t.isValid()}))},Z.prototype.setCoordinates=function(t){this.features=this._coordinatesToFeatures(t),this.changed()},Z.prototype.getCoordinate=function(t){return J(this.features,"getCoordinate",t)},Z.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map((function(t){return t.type===m?t.getCoordinates():t.coordinates}))))},Z.prototype.updateCoordinate=function(t,e,n){J(this.features,"updateCoordinate",t,e,n),this.changed()},Z.prototype.addCoordinate=function(t,e,n){J(this.features,"addCoordinate",t,e,n),this.changed()},Z.prototype.removeCoordinate=function(t){J(this.features,"removeCoordinate",t),this.changed()},Z.prototype.getFeatures=function(){return this.features},Y.prototype.setSelected=function(t){return this._ctx.store.setSelected(t)},Y.prototype.setSelectedCoordinates=function(t){var e=this;this._ctx.store.setSelectedCoordinates(t),t.reduce((function(t,n){return void 0===t[n.feature_id]&&(t[n.feature_id]=!0,e._ctx.store.get(n.feature_id).changed()),t}),{})},Y.prototype.getSelected=function(){return this._ctx.store.getSelected()},Y.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},Y.prototype.isSelected=function(t){return this._ctx.store.isSelected(t)},Y.prototype.getFeature=function(t){return this._ctx.store.get(t)},Y.prototype.select=function(t){return this._ctx.store.select(t)},Y.prototype.deselect=function(t){return this._ctx.store.deselect(t)},Y.prototype.deleteFeature=function(t,e){return void 0===e&&(e={}),this._ctx.store.delete(t,e)},Y.prototype.addFeature=function(t){return this._ctx.store.add(t)},Y.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},Y.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},Y.prototype.setActionableState=function(t){void 0===t&&(t={});var e={trash:t.trash||!1,combineFeatures:t.combineFeatures||!1,uncombineFeatures:t.uncombineFeatures||!1};return this._ctx.events.actionable(e)},Y.prototype.changeMode=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),this._ctx.events.changeMode(t,e,n)},Y.prototype.updateUIClasses=function(t){return this._ctx.ui.queueMapClasses(t)},Y.prototype.activateUIButton=function(t){return this._ctx.ui.setActiveButton(t)},Y.prototype.featuresAt=function(t,e,n){if(void 0===n&&(n="click"),"click"!==n&&"touch"!==n)throw new Error("invalid buffer type");return A[n](t,e,this._ctx)},Y.prototype.newFeature=function(t){var e=t.geometry.type;return e===v?new V(this._ctx,t):e===y?new G(this._ctx,t):e===m?new W(this._ctx,t):new Z(this._ctx,t)},Y.prototype.isInstanceOf=function(t,e){if(t===v)return e instanceof V;if(t===y)return e instanceof G;if(t===m)return e instanceof W;if("MultiFeature"===t)return e instanceof Z;throw new Error("Unknown feature class: "+t)},Y.prototype.doRender=function(t){return this._ctx.store.featureChanged(t)},Y.prototype.onSetup=function(){},Y.prototype.onDrag=function(){},Y.prototype.onClick=function(){},Y.prototype.onMouseMove=function(){},Y.prototype.onMouseDown=function(){},Y.prototype.onMouseUp=function(){},Y.prototype.onMouseOut=function(){},Y.prototype.onKeyUp=function(){},Y.prototype.onKeyDown=function(){},Y.prototype.onTouchStart=function(){},Y.prototype.onTouchMove=function(){},Y.prototype.onTouchEnd=function(){},Y.prototype.onTap=function(){},Y.prototype.onStop=function(){},Y.prototype.onTrash=function(){},Y.prototype.onCombineFeature=function(){},Y.prototype.onUncombineFeature=function(){},Y.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};var X={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},K=Object.keys(X);function Q(t){return[].concat(t).filter((function(t){return void 0!==t}))}function $(){var t=this;if(!t.ctx.map||void 0===t.ctx.map.getSource(c))return l();var e=t.ctx.events.currentModeName();t.ctx.ui.queueMapClasses({mode:e});var n=[],r=[];t.isDirty?r=t.getAllIds():(n=t.getChangedIds().filter((function(e){return void 0!==t.get(e)})),r=t.sources.hot.filter((function(e){return e.properties.id&&-1===n.indexOf(e.properties.id)&&void 0!==t.get(e.properties.id)})).map((function(t){return t.properties.id}))),t.sources.hot=[];var o=t.sources.cold.length;t.sources.cold=t.isDirty?[]:t.sources.cold.filter((function(t){var e=t.properties.id||t.properties.parent;return-1===n.indexOf(e)}));var i=o!==t.sources.cold.length||r.length>0;function a(n,r){var o=t.get(n).internal(e);t.ctx.events.currentModeRender(o,(function(e){t.sources[r].push(e)}))}if(n.forEach((function(t){return a(t,"hot")})),r.forEach((function(t){return a(t,"cold")})),i&&t.ctx.map.getSource(u).setData({type:b,features:t.sources.cold}),t.ctx.map.getSource(c).setData({type:b,features:t.sources.hot}),t._emitSelectionChange&&(t.ctx.map.fire("draw.selectionchange",{features:t.getSelected().map((function(t){return t.toGeoJSON()})),points:t.getSelectedCoordinates().map((function(t){return{type:g,properties:{},geometry:{type:v,coordinates:t.coordinates}}}))}),t._emitSelectionChange=!1),t._deletedFeaturesToEmit.length){var s=t._deletedFeaturesToEmit.map((function(t){return t.toGeoJSON()}));t._deletedFeaturesToEmit=[],t.ctx.map.fire("draw.delete",{features:s})}function l(){t.isDirty=!1,t.clearChangedIds()}l(),t.ctx.map.fire("draw.render",{})}function tt(t){var e,n=this;this._features={},this._featureIds=new L,this._selectedFeatureIds=new L,this._selectedCoordinates=[],this._changedFeatureIds=new L,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=t,this.sources={hot:[],cold:[]},this.render=function(){e||(e=requestAnimationFrame((function(){e=null,$.call(n)})))},this.isDirty=!1}function et(t,e){var n=t._selectedCoordinates.filter((function(e){return t._selectedFeatureIds.has(e.feature_id)}));t._selectedCoordinates.length===n.length||e.silent||(t._emitSelectionChange=!0),t._selectedCoordinates=n}tt.prototype.createRenderBatch=function(){var t=this,e=this.render,n=0;return this.render=function(){n++},function(){t.render=e,n>0&&t.render()}},tt.prototype.setDirty=function(){return this.isDirty=!0,this},tt.prototype.featureChanged=function(t){return this._changedFeatureIds.add(t),this},tt.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},tt.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},tt.prototype.getAllIds=function(){return this._featureIds.values()},tt.prototype.add=function(t){return this.featureChanged(t.id),this._features[t.id]=t,this._featureIds.add(t.id),this},tt.prototype.delete=function(t,e){var n=this;return void 0===e&&(e={}),Q(t).forEach((function(t){n._featureIds.has(t)&&(n._featureIds.delete(t),n._selectedFeatureIds.delete(t),e.silent||-1===n._deletedFeaturesToEmit.indexOf(n._features[t])&&n._deletedFeaturesToEmit.push(n._features[t]),delete n._features[t],n.isDirty=!0)})),et(this,e),this},tt.prototype.get=function(t){return this._features[t]},tt.prototype.getAll=function(){var t=this;return Object.keys(this._features).map((function(e){return t._features[e]}))},tt.prototype.select=function(t,e){var n=this;return void 0===e&&(e={}),Q(t).forEach((function(t){n._selectedFeatureIds.has(t)||(n._selectedFeatureIds.add(t),n._changedFeatureIds.add(t),e.silent||(n._emitSelectionChange=!0))})),this},tt.prototype.deselect=function(t,e){var n=this;return void 0===e&&(e={}),Q(t).forEach((function(t){n._selectedFeatureIds.has(t)&&(n._selectedFeatureIds.delete(t),n._changedFeatureIds.add(t),e.silent||(n._emitSelectionChange=!0))})),et(this,e),this},tt.prototype.clearSelected=function(t){return void 0===t&&(t={}),this.deselect(this._selectedFeatureIds.values(),{silent:t.silent}),this},tt.prototype.setSelected=function(t,e){var n=this;return void 0===e&&(e={}),t=Q(t),this.deselect(this._selectedFeatureIds.values().filter((function(e){return-1===t.indexOf(e)})),{silent:e.silent}),this.select(t.filter((function(t){return!n._selectedFeatureIds.has(t)})),{silent:e.silent}),this},tt.prototype.setSelectedCoordinates=function(t){return this._selectedCoordinates=t,this._emitSelectionChange=!0,this},tt.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},tt.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},tt.prototype.getSelected=function(){var t=this;return this._selectedFeatureIds.values().map((function(e){return t.get(e)}))},tt.prototype.getSelectedCoordinates=function(){var t=this;return this._selectedCoordinates.map((function(e){return{coordinates:t.get(e.feature_id).getCoordinate(e.coord_path)}}))},tt.prototype.isSelected=function(t){return this._selectedFeatureIds.has(t)},tt.prototype.setFeatureProperty=function(t,e,n){this.get(t).setProperty(e,n),this.featureChanged(t)},tt.prototype.storeMapConfig=function(){var t=this;I.forEach((function(e){t.ctx.map[e]&&(t._mapInitialConfig[e]=t.ctx.map[e].isEnabled())}))},tt.prototype.restoreMapConfig=function(){var t=this;Object.keys(this._mapInitialConfig).forEach((function(e){t._mapInitialConfig[e]?t.ctx.map[e].enable():t.ctx.map[e].disable()}))},tt.prototype.getInitialConfigValue=function(t){return void 0===this._mapInitialConfig[t]||this._mapInitialConfig[t]};var nt=function(){for(var t=arguments,e={},n=0;n<arguments.length;n++){var r=t[n];for(var o in r)rt.call(r,o)&&(e[o]=r[o])}return e},rt=Object.prototype.hasOwnProperty,ot=["mode","feature","mouse"];function it(e){var n=null,r=null,o={onRemove:function(){return e.map.off("load",o.connect),clearInterval(r),o.removeLayers(),e.store.restoreMapConfig(),e.ui.removeButtons(),e.events.removeEventListeners(),e.ui.clearMapClasses(),e.map=null,e.container=null,e.store=null,n&&n.parentNode&&n.parentNode.removeChild(n),n=null,this},connect:function(){e.map.off("load",o.connect),clearInterval(r),o.addLayers(),e.store.storeMapConfig(),e.events.addEventListeners()},onAdd:function(i){var a=i.fire;return i.fire=function(t,e){var n=arguments;return 1===a.length&&1!==arguments.length&&(n=[nt({},{type:t},e)]),a.apply(i,n)},e.map=i,e.events=function(e){var n=Object.keys(e.options.modes).reduce((function(t,n){return t[n]=function(t){var e=Object.keys(t);return function(n,r){void 0===r&&(r={});var o={},i=e.reduce((function(e,n){return e[n]=t[n],e}),new Y(n));return{start:function(){var e=this;o=i.onSetup(r),K.forEach((function(n){var r,a=X[n],s=function(){return!1};t[a]&&(s=function(){return!0}),e.on(n,s,(r=a,function(t){return i[r](o,t)}))}))},stop:function(){i.onStop(o)},trash:function(){i.onTrash(o)},combineFeatures:function(){i.onCombineFeatures(o)},uncombineFeatures:function(){i.onUncombineFeatures(o)},render:function(t,e){i.toDisplayFeatures(o,t,e)}}}}(e.options.modes[n]),t}),{}),r={},o={},i={},a=null,s=null;i.drag=function(t,n){n({point:t.point,time:(new Date).getTime()})?(e.ui.queueMapClasses({mouse:"drag"}),s.drag(t)):t.originalEvent.stopPropagation()},i.mousedrag=function(t){i.drag(t,(function(t){return!D(r,t)}))},i.touchdrag=function(t){i.drag(t,(function(t){return!H(o,t)}))},i.mousemove=function(t){if(1===(void 0!==t.originalEvent.buttons?t.originalEvent.buttons:t.originalEvent.which))return i.mousedrag(t);var n=R(t,e);t.featureTarget=n,s.mousemove(t)},i.mousedown=function(t){r={time:(new Date).getTime(),point:t.point};var n=R(t,e);t.featureTarget=n,s.mousedown(t)},i.mouseup=function(t){var n=R(t,e);t.featureTarget=n,D(r,{point:t.point,time:(new Date).getTime()})?s.click(t):s.mouseup(t)},i.mouseout=function(t){s.mouseout(t)},i.touchstart=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled){o={time:(new Date).getTime(),point:t.point};var n=A.touch(t,null,e)[0];t.featureTarget=n,s.touchstart(t)}},i.touchmove=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled)return s.touchmove(t),i.touchdrag(t)},i.touchend=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled){var n=A.touch(t,null,e)[0];t.featureTarget=n,H(o,{time:(new Date).getTime(),point:t.point})?s.tap(t):s.touchend(t)}};var c=function(t){return!(8===t||46===t||t>=48&&t<=57)};function u(r,o,i){void 0===i&&(i={}),s.stop();var c=n[r];if(void 0===c)throw new Error(r+" is not valid");a=r;var u=c(e,o);s=t(u,e),i.silent||e.map.fire("draw.modechange",{mode:r}),e.store.setDirty(),e.store.render()}i.keydown=function(t){"mapboxgl-canvas"===(t.srcElement||t.target).classList[0]&&(8!==t.keyCode&&46!==t.keyCode||!e.options.controls.trash?c(t.keyCode)?s.keydown(t):49===t.keyCode&&e.options.controls.point?u(E.DRAW_POINT):50===t.keyCode&&e.options.controls.line_string?u(E.DRAW_LINE_STRING):51===t.keyCode&&e.options.controls.polygon&&u(E.DRAW_POLYGON):(t.preventDefault(),s.trash()))},i.keyup=function(t){c(t.keyCode)&&s.keyup(t)},i.zoomend=function(){e.store.changeZoom()},i.data=function(t){if("style"===t.dataType){var n=e.setup,r=e.map,o=e.options,i=e.store;o.styles.some((function(t){return r.getLayer(t.id)}))||(n.addLayers(),i.setDirty(),i.render())}};var l={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){a=e.options.defaultMode,s=t(n[a](e),e)},changeMode:u,actionable:function(t){var n=!1;Object.keys(t).forEach((function(e){if(void 0===l[e])throw new Error("Invalid action type");l[e]!==t[e]&&(n=!0),l[e]=t[e]})),n&&e.map.fire("draw.actionable",{actions:l})},currentModeName:function(){return a},currentModeRender:function(t,e){return s.render(t,e)},fire:function(t,e){i[t]&&i[t](e)},addEventListeners:function(){e.map.on("mousemove",i.mousemove),e.map.on("mousedown",i.mousedown),e.map.on("mouseup",i.mouseup),e.map.on("data",i.data),e.map.on("touchmove",i.touchmove),e.map.on("touchstart",i.touchstart),e.map.on("touchend",i.touchend),e.container.addEventListener("mouseout",i.mouseout),e.options.keybindings&&(e.container.addEventListener("keydown",i.keydown),e.container.addEventListener("keyup",i.keyup))},removeEventListeners:function(){e.map.off("mousemove",i.mousemove),e.map.off("mousedown",i.mousedown),e.map.off("mouseup",i.mouseup),e.map.off("data",i.data),e.map.off("touchmove",i.touchmove),e.map.off("touchstart",i.touchstart),e.map.off("touchend",i.touchend),e.container.removeEventListener("mouseout",i.mouseout),e.options.keybindings&&(e.container.removeEventListener("keydown",i.keydown),e.container.removeEventListener("keyup",i.keyup))},trash:function(t){s.trash(t)},combineFeatures:function(){s.combineFeatures()},uncombineFeatures:function(){s.uncombineFeatures()},getMode:function(){return a}}}(e),e.ui=function(t){var e={},n=null,r={mode:null,feature:null,mouse:null},o={mode:null,feature:null,mouse:null};function i(t){o=nt(o,t)}function a(){var e,n;if(t.container){var i=[],a=[];ot.forEach((function(t){o[t]!==r[t]&&(i.push(t+"-"+r[t]),null!==o[t]&&a.push(t+"-"+o[t]))})),i.length>0&&(e=t.container.classList).remove.apply(e,i),a.length>0&&(n=t.container.classList).add.apply(n,a),r=nt(r,o)}}function c(t,e){void 0===e&&(e={});var r=document.createElement("button");return r.className="mapbox-gl-draw_ctrl-draw-btn "+e.className,r.setAttribute("title",e.title),e.container.appendChild(r),r.addEventListener("click",(function(r){if(r.preventDefault(),r.stopPropagation(),r.target===n)return u(),void e.onDeactivate();l(t),e.onActivate()}),!0),r}function u(){n&&(n.classList.remove(s),n=null)}function l(t){u();var r=e[t];r&&r&&"trash"!==t&&(r.classList.add(s),n=r)}return{setActiveButton:l,queueMapClasses:i,updateMapClasses:a,clearMapClasses:function(){i({mode:null,feature:null,mouse:null}),a()},addButtons:function(){var n=t.options.controls,r=document.createElement("div");return r.className="mapboxgl-ctrl-group mapboxgl-ctrl",n?(n[p.LINE]&&(e[p.LINE]=c(p.LINE,{container:r,className:"mapbox-gl-draw_line",title:"LineString tool "+(t.options.keybindings?"(l)":""),onActivate:function(){return t.events.changeMode(E.DRAW_LINE_STRING)},onDeactivate:function(){return t.events.trash()}})),n[p.POLYGON]&&(e[p.POLYGON]=c(p.POLYGON,{container:r,className:"mapbox-gl-draw_polygon",title:"Polygon tool "+(t.options.keybindings?"(p)":""),onActivate:function(){return t.events.changeMode(E.DRAW_POLYGON)},onDeactivate:function(){return t.events.trash()}})),n[p.POINT]&&(e[p.POINT]=c(p.POINT,{container:r,className:"mapbox-gl-draw_point",title:"Marker tool "+(t.options.keybindings?"(m)":""),onActivate:function(){return t.events.changeMode(E.DRAW_POINT)},onDeactivate:function(){return t.events.trash()}})),n.trash&&(e.trash=c("trash",{container:r,className:"mapbox-gl-draw_trash",title:"Delete",onActivate:function(){t.events.trash()}})),n.combine_features&&(e.combine_features=c("combineFeatures",{container:r,className:"mapbox-gl-draw_combine",title:"Combine",onActivate:function(){t.events.combineFeatures()}})),n.uncombine_features&&(e.uncombine_features=c("uncombineFeatures",{container:r,className:"mapbox-gl-draw_uncombine",title:"Uncombine",onActivate:function(){t.events.uncombineFeatures()}})),r):r},removeButtons:function(){Object.keys(e).forEach((function(t){var n=e[t];n.parentNode&&n.parentNode.removeChild(n),delete e[t]}))}}}(e),e.container=i.getContainer(),e.store=new tt(e),n=e.ui.addButtons(),e.options.boxSelect&&(i.boxZoom.disable(),i.dragPan.disable(),i.dragPan.enable()),i.loaded()?o.connect():(i.on("load",o.connect),r=setInterval((function(){i.loaded()&&o.connect()}),16)),e.events.start(),n},addLayers:function(){e.map.addSource(u,{data:{type:b,features:[]},type:"geojson"}),e.map.addSource(c,{data:{type:b,features:[]},type:"geojson"}),e.options.styles.forEach((function(t){e.map.addLayer(t)})),e.store.setDirty(!0),e.store.render()},removeLayers:function(){e.options.styles.forEach((function(t){e.map.getLayer(t.id)&&e.map.removeLayer(t.id)})),e.map.getSource(u)&&e.map.removeSource(u),e.map.getSource(c)&&e.map.removeSource(c)}};return e.setup=o,o}function at(t){return function(e){var n=e.featureTarget;return!!n&&!!n.properties&&n.properties.meta===t}}function st(t){return!!t.featureTarget&&!!t.featureTarget.properties&&t.featureTarget.properties.active===j&&t.featureTarget.properties.meta===M}function ct(t){return!!t.featureTarget&&!!t.featureTarget.properties&&t.featureTarget.properties.active===_&&t.featureTarget.properties.meta===M}function ut(t){return void 0===t.featureTarget}function lt(t){var e=t.featureTarget;return!!e&&!!e.properties&&e.properties.meta===w}function dt(t){return!!t.originalEvent&&!0===t.originalEvent.shiftKey}function ht(t){return 27===t.keyCode}function ft(t){return 13===t.keyCode}var pt=gt;function gt(t,e){this.x=t,this.y=e}function mt(t,e){var n=e.getBoundingClientRect();return new pt(t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0))}function yt(t,e,n,r){return{type:g,properties:{meta:w,parent:t,coord_path:n,active:r?j:_},geometry:{type:v,coordinates:e}}}function vt(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null);var r,o=t.geometry,i=o.type,a=o.coordinates,s=t.properties&&t.properties.id,c=[];function u(t,n){var r="",o=null;t.forEach((function(t,i){var a=null!=n?n+"."+i:String(i),u=yt(s,t,a,l(a));if(e.midpoints&&o){var d=function(t,e,n){var r=e.geometry.coordinates,o=n.geometry.coordinates;if(r[1]>85||r[1]<-85||o[1]>85||o[1]<-85)return null;var i={lng:(r[0]+o[0])/2,lat:(r[1]+o[1])/2};return{type:g,properties:{meta:C,parent:t,lng:i.lng,lat:i.lat,coord_path:n.properties.coord_path},geometry:{type:v,coordinates:[i.lng,i.lat]}}}(s,o,u);d&&c.push(d)}o=u;var h=JSON.stringify(t);r!==h&&c.push(u),0===i&&(r=h)}))}function l(t){return!!e.selectedPaths&&-1!==e.selectedPaths.indexOf(t)}return i===v?c.push(yt(s,a,n,l(n))):i===m?a.forEach((function(t,e){u(t,null!==n?n+"."+e:String(e))})):i===y?u(a,n):0===i.indexOf(x)&&(r=i.replace(x,""),a.forEach((function(n,o){var i={type:g,properties:t.properties,geometry:{type:r,coordinates:n}};c=c.concat(vt(i,e,o))}))),c}gt.prototype={clone:function(){return new gt(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,o=n*this.x+e*this.y;return this.x=r,this.y=o,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),o=e.x+n*(this.x-e.x)-r*(this.y-e.y),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=o,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},gt.convert=function(t){return t instanceof gt?t:Array.isArray(t)?new gt(t[0],t[1]):t};var bt=function(t){setTimeout((function(){t.map&&t.map.doubleClickZoom&&t._ctx&&t._ctx.store&&t._ctx.store.getInitialConfigValue&&t._ctx.store.getInitialConfigValue("doubleClickZoom")&&t.map.doubleClickZoom.enable()}),0)},xt=function(t){setTimeout((function(){t.map&&t.map.doubleClickZoom&&t.map.doubleClickZoom.disable()}),0)},Et=function(t){if(!t||!t.type)return null;var e=Ot[t.type];return e?"geometry"===e?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===e?{type:"FeatureCollection",features:[t]}:"featurecollection"===e?t:void 0:null},Ot={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function St(t){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.reduce((function(t,e){return t.concat(St(e))}),[]),t;case"Feature":return t.geometry?St(t.geometry).map((function(e){var n={type:"Feature",properties:JSON.parse(JSON.stringify(t.properties)),geometry:e};return void 0!==t.id&&(n.id=t.id),n})):[t];case"MultiPoint":return t.coordinates.map((function(t){return{type:"Point",coordinates:t}}));case"MultiPolygon":return t.coordinates.map((function(t){return{type:"Polygon",coordinates:t}}));case"MultiLineString":return t.coordinates.map((function(t){return{type:"LineString",coordinates:t}}));case"GeometryCollection":return t.geometries.map(St).reduce((function(t,e){return t.concat(e)}),[]);case"Point":case"Polygon":case"LineString":return[t]}}var Mt=z((function(t){var e=t.exports=function(t){return new n(t)};function n(t){this.value=t}function r(t,e,n){var r=[],a=[],l=!0;return function t(d){var h=n?o(d):d,f={},p=!0,g={node:h,node_:d,path:[].concat(r),parent:a[a.length-1],parents:a,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(t,e){g.isRoot||(g.parent.node[g.key]=t),g.node=t,e&&(p=!1)},delete:function(t){delete g.parent.node[g.key],t&&(p=!1)},remove:function(t){s(g.parent.node)?g.parent.node.splice(g.key,1):delete g.parent.node[g.key],t&&(p=!1)},keys:null,before:function(t){f.before=t},after:function(t){f.after=t},pre:function(t){f.pre=t},post:function(t){f.post=t},stop:function(){l=!1},block:function(){p=!1}};if(!l)return g;function m(){if("object"==typeof g.node&&null!==g.node){g.keys&&g.node_===g.node||(g.keys=i(g.node)),g.isLeaf=0==g.keys.length;for(var t=0;t<a.length;t++)if(a[t].node_===d){g.circular=a[t];break}}else g.isLeaf=!0,g.keys=null;g.notLeaf=!g.isLeaf,g.notRoot=!g.isRoot}m();var y=e.call(g,g.node);return void 0!==y&&g.update&&g.update(y),f.before&&f.before.call(g,g.node),p?("object"!=typeof g.node||null===g.node||g.circular||(a.push(g),m(),c(g.keys,(function(e,o){r.push(e),f.pre&&f.pre.call(g,g.node[e],e);var i=t(g.node[e]);n&&u.call(g.node,e)&&(g.node[e]=i.node),i.isLast=o==g.keys.length-1,i.isFirst=0==o,f.post&&f.post.call(g,i),r.pop()})),a.pop()),f.after&&f.after.call(g,g.node),g):g}(t).node}function o(t){if("object"==typeof t&&null!==t){var e;if(s(t))e=[];else if("[object Date]"===a(t))e=new Date(t.getTime?t.getTime():t);else if(function(t){return"[object RegExp]"===a(t)}(t))e=new RegExp(t);else if(function(t){return"[object Error]"===a(t)}(t))e={message:t.message};else if(function(t){return"[object Boolean]"===a(t)}(t))e=new Boolean(t);else if(function(t){return"[object Number]"===a(t)}(t))e=new Number(t);else if(function(t){return"[object String]"===a(t)}(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var n=t.constructor&&t.constructor.prototype||t.__proto__||{},r=function(){};r.prototype=n,e=new r}return c(i(t),(function(n){e[n]=t[n]})),e}return t}n.prototype.get=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!u.call(e,r)){e=void 0;break}e=e[r]}return e},n.prototype.has=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!u.call(e,r))return!1;e=e[r]}return!0},n.prototype.set=function(t,e){for(var n=this.value,r=0;r<t.length-1;r++){var o=t[r];u.call(n,o)||(n[o]={}),n=n[o]}return n[t[r]]=e,e},n.prototype.map=function(t){return r(this.value,t,!0)},n.prototype.forEach=function(t){return this.value=r(this.value,t,!1),this.value},n.prototype.reduce=function(t,e){var n=1===arguments.length,r=n?this.value:e;return this.forEach((function(e){this.isRoot&&n||(r=t.call(this,r,e))})),r},n.prototype.paths=function(){var t=[];return this.forEach((function(e){t.push(this.path)})),t},n.prototype.nodes=function(){var t=[];return this.forEach((function(e){t.push(this.node)})),t},n.prototype.clone=function(){var t=[],e=[];return function n(r){for(var a=0;a<t.length;a++)if(t[a]===r)return e[a];if("object"==typeof r&&null!==r){var s=o(r);return t.push(r),e.push(s),c(i(r),(function(t){s[t]=n(r[t])})),t.pop(),e.pop(),s}return r}(this.value)};var i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function a(t){return Object.prototype.toString.call(t)}var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)};c(i(n.prototype),(function(t){e[t]=function(e){var r=[].slice.call(arguments,1),o=new n(e);return o[t].apply(o,r)}}));var u=Object.hasOwnProperty||function(t,e){return e in t}})),Ct=wt;function wt(t){if(!(this instanceof wt))return new wt(t);this._bbox=t||[1/0,1/0,-1/0,-1/0],this._valid=!!t}wt.prototype.include=function(t){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[0]),this._bbox[3]=Math.max(this._bbox[3],t[1]),this},wt.prototype.equals=function(t){var e;return e=t instanceof wt?t.bbox():t,this._bbox[0]==e[0]&&this._bbox[1]==e[1]&&this._bbox[2]==e[2]&&this._bbox[3]==e[3]},wt.prototype.center=function(t){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},wt.prototype.union=function(t){var e;return this._valid=!0,e=t instanceof wt?t.bbox():t,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[2]),this._bbox[3]=Math.max(this._bbox[3],e[3]),this},wt.prototype.bbox=function(){return this._valid?this._bbox:null},wt.prototype.contains=function(t){if(!t)return this._fastContains();if(!this._valid)return null;var e=t[0],n=t[1];return this._bbox[0]<=e&&this._bbox[1]<=n&&this._bbox[2]>=e&&this._bbox[3]>=n},wt.prototype.intersect=function(t){return this._valid?(e=t instanceof wt?t.bbox():t,!(this._bbox[0]>e[2]||this._bbox[2]<e[0]||this._bbox[3]<e[1]||this._bbox[1]>e[3])):null;var e},wt.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var t="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",t)},wt.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var jt={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},_t=Object.keys(jt),It=function(t){return Tt(t).bbox()};function Tt(t){for(var e=Ct(),n=function(t){if(!t)return[];var e=St(Et(t)),n=[];return e.features.forEach((function(t){t.geometry&&(n=n.concat(function t(e){return Array.isArray(e)&&e.length&&"number"==typeof e[0]?[e]:e.reduce((function(e,n){return Array.isArray(n)&&Array.isArray(n[0])?e.concat(t(n)):(e.push(n),e)}),[])}(t.geometry.coordinates)))})),n}(t),r=0;r<n.length;r++)e.include(n[r]);return e}function kt(t,e){var n=-90,r=90,o=-90,i=90,a=270,s=-270;t.forEach((function(t){var e=It(t),c=e[1],u=e[3],l=e[0],d=e[2];c>n&&(n=c),u<r&&(r=u),u>o&&(o=u),c<i&&(i=c),l<a&&(a=l),d>s&&(s=d)}));var c=e;return n+c.lat>85&&(c.lat=85-n),o+c.lat>90&&(c.lat=90-o),r+c.lat<-85&&(c.lat=-85-r),i+c.lat<-90&&(c.lat=-90-i),a+c.lng<=-270&&(c.lng+=360*Math.ceil(Math.abs(c.lng)/360)),s+c.lng>=270&&(c.lng-=360*Math.ceil(Math.abs(c.lng)/360)),c}function Lt(t,e){var n=kt(t.map((function(t){return t.toGeoJSON()})),e);t.forEach((function(t){var e,r=t.getCoordinates(),o=function(t){var e={lng:t[0]+n.lng,lat:t[1]+n.lat};return[e.lng,e.lat]},i=function(t){return t.map((function(t){return o(t)}))};t.type===v?e=o(r):t.type===y||"MultiPoint"===t.type?e=r.map(o):t.type===m||"MultiLineString"===t.type?e=r.map(i):"MultiPolygon"===t.type&&(e=r.map((function(t){return t.map((function(t){return i(t)}))}))),t.incomingCoords(e)}))}It.polygon=function(t){return Tt(t).polygon()},It.bboxify=function(t){return Mt(t).map((function(t){t&&_t.some((function(e){return!!t[e]&&-1!==jt[e].indexOf(t.type)}))&&(t.bbox=Tt(t).bbox(),this.update(t))}))};var Pt={onSetup:function(t){var e=this,n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:t.featureIds||[]};return this.setSelected(n.initiallySelectedFeatureIds.filter((function(t){return void 0!==e.getFeature(t)}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},fireUpdate:function(){this.map.fire(S,{action:"move",features:this.getSelected().map((function(t){return t.toGeoJSON()}))})},fireActionable:function(){var t=this,e=this.getSelected(),n=e.filter((function(e){return t.isInstanceOf("MultiFeature",e)})),r=!1;if(e.length>1){r=!0;var o=e[0].type.replace("Multi","");e.forEach((function(t){t.type.replace("Multi","")!==o&&(r=!1)}))}var i=n.length>0,a=e.length>0;this.setActionableState({combineFeatures:r,uncombineFeatures:i,trash:a})},getUniqueIds:function(t){return t.length?t.map((function(t){return t.properties.id})).filter((function(t){return void 0!==t})).reduce((function(t,e){return t.add(e),t}),new L).values():[]},stopExtendedInteractions:function(t){t.boxSelectElement&&(t.boxSelectElement.parentNode&&t.boxSelectElement.parentNode.removeChild(t.boxSelectElement),t.boxSelectElement=null),this.map.dragPan.enable(),t.boxSelecting=!1,t.canBoxSelect=!1,t.dragMoving=!1,t.canDragMove=!1},onStop:function(){bt(this)},onMouseMove:function(t){return this.stopExtendedInteractions(t),!0},onMouseOut:function(t){return!t.dragMoving||this.fireUpdate()}};Pt.onTap=Pt.onClick=function(t,e){return ut(e)?this.clickAnywhere(t,e):at(w)(e)?this.clickOnVertex(t,e):function(t){return!!t.featureTarget&&!!t.featureTarget.properties&&t.featureTarget.properties.meta===M}(e)?this.clickOnFeature(t,e):void 0},Pt.clickAnywhere=function(t){var e=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach((function(t){return e.doRender(t)}))),bt(this),this.stopExtendedInteractions(t)},Pt.clickOnVertex=function(t,e){this.changeMode(E.DIRECT_SELECT,{featureId:e.featureTarget.properties.parent,coordPath:e.featureTarget.properties.coord_path,startPos:e.lngLat}),this.updateUIClasses({mouse:d})},Pt.startOnActiveFeature=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),this.doRender(e.featureTarget.properties.id),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},Pt.clickOnFeature=function(t,e){var n=this;xt(this),this.stopExtendedInteractions(t);var r=dt(e),o=this.getSelectedIds(),i=e.featureTarget.properties.id,a=this.isSelected(i);if(!r&&a&&this.getFeature(i).type!==v)return this.changeMode(E.DIRECT_SELECT,{featureId:i});a&&r?(this.deselect(i),this.updateUIClasses({mouse:h}),1===o.length&&bt(this)):!a&&r?(this.select(i),this.updateUIClasses({mouse:d})):a||r||(o.forEach((function(t){return n.doRender(t)})),this.setSelected(i),this.updateUIClasses({mouse:d})),this.doRender(i)},Pt.onMouseDown=function(t,e){return st(e)?this.startOnActiveFeature(t,e):this.drawConfig.boxSelect&&function(t){return!!t.originalEvent&&!!t.originalEvent.shiftKey&&0===t.originalEvent.button}(e)?this.startBoxSelect(t,e):void 0},Pt.startBoxSelect=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),t.boxSelectStartLocation=mt(e.originalEvent,this.map.getContainer()),t.canBoxSelect=!0},Pt.onTouchStart=function(t,e){if(st(e))return this.startOnActiveFeature(t,e)},Pt.onDrag=function(t,e){return t.canDragMove?this.dragMove(t,e):this.drawConfig.boxSelect&&t.canBoxSelect?this.whileBoxSelect(t,e):void 0},Pt.whileBoxSelect=function(t,e){t.boxSelecting=!0,this.updateUIClasses({mouse:l}),t.boxSelectElement||(t.boxSelectElement=document.createElement("div"),t.boxSelectElement.classList.add("mapbox-gl-draw_boxselect"),this.map.getContainer().appendChild(t.boxSelectElement));var n=mt(e.originalEvent,this.map.getContainer()),r=Math.min(t.boxSelectStartLocation.x,n.x),o=Math.max(t.boxSelectStartLocation.x,n.x),i=Math.min(t.boxSelectStartLocation.y,n.y),a=Math.max(t.boxSelectStartLocation.y,n.y),s="translate("+r+"px, "+i+"px)";t.boxSelectElement.style.transform=s,t.boxSelectElement.style.WebkitTransform=s,t.boxSelectElement.style.width=o-r+"px",t.boxSelectElement.style.height=a-i+"px"},Pt.dragMove=function(t,e){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};Lt(this.getSelected(),n),t.dragMoveLocation=e.lngLat},Pt.onMouseUp=function(t,e){var n=this;if(t.dragMoving)this.fireUpdate();else if(t.boxSelecting){var r=[t.boxSelectStartLocation,mt(e.originalEvent,this.map.getContainer())],o=this.featuresAt(null,r,"click"),i=this.getUniqueIds(o).filter((function(t){return!n.isSelected(t)}));i.length&&(this.select(i),i.forEach((function(t){return n.doRender(t)})),this.updateUIClasses({mouse:d}))}this.stopExtendedInteractions(t)},Pt.toDisplayFeatures=function(t,e,n){e.properties.active=this.isSelected(e.properties.id)?j:_,n(e),this.fireActionable(),e.properties.active===j&&e.geometry.type!==v&&vt(e).forEach(n)},Pt.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},Pt.onCombineFeatures=function(){var t=this.getSelected();if(!(0===t.length||t.length<2)){for(var e=[],n=[],r=t[0].type.replace("Multi",""),o=0;o<t.length;o++){var i=t[o];if(i.type.replace("Multi","")!==r)return;i.type.includes("Multi")?i.getCoordinates().forEach((function(t){e.push(t)})):e.push(i.getCoordinates()),n.push(i.toGeoJSON())}if(n.length>1){var a=this.newFeature({type:g,properties:n[0].properties,geometry:{type:"Multi"+r,coordinates:e}});this.addFeature(a),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([a.id]),this.map.fire("draw.combine",{createdFeatures:[a.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},Pt.onUncombineFeatures=function(){var t=this,e=this.getSelected();if(0!==e.length){for(var n=[],r=[],o=function(o){var i=e[o];t.isInstanceOf("MultiFeature",i)&&(i.getFeatures().forEach((function(e){t.addFeature(e),e.properties=i.properties,n.push(e.toGeoJSON()),t.select([e.id])})),t.deleteFeature(i.id,{silent:!0}),r.push(i.toGeoJSON()))},i=0;i<e.length;i++)o(i);n.length>1&&this.map.fire("draw.uncombine",{createdFeatures:n,deletedFeatures:r}),this.fireActionable()}};var At=at(w),Nt=at(C),Rt={fireUpdate:function(){this.map.fire(S,{action:"change_coordinates",features:this.getSelected().map((function(t){return t.toGeoJSON()}))})},fireActionable:function(t){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:t.selectedCoordPaths.length>0})},startDragging:function(t,e){this.map.dragPan.disable(),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},stopDragging:function(t){this.map.dragPan.enable(),t.dragMoving=!1,t.canDragMove=!1,t.dragMoveLocation=null},onVertex:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties,r=t.selectedCoordPaths.indexOf(n.coord_path);dt(e)||-1!==r?dt(e)&&-1===r&&t.selectedCoordPaths.push(n.coord_path):t.selectedCoordPaths=[n.coord_path];var o=this.pathsToCoordinates(t.featureId,t.selectedCoordPaths);this.setSelectedCoordinates(o)},onMidpoint:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties;t.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),t.selectedCoordPaths=[n.coord_path]},pathsToCoordinates:function(t,e){return e.map((function(e){return{feature_id:t,coord_path:e}}))},onFeature:function(t,e){0===t.selectedCoordPaths.length?this.startDragging(t,e):this.stopDragging(t)},dragFeature:function(t,e,n){Lt(this.getSelected(),n),t.dragMoveLocation=e.lngLat},dragVertex:function(t,e,n){for(var r=t.selectedCoordPaths.map((function(e){return t.feature.getCoordinate(e)})),o=kt(r.map((function(t){return{type:g,properties:{},geometry:{type:v,coordinates:t}}})),n),i=0;i<r.length;i++){var a=r[i];t.feature.updateCoordinate(t.selectedCoordPaths[i],a[0]+o.lng,a[1]+o.lat)}},clickNoTarget:function(){this.changeMode(E.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(E.SIMPLE_SELECT)},clickActiveFeature:function(t){t.selectedCoordPaths=[],this.clearSelectedCoordinates(),t.feature.changed()},onSetup:function(t){var e=t.featureId,n=this.getFeature(e);if(!n)throw new Error("You must provide a featureId to enter direct_select mode");if(n.type===v)throw new TypeError("direct_select mode doesn't handle point features");var r={featureId:e,feature:n,dragMoveLocation:t.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:t.coordPath?[t.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(e,r.selectedCoordPaths)),this.setSelected(e),xt(this),this.setActionableState({trash:!0}),r},onStop:function(){bt(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(t,e,n){t.featureId===e.properties.id?(e.properties.active=j,n(e),vt(e,{map:this.map,midpoints:!0,selectedPaths:t.selectedCoordPaths}).forEach(n)):(e.properties.active=_,n(e)),this.fireActionable(t)},onTrash:function(t){t.selectedCoordPaths.sort((function(t,e){return e.localeCompare(t,"en",{numeric:!0})})).forEach((function(e){return t.feature.removeCoordinate(e)})),this.fireUpdate(),t.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(t),!1===t.feature.isValid()&&(this.deleteFeature([t.featureId]),this.changeMode(E.SIMPLE_SELECT,{}))},onMouseMove:function(t,e){var n=st(e),r=At(e),o=0===t.selectedCoordPaths.length;return n&&o||r&&!o?this.updateUIClasses({mouse:d}):this.updateUIClasses({mouse:f}),this.stopDragging(t),!0},onMouseOut:function(t){return t.dragMoving&&this.fireUpdate(),!0}};Rt.onTouchStart=Rt.onMouseDown=function(t,e){return At(e)?this.onVertex(t,e):st(e)?this.onFeature(t,e):Nt(e)?this.onMidpoint(t,e):void 0},Rt.onDrag=function(t,e){if(!0===t.canDragMove){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};t.selectedCoordPaths.length>0?this.dragVertex(t,e,n):this.dragFeature(t,e,n),t.dragMoveLocation=e.lngLat}},Rt.onClick=function(t,e){return ut(e)?this.clickNoTarget(t,e):st(e)?this.clickActiveFeature(t,e):ct(e)?this.clickInactive(t,e):void this.stopDragging(t)},Rt.onTap=function(t,e){return ut(e)?this.clickNoTarget(t,e):st(e)?this.clickActiveFeature(t,e):ct(e)?this.clickInactive(t,e):void 0},Rt.onTouchEnd=Rt.onMouseUp=function(t){t.dragMoving&&this.fireUpdate(),this.stopDragging(t)};var Ft={};function Dt(t,e){return!!t.lngLat&&t.lngLat.lng===e[0]&&t.lngLat.lat===e[1]}Ft.onSetup=function(){var t=this.newFeature({type:g,properties:{},geometry:{type:v,coordinates:[]}});return this.addFeature(t),this.clearSelectedFeatures(),this.updateUIClasses({mouse:l}),this.activateUIButton(p.POINT),this.setActionableState({trash:!0}),{point:t}},Ft.stopDrawingAndRemove=function(t){this.deleteFeature([t.point.id],{silent:!0}),this.changeMode(E.SIMPLE_SELECT)},Ft.onTap=Ft.onClick=function(t,e){this.updateUIClasses({mouse:d}),t.point.updateCoordinate("",e.lngLat.lng,e.lngLat.lat),this.map.fire(O,{features:[t.point.toGeoJSON()]}),this.changeMode(E.SIMPLE_SELECT,{featureIds:[t.point.id]})},Ft.onStop=function(t){this.activateUIButton(),t.point.getCoordinate().length||this.deleteFeature([t.point.id],{silent:!0})},Ft.toDisplayFeatures=function(t,e,n){var r=e.properties.id===t.point.id;if(e.properties.active=r?j:_,!r)return n(e)},Ft.onTrash=Ft.stopDrawingAndRemove,Ft.onKeyUp=function(t,e){if(ht(e)||ft(e))return this.stopDrawingAndRemove(t,e)};var Ht={onSetup:function(){var t=this.newFeature({type:g,properties:{},geometry:{type:m,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),xt(this),this.updateUIClasses({mouse:l}),this.activateUIButton(p.POLYGON),this.setActionableState({trash:!0}),{polygon:t,currentVertexPosition:0}},clickAnywhere:function(t,e){if(t.currentVertexPosition>0&&Dt(e,t.polygon.coordinates[0][t.currentVertexPosition-1]))return this.changeMode(E.SIMPLE_SELECT,{featureIds:[t.polygon.id]});this.updateUIClasses({mouse:l}),t.polygon.updateCoordinate("0."+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),t.currentVertexPosition++,t.polygon.updateCoordinate("0."+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat)},clickOnVertex:function(t){return this.changeMode(E.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},onMouseMove:function(t,e){t.polygon.updateCoordinate("0."+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),lt(e)&&this.updateUIClasses({mouse:h})}};Ht.onTap=Ht.onClick=function(t,e){return lt(e)?this.clickOnVertex(t,e):this.clickAnywhere(t,e)},Ht.onKeyUp=function(t,e){ht(e)?(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(E.SIMPLE_SELECT)):ft(e)&&this.changeMode(E.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},Ht.onStop=function(t){this.updateUIClasses({mouse:f}),bt(this),this.activateUIButton(),void 0!==this.getFeature(t.polygon.id)&&(t.polygon.removeCoordinate("0."+t.currentVertexPosition),t.polygon.isValid()?this.map.fire(O,{features:[t.polygon.toGeoJSON()]}):(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(E.SIMPLE_SELECT,{},{silent:!0})))},Ht.toDisplayFeatures=function(t,e,n){var r=e.properties.id===t.polygon.id;if(e.properties.active=r?j:_,!r)return n(e);if(0!==e.geometry.coordinates.length){var o=e.geometry.coordinates[0].length;if(!(o<3)){if(e.properties.meta=M,n(yt(t.polygon.id,e.geometry.coordinates[0][0],"0.0",!1)),o>3){var i=e.geometry.coordinates[0].length-3;n(yt(t.polygon.id,e.geometry.coordinates[0][i],"0."+i,!1))}if(o<=4){var a=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];if(n({type:g,properties:e.properties,geometry:{coordinates:a,type:y}}),3===o)return}return n(e)}}},Ht.onTrash=function(t){this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(E.SIMPLE_SELECT)};var zt={onSetup:function(t){var e,n,r=(t=t||{}).featureId,o="forward";if(r){if(!(e=this.getFeature(r)))throw new Error("Could not find a feature with the provided featureId");var i=t.from;if(i&&"Feature"===i.type&&i.geometry&&"Point"===i.geometry.type&&(i=i.geometry),i&&"Point"===i.type&&i.coordinates&&2===i.coordinates.length&&(i=i.coordinates),!i||!Array.isArray(i))throw new Error("Please use the `from` property to indicate which point to continue the line from");var a=e.coordinates.length-1;if(e.coordinates[a][0]===i[0]&&e.coordinates[a][1]===i[1])n=a+1,e.addCoordinate.apply(e,[n].concat(e.coordinates[a]));else{if(e.coordinates[0][0]!==i[0]||e.coordinates[0][1]!==i[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");o="backwards",n=0,e.addCoordinate.apply(e,[n].concat(e.coordinates[0]))}}else e=this.newFeature({type:g,properties:{},geometry:{type:y,coordinates:[]}}),n=0,this.addFeature(e);return this.clearSelectedFeatures(),xt(this),this.updateUIClasses({mouse:l}),this.activateUIButton(p.LINE),this.setActionableState({trash:!0}),{line:e,currentVertexPosition:n,direction:o}},clickAnywhere:function(t,e){if(t.currentVertexPosition>0&&Dt(e,t.line.coordinates[t.currentVertexPosition-1])||"backwards"===t.direction&&Dt(e,t.line.coordinates[t.currentVertexPosition+1]))return this.changeMode(E.SIMPLE_SELECT,{featureIds:[t.line.id]});this.updateUIClasses({mouse:l}),t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),"forward"===t.direction?(t.currentVertexPosition++,t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat)):t.line.addCoordinate(0,e.lngLat.lng,e.lngLat.lat)},clickOnVertex:function(t){return this.changeMode(E.SIMPLE_SELECT,{featureIds:[t.line.id]})},onMouseMove:function(t,e){t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),lt(e)&&this.updateUIClasses({mouse:h})}};zt.onTap=zt.onClick=function(t,e){if(lt(e))return this.clickOnVertex(t,e);this.clickAnywhere(t,e)},zt.onKeyUp=function(t,e){ft(e)?this.changeMode(E.SIMPLE_SELECT,{featureIds:[t.line.id]}):ht(e)&&(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(E.SIMPLE_SELECT))},zt.onStop=function(t){bt(this),this.activateUIButton(),void 0!==this.getFeature(t.line.id)&&(t.line.removeCoordinate(""+t.currentVertexPosition),t.line.isValid()?this.map.fire(O,{features:[t.line.toGeoJSON()]}):(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(E.SIMPLE_SELECT,{},{silent:!0})))},zt.onTrash=function(t){this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(E.SIMPLE_SELECT)},zt.toDisplayFeatures=function(t,e,n){var r=e.properties.id===t.line.id;if(e.properties.active=r?j:_,!r)return n(e);e.geometry.coordinates.length<2||(e.properties.meta=M,n(yt(t.line.id,e.geometry.coordinates["forward"===t.direction?e.geometry.coordinates.length-2:1],""+("forward"===t.direction?e.geometry.coordinates.length-2:1),!1)),n(e))};var Ut={simple_select:Pt,direct_select:Rt,draw_point:Ft,draw_polygon:Ht,draw_line_string:zt},Bt={defaultMode:E.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}],modes:Ut,controls:{},userProperties:!1},Vt={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},Gt={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function Wt(t,e){return t.map((function(t){return t.source?t:nt(t,{id:t.id+"."+e,source:"hot"===e?c:u})}))}var qt=z((function(t,n){var r="[object Arguments]",o="[object Map]",i="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[r]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[o]=u["[object Number]"]=u[i]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,h=l||d||Function("return this")(),f=n&&!n.nodeType&&n,p=f&&t&&!t.nodeType&&t,g=p&&p.exports===f,m=g&&l.process,y=function(){try{return m&&m.binding&&m.binding("util")}catch(t){}}(),v=y&&y.isTypedArray;function b(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function x(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function E(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var O,S,M,C=Array.prototype,w=Function.prototype,j=Object.prototype,_=h["__core-js_shared__"],I=w.toString,T=j.hasOwnProperty,k=(O=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",L=j.toString,P=RegExp("^"+I.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=g?h.Buffer:void 0,N=h.Symbol,R=h.Uint8Array,F=j.propertyIsEnumerable,D=C.splice,H=N?N.toStringTag:void 0,z=Object.getOwnPropertySymbols,U=A?A.isBuffer:void 0,B=(S=Object.keys,M=Object,function(t){return S(M(t))}),V=pt(h,"DataView"),G=pt(h,"Map"),W=pt(h,"Promise"),q=pt(h,"Set"),J=pt(h,"WeakMap"),Z=pt(Object,"create"),Y=vt(V),X=vt(G),K=vt(W),Q=vt(q),$=vt(J),tt=N?N.prototype:void 0,et=tt?tt.valueOf:void 0;function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function it(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ot;++e<n;)this.add(t[e])}function at(t){var e=this.__data__=new rt(t);this.size=e.size}function st(t,e){for(var n=t.length;n--;)if(bt(t[n][0],e))return n;return-1}function ct(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":H&&H in Object(t)?function(t){var e=T.call(t,H),n=t[H];try{t[H]=void 0;var r=!0}catch(t){}var o=L.call(t);return r&&(e?t[H]=n:delete t[H]),o}(t):function(t){return L.call(t)}(t)}function ut(t){return wt(t)&&ct(t)==r}function lt(t,e,n,s,c){return t===e||(null==t||null==e||!wt(t)&&!wt(e)?t!=t&&e!=e:function(t,e,n,s,c,u){var l=Et(t),d=Et(e),h=l?"[object Array]":mt(t),f=d?"[object Array]":mt(e),p=(h=h==r?i:h)==i,g=(f=f==r?i:f)==i,m=h==f;if(m&&Ot(t)){if(!Ot(e))return!1;l=!0,p=!1}if(m&&!p)return u||(u=new at),l||jt(t)?dt(t,e,n,s,c,u):function(t,e,n,r,i,s,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new R(t),new R(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return bt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case o:var u=x;case a:var l=1&r;if(u||(u=E),t.size!=e.size&&!l)return!1;var d=c.get(t);if(d)return d==e;r|=2,c.set(t,e);var h=dt(u(t),u(e),r,i,s,c);return c.delete(t),h;case"[object Symbol]":if(et)return et.call(t)==et.call(e)}return!1}(t,e,h,n,s,c,u);if(!(1&n)){var y=p&&T.call(t,"__wrapped__"),v=g&&T.call(e,"__wrapped__");if(y||v){var b=y?t.value():t,O=v?e.value():e;return u||(u=new at),c(b,O,n,s,u)}}return!!m&&(u||(u=new at),function(t,e,n,r,o,i){var a=1&n,s=ht(t),c=s.length;if(c!=ht(e).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in e:T.call(e,l)))return!1}var d=i.get(t);if(d&&i.get(e))return d==e;var h=!0;i.set(t,e),i.set(e,t);for(var f=a;++u<c;){var p=t[l=s[u]],g=e[l];if(r)var m=a?r(g,p,l,e,t,i):r(p,g,l,t,e,i);if(!(void 0===m?p===g||o(p,g,n,r,i):m)){h=!1;break}f||(f="constructor"==l)}if(h&&!f){var y=t.constructor,v=e.constructor;y==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(h=!1)}return i.delete(t),i.delete(e),h}(t,e,n,s,c,u))}(t,e,n,s,lt,c))}function dt(t,e,n,r,o,i){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(t);if(u&&i.get(e))return u==e;var l=-1,d=!0,h=2&n?new it:void 0;for(i.set(t,e),i.set(e,t);++l<s;){var f=t[l],p=e[l];if(r)var g=a?r(p,f,l,e,t,i):r(f,p,l,t,e,i);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!b(e,(function(t,e){if(a=e,!h.has(a)&&(f===t||o(f,t,n,r,i)))return h.push(e);var a}))){d=!1;break}}else if(f!==p&&!o(f,p,n,r,i)){d=!1;break}}return i.delete(t),i.delete(e),d}function ht(t){return function(t,e,n){var r=e(t);return Et(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,_t,gt)}function ft(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function pt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Ct(t)||function(t){return!!k&&k in t}(t))&&(St(t)?P:s).test(vt(t))}(n)?n:void 0}nt.prototype.clear=function(){this.__data__=Z?Z(null):{},this.size=0},nt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},nt.prototype.get=function(t){var e=this.__data__;if(Z){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return T.call(e,t)?e[t]:void 0},nt.prototype.has=function(t){var e=this.__data__;return Z?void 0!==e[t]:T.call(e,t)},nt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Z&&void 0===e?"__lodash_hash_undefined__":e,this},rt.prototype.clear=function(){this.__data__=[],this.size=0},rt.prototype.delete=function(t){var e=this.__data__,n=st(e,t);return!(n<0||(n==e.length-1?e.pop():D.call(e,n,1),--this.size,0))},rt.prototype.get=function(t){var e=this.__data__,n=st(e,t);return n<0?void 0:e[n][1]},rt.prototype.has=function(t){return st(this.__data__,t)>-1},rt.prototype.set=function(t,e){var n=this.__data__,r=st(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},ot.prototype.clear=function(){this.size=0,this.__data__={hash:new nt,map:new(G||rt),string:new nt}},ot.prototype.delete=function(t){var e=ft(this,t).delete(t);return this.size-=e?1:0,e},ot.prototype.get=function(t){return ft(this,t).get(t)},ot.prototype.has=function(t){return ft(this,t).has(t)},ot.prototype.set=function(t,e){var n=ft(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},it.prototype.add=it.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},it.prototype.has=function(t){return this.__data__.has(t)},at.prototype.clear=function(){this.__data__=new rt,this.size=0},at.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},at.prototype.get=function(t){return this.__data__.get(t)},at.prototype.has=function(t){return this.__data__.has(t)},at.prototype.set=function(t,e){var n=this.__data__;if(n instanceof rt){var r=n.__data__;if(!G||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ot(r)}return n.set(t,e),this.size=n.size,this};var gt=z?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a)&&(i[o++]=a)}return i}(z(t),(function(e){return F.call(t,e)})))}:function(){return[]},mt=ct;function yt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||c.test(t))&&t>-1&&t%1==0&&t<e}function vt(t){if(null!=t){try{return I.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function bt(t,e){return t===e||t!=t&&e!=e}(V&&"[object DataView]"!=mt(new V(new ArrayBuffer(1)))||G&&mt(new G)!=o||W&&"[object Promise]"!=mt(W.resolve())||q&&mt(new q)!=a||J&&"[object WeakMap]"!=mt(new J))&&(mt=function(t){var e=ct(t),n=e==i?t.constructor:void 0,r=n?vt(n):"";if(r)switch(r){case Y:return"[object DataView]";case X:return o;case K:return"[object Promise]";case Q:return a;case $:return"[object WeakMap]"}return e});var xt=ut(function(){return arguments}())?ut:function(t){return wt(t)&&T.call(t,"callee")&&!F.call(t,"callee")},Et=Array.isArray,Ot=U||function(){return!1};function St(t){if(!Ct(t))return!1;var e=ct(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Mt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ct(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function wt(t){return null!=t&&"object"==typeof t}var jt=v?function(t){return function(e){return t(e)}}(v):function(t){return wt(t)&&Mt(t.length)&&!!u[ct(t)]};function _t(t){return null!=(e=t)&&Mt(e.length)&&!St(e)?function(t,e){var n=Et(t),r=!n&&xt(t),o=!n&&!r&&Ot(t),i=!n&&!r&&!o&&jt(t),a=n||r||o||i,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=s.length;for(var u in t)!e&&!T.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||yt(u,c))||s.push(u);return s}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||j))return B(t);var e,n,r=[];for(var o in Object(t))T.call(t,o)&&"constructor"!=o&&r.push(o);return r}(t);var e}t.exports=function(t,e){return lt(t,e)}})),Jt={Polygon:W,LineString:G,Point:V,MultiPolygon:Z,MultiLineString:Z,MultiPoint:Z},Zt=function(t,e){var n={options:t=function(t){void 0===t&&(t={});var e=nt(t);return t.controls||(e.controls={}),!1===t.displayControlsDefault?e.controls=nt(Gt,t.controls):e.controls=nt(Vt,t.controls),(e=nt(Bt,e)).styles=Wt(e.styles,"cold").concat(Wt(e.styles,"hot")),e}(t)};e=function(t,e){return e.modes=E,e.getFeatureIdsAt=function(e){return A.click({point:e},null,t).map((function(t){return t.properties.id}))},e.getSelectedIds=function(){return t.store.getSelectedIds()},e.getSelected=function(){return{type:b,features:t.store.getSelectedIds().map((function(e){return t.store.get(e)})).map((function(t){return t.toGeoJSON()}))}},e.getSelectedPoints=function(){return{type:b,features:t.store.getSelectedCoordinates().map((function(t){return{type:g,properties:{},geometry:{type:v,coordinates:t.coordinates}}}))}},e.set=function(n){if(void 0===n.type||n.type!==b||!Array.isArray(n.features))throw new Error("Invalid FeatureCollection");var r=t.store.createRenderBatch(),o=t.store.getAllIds().slice(),i=e.add(n),a=new L(i);return(o=o.filter((function(t){return!a.has(t)}))).length&&e.delete(o),r(),i},e.add=function(e){var n=JSON.parse(JSON.stringify(Et(e))).features.map((function(e){if(e.id=e.id||U(),null===e.geometry)throw new Error("Invalid geometry: null");if(void 0===t.store.get(e.id)||t.store.get(e.id).type!==e.geometry.type){var n=Jt[e.geometry.type];if(void 0===n)throw new Error("Invalid geometry type: "+e.geometry.type+".");var r=new n(t,e);t.store.add(r)}else{var o=t.store.get(e.id);o.properties=e.properties,qt(o.getCoordinates(),e.geometry.coordinates)||o.incomingCoords(e.geometry.coordinates)}return e.id}));return t.store.render(),n},e.get=function(e){var n=t.store.get(e);if(n)return n.toGeoJSON()},e.getAll=function(){return{type:b,features:t.store.getAll().map((function(t){return t.toGeoJSON()}))}},e.delete=function(n){return t.store.delete(n,{silent:!0}),e.getMode()!==E.DIRECT_SELECT||t.store.getSelectedIds().length?t.store.render():t.events.changeMode(E.SIMPLE_SELECT,void 0,{silent:!0}),e},e.deleteAll=function(){return t.store.delete(t.store.getAllIds(),{silent:!0}),e.getMode()===E.DIRECT_SELECT?t.events.changeMode(E.SIMPLE_SELECT,void 0,{silent:!0}):t.store.render(),e},e.changeMode=function(n,r){return void 0===r&&(r={}),n===E.SIMPLE_SELECT&&e.getMode()===E.SIMPLE_SELECT?(o=r.featureIds||[],i=t.store.getSelectedIds(),o.length===i.length&&JSON.stringify(o.map((function(t){return t})).sort())===JSON.stringify(i.map((function(t){return t})).sort())||(t.store.setSelected(r.featureIds,{silent:!0}),t.store.render()),e):(n===E.DIRECT_SELECT&&e.getMode()===E.DIRECT_SELECT&&r.featureId===t.store.getSelectedIds()[0]||t.events.changeMode(n,r,{silent:!0}),e);var o,i},e.getMode=function(){return t.events.getMode()},e.trash=function(){return t.events.trash({silent:!0}),e},e.combineFeatures=function(){return t.events.combineFeatures({silent:!0}),e},e.uncombineFeatures=function(){return t.events.uncombineFeatures({silent:!0}),e},e.setFeatureProperty=function(n,r,o){return t.store.setFeatureProperty(n,r,o),e},e}(n,e),n.api=e;var r=it(n);return e.onAdd=r.onAdd,e.onRemove=r.onRemove,e.types=p,e.options=t,e};function Yt(t){Zt(t,this)}return Yt.modes=Ut,Yt}()}).call(this,n(85))},304:function(t,e,n){"use strict";var r=n(14);e.a=function(t,e,n,o){return{type:r.geojsonTypes.FEATURE,properties:{meta:r.meta.VERTEX,parent:t,coord_path:n,active:o?r.activeStates.ACTIVE:r.activeStates.INACTIVE},geometry:{type:r.geojsonTypes.POINT,coordinates:e}}}},335:function(t,e,n){"use strict";function r(t,e){"function"==typeof t?t(e):t&&(t.current=e)}n.d(e,"a",(function(){return r}))},353:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return H})),n.d(e,"c",(function(){return N})),n.d(e,"d",(function(){return ot}));const r=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});var o=n(754);const i=new o.a,a=new o.a;class s{constructor(t=[0,0,0],e=[0,0,0],n=null){n=n||i.copy(t).add(e).scale(.5),this.center=new o.a(n),this.halfDiagonal=new o.a(e).subtract(this.center),this.minimum=new o.a(t),this.maximum=new o.a(e)}clone(){return new s(this.minimum,this.maximum,this.center)}equals(t){return this===t||Boolean(t)&&this.minimum.equals(t.minimum)&&this.maximum.equals(t.maximum)}transform(t){return this.center.transformAsPoint(t),this.halfDiagonal.transform(t),this.minimum.transform(t),this.maximum.transform(t),this}intersectPlane(t){const{halfDiagonal:e}=this,n=a.from(t.normal),o=e.x*Math.abs(n.x)+e.y*Math.abs(n.y)+e.z*Math.abs(n.z),i=this.center.dot(n)+t.distance;return i-o>0?r.INSIDE:i+o<0?r.OUTSIDE:r.INTERSECTING}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=i.from(t).subtract(this.center),{halfDiagonal:n}=this;let r,o=0;return r=Math.abs(e.x)-n.x,r>0&&(o+=r*r),r=Math.abs(e.y)-n.y,r>0&&(o+=r*r),r=Math.abs(e.z)-n.z,r>0&&(o+=r*r),o}}var c=n(60);const u=new o.a,l=new o.a;class d{constructor(t=[0,0,0],e=0){this.radius=-0,this.center=new o.a,this.fromCenterRadius(t,e)}fromCenterRadius(t,e){return this.center.from(t),this.radius=e,this}fromCornerPoints(t,e){return e=u.from(e),this.center=(new o.a).from(t).add(e).scale(.5),this.radius=this.center.distance(e),this}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.radius===t.radius}clone(){return new d(this.center,this.radius)}union(t){const e=this.center,n=this.radius,r=t.center,o=t.radius,i=u.copy(r).subtract(e),a=i.magnitude();if(n>=a+o)return this.clone();if(o>=a+n)return t.clone();const s=.5*(n+a+o);return l.copy(i).scale((-n+s)/a).add(e),this.center.copy(l),this.radius=s,this}expand(t){const e=(t=u.from(t)).subtract(this.center).magnitude();return e>this.radius&&(this.radius=e),this}transform(t){this.center.transform(t);const e=c.e(u,t);return this.radius=Math.max(e[0],Math.max(e[1],e[2]))*this.radius,this}distanceSquaredTo(t){const e=this.distanceTo(t);return e*e}distanceTo(t){const e=(t=u.from(t)).subtract(this.center);return Math.max(0,e.len()-this.radius)}intersectPlane(t){const e=this.center,n=this.radius,o=t.normal.dot(e)+t.distance;return o<-n?r.OUTSIDE:o<n?r.INTERSECTING:r.INSIDE}}var h=n(745),f=n(746);const p=new o.a,g=new o.a,m=new o.a,y=new o.a,v=new o.a,b=new o.a,x=new o.a,E=0,O=1,S=2,M=3,C=4,w=5,j=6,_=7,I=8;class T{constructor(t=[0,0,0],e=[0,0,0,0,0,0,0,0,0]){this.center=(new o.a).from(t),this.halfAxes=new h.a(e)}get halfSize(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2);return[new o.a(t).len(),new o.a(e).len(),new o.a(n).len()]}get quaternion(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2),r=new o.a(t).normalize(),i=new o.a(e).normalize(),a=new o.a(n).normalize();return(new f.a).fromMatrix3(new h.a([...r,...i,...a]))}fromCenterHalfSizeQuaternion(t,e,n){const r=new f.a(n),i=(new h.a).fromQuaternion(r);return i[0]=i[0]*e[0],i[1]=i[1]*e[0],i[2]=i[2]*e[0],i[3]=i[3]*e[1],i[4]=i[4]*e[1],i[5]=i[5]*e[1],i[6]=i[6]*e[2],i[7]=i[7]*e[2],i[8]=i[8]*e[2],this.center=(new o.a).from(t),this.halfAxes=i,this}clone(){return new T(this.center,this.halfAxes)}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.halfAxes.equals(t.halfAxes)}getBoundingSphere(t=new d){const e=this.halfAxes,n=e.getColumn(0,m),r=e.getColumn(1,y),o=e.getColumn(2,v),i=p.copy(n).add(r).add(o);return t.center.copy(this.center),t.radius=i.magnitude(),t}intersectPlane(t){const e=this.center,n=t.normal,o=this.halfAxes,i=n.x,a=n.y,s=n.z,c=Math.abs(i*o[E]+a*o[O]+s*o[S])+Math.abs(i*o[M]+a*o[C]+s*o[w])+Math.abs(i*o[j]+a*o[_]+s*o[I]),u=n.dot(e)+t.distance;return u<=-c?r.OUTSIDE:u>=c?r.INSIDE:r.INTERSECTING}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=g.from(t).subtract(this.center),n=this.halfAxes,r=n.getColumn(0,m),o=n.getColumn(1,y),i=n.getColumn(2,v),a=r.magnitude(),s=o.magnitude(),c=i.magnitude();r.normalize(),o.normalize(),i.normalize();let u,l=0;return u=Math.abs(e.dot(r))-a,u>0&&(l+=u*u),u=Math.abs(e.dot(o))-s,u>0&&(l+=u*u),u=Math.abs(e.dot(i))-c,u>0&&(l+=u*u),l}computePlaneDistances(t,e,n=[-0,-0]){let r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;const i=this.center,a=this.halfAxes,s=a.getColumn(0,m),c=a.getColumn(1,y),u=a.getColumn(2,v),l=b.copy(s).add(c).add(u).add(i),d=x.copy(l).subtract(t);let h=e.dot(d);return r=Math.min(h,r),o=Math.max(h,o),l.copy(i).add(s).add(c).subtract(u),d.copy(l).subtract(t),h=e.dot(d),r=Math.min(h,r),o=Math.max(h,o),l.copy(i).add(s).subtract(c).add(u),d.copy(l).subtract(t),h=e.dot(d),r=Math.min(h,r),o=Math.max(h,o),l.copy(i).add(s).subtract(c).subtract(u),d.copy(l).subtract(t),h=e.dot(d),r=Math.min(h,r),o=Math.max(h,o),i.copy(l).subtract(s).add(c).add(u),d.copy(l).subtract(t),h=e.dot(d),r=Math.min(h,r),o=Math.max(h,o),i.copy(l).subtract(s).add(c).subtract(u),d.copy(l).subtract(t),h=e.dot(d),r=Math.min(h,r),o=Math.max(h,o),i.copy(l).subtract(s).subtract(c).add(u),d.copy(l).subtract(t),h=e.dot(d),r=Math.min(h,r),o=Math.max(h,o),i.copy(l).subtract(s).subtract(c).subtract(u),d.copy(l).subtract(t),h=e.dot(d),r=Math.min(h,r),o=Math.max(h,o),n[0]=r,n[1]=o,n}transform(t){this.center.transformAsPoint(t);const e=this.halfAxes.getColumn(0,m);e.transformAsPoint(t);const n=this.halfAxes.getColumn(1,y);n.transformAsPoint(t);const r=this.halfAxes.getColumn(2,v);return r.transformAsPoint(t),this.halfAxes=new h.a([...e,...n,...r]),this}getTransform(){throw new Error("not implemented")}}var k=n(114),L=n(57);const P=new o.a,A=new o.a;class N{constructor(t=[0,0,1],e=0){this.normal=new o.a,this.distance=-0,this.fromNormalDistance(t,e)}fromNormalDistance(t,e){return Object(k.a)(Number.isFinite(e)),this.normal.from(t).normalize(),this.distance=e,this}fromPointNormal(t,e){t=P.from(t),this.normal.from(e).normalize();const n=-this.normal.dot(t);return this.distance=n,this}fromCoefficients(t,e,n,r){return this.normal.set(t,e,n),Object(k.a)(Object(L.c)(this.normal.len(),1)),this.distance=r,this}clone(t){return new N(this.normal,this.distance)}equals(t){return Object(L.c)(this.distance,t.distance)&&Object(L.c)(this.normal,t.normal)}getPointDistance(t){return this.normal.dot(t)+this.distance}transform(t){const e=A.copy(this.normal).transformAsVector(t).normalize(),n=this.normal.scale(-this.distance).transform(t);return this.fromPointNormal(n,e)}projectPointOntoPlane(t,e=[0,0,0]){t=P.from(t);const n=this.getPointDistance(t),r=A.copy(this.normal).scale(n);return t.subtract(r).to(e)}}const R=[new o.a([1,0,0]),new o.a([0,1,0]),new o.a([0,0,1])],F=new o.a,D=new o.a;new N(new o.a(1,0,0),0);class H{static get MASK_OUTSIDE(){return 4294967295}static get MASK_INSIDE(){return 0}static get MASK_INDETERMINATE(){return 2147483647}constructor(t=[]){this.planes=t,Object(k.a)(this.planes.every(t=>t instanceof N))}fromBoundingSphere(t){this.planes.length=2*R.length;const e=t.center,n=t.radius;let r=0;for(const t of R){let o=this.planes[r],i=this.planes[r+1];o||(o=this.planes[r]=new N),i||(i=this.planes[r+1]=new N);const a=F.copy(t).scale(-n).add(e);t.dot(a);o.fromPointNormal(a,t);const s=F.copy(t).scale(n).add(e),c=D.copy(t).negate();c.dot(s);i.fromPointNormal(s,c),r+=2}return this}computeVisibility(t){Object(k.a)(t);let e=r.INSIDE;for(const n of this.planes){switch(t.intersectPlane(n)){case r.OUTSIDE:return r.OUTSIDE;case r.INTERSECTING:e=r.INTERSECTING}}return e}computeVisibilityWithPlaneMask(t,e){if(Object(k.a)(t,"boundingVolume is required."),Object(k.a)(Number.isFinite(e),"parentPlaneMask is required."),e===H.MASK_OUTSIDE||e===H.MASK_INSIDE)return e;let n=H.MASK_INSIDE;const o=this.planes;for(let i=0;i<this.planes.length;++i){const a=i<31?1<<i:0;if(i<31&&0==(e&a))continue;const s=o[i],c=t.intersectPlane(s);if(c===r.OUTSIDE)return H.MASK_OUTSIDE;c===r.INTERSECTING&&(n|=a)}return n}}n(742);new o.a,new o.a,new o.a,new o.a,new o.a;new o.a,new o.a,new o.a,new o.a,new o.a,new o.a,new o.a,new o.a,new o.a,new o.a,new o.a,new o.a,Math.PI;var z=n(747);const U=new h.a,B=new h.a,V=new h.a,G=new h.a,W=new h.a;function q(t,e={}){const n=z.a.EPSILON20;let r=0,o=0;const i=B,a=V;i.identity(),a.copy(t);const s=n*function(t){let e=0;for(let n=0;n<9;++n){const r=t[n];e+=r*r}return Math.sqrt(e)}(a);for(;o<10&&Y(a)>s;)X(a,G),W.copy(G).transpose(),a.multiplyRight(G),a.multiplyLeft(W),i.multiplyRight(G),++r>2&&(++o,r=0);return e.unitary=i.toTarget(e.unitary),e.diagonal=a.toTarget(e.diagonal),e}const J=[1,0,0],Z=[2,2,1];function Y(t){let e=0;for(let n=0;n<3;++n){const r=t[U.getElementIndex(Z[n],J[n])];e+=2*r*r}return Math.sqrt(e)}function X(t,e){const n=z.a.EPSILON15;let r=0,o=1;for(let e=0;e<3;++e){const n=Math.abs(t[U.getElementIndex(Z[e],J[e])]);n>r&&(o=e,r=n)}const i=J[o],a=Z[o];let s=1,c=0;if(Math.abs(t[U.getElementIndex(a,i)])>n){const e=(t[U.getElementIndex(a,a)]-t[U.getElementIndex(i,i)])/2/t[U.getElementIndex(a,i)];let n;n=e<0?-1/(-e+Math.sqrt(1+e*e)):1/(e+Math.sqrt(1+e*e)),s=1/Math.sqrt(1+n*n),c=n*s}return h.a.IDENTITY.to(e),e[U.getElementIndex(i,i)]=e[U.getElementIndex(a,a)]=s,e[U.getElementIndex(a,i)]=c,e[U.getElementIndex(i,a)]=-c,e}const K=new o.a,Q=new o.a,$=new o.a,tt=new o.a,et=new o.a,nt=new h.a,rt={diagonal:new h.a,unitary:new h.a};function ot(t,e=new T){if(!t||0===t.length)return e.halfAxes=new h.a([0,0,0,0,0,0,0,0,0]),e.center=new o.a,e;const n=t.length,r=new o.a(0,0,0);for(const e of t)r.add(e);const i=1/n;r.multiplyByScalar(i);let a=0,s=0,c=0,u=0,l=0,d=0;for(const e of t){const t=K.copy(e).subtract(r);a+=t.x*t.x,s+=t.x*t.y,c+=t.x*t.z,u+=t.y*t.y,l+=t.y*t.z,d+=t.z*t.z}a*=i,s*=i,c*=i,u*=i,l*=i,d*=i;const f=nt;f[0]=a,f[1]=s,f[2]=c,f[3]=s,f[4]=u,f[5]=l,f[6]=c,f[7]=l,f[8]=d;const{unitary:p}=q(f,rt),g=e.halfAxes.copy(p);let m=g.getColumn(0,$),y=g.getColumn(1,tt),v=g.getColumn(2,et),b=-Number.MAX_VALUE,x=-Number.MAX_VALUE,E=-Number.MAX_VALUE,O=Number.MAX_VALUE,S=Number.MAX_VALUE,M=Number.MAX_VALUE;for(const e of t)K.copy(e),b=Math.max(K.dot(m),b),x=Math.max(K.dot(y),x),E=Math.max(K.dot(v),E),O=Math.min(K.dot(m),O),S=Math.min(K.dot(y),S),M=Math.min(K.dot(v),M);m=m.multiplyByScalar(.5*(O+b)),y=y.multiplyByScalar(.5*(S+x)),v=v.multiplyByScalar(.5*(M+E)),e.center.copy(m).add(y).add(v);const C=Q.set(b-O,x-S,E-M).multiplyByScalar(.5),w=new h.a([C[0],0,0,0,C[1],0,0,0,C[2]]);return e.halfAxes.multiplyRight(w),e}},38:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return y}));var r=n(0),o=n.n(r),i=n(3),a=n.n(i),s=n(235);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h=o.a.createContext({}),f=h.Provider,p=function(t){var e=t.children,n=c(Object(r.useState)(void 0),2),i=n[0],a=n[1],s=c(Object(r.useState)([]),2),l=s[0],d=s[1],h=Object(r.useRef)([]),p=Object(r.useRef)({}),g=c(Object(r.useState)({}),2);g[0];var m=g[1],y=Object(r.useRef)({}),v={map:i,setMap:function(t){if(a(t),0===l.length){d([].concat(u(l),["anonymous_map"])),p.current.anonymous_map=t}},maps:p.current,mapIds:l,registerMap:function(t,e){t&&e&&(p.current[t]=e,h.current.push(t),d(u(h.current)),i||a(e))},removeMap:function t(e){if(e){void 0!==p.current[e]&&delete p.current[e];var n=h.current.indexOf(e);n>-1&&h.current.splice(n,1),d(u(h.current)),1===l.length&&i&&a(void 0)}else a(void 0),t("anonymous_map")},mapExists:function(t){return(!t||-1!==Object.keys(p.current).indexOf(t))&&!(!t&&!i)},getMap:function(t){return t&&-1!==l.indexOf(t)?p.current[t]:!t&&i?i:null},setMapStates:m,mapStatesRef:y};return o.a.createElement(f,{value:v},e)};p.propTypes={children:a.a.node.isRequired};var g=o.a.createContext({}),m=g.Provider,y=function(t){var e=c(Object(r.useState)(null),2),n=e[0],i=e[1];Object(r.useEffect)((function(){if(t.url){var e=null;"json"===t.format?e=s.c(t.url):"csv"===t.format?e=s.a(t.url):"xml"===t.format&&(e=s.e(t.url)),e&&e.then((function(e){if("xml"===t.format){if(t.nodeType){var n=[];e.querySelectorAll(t.nodeType).forEach((function(e){n.push(t.formatData(e))})),i(n)}}else t.data_property&&(e=e[t.data_property]),"function"==typeof t.formatData?i(e.map(t.formatData)):i(e);"function"==typeof t.onData&&t.onData()}))}}),[t.url,t]);var a={data:n,setData:i};return o.a.createElement(m,{value:a},t.children)};y.propTypes={children:a.a.node.isRequired}},409:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(0),o=n(123),i=!0,a=!1,s=null,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(t){t.metaKey||t.altKey||t.ctrlKey||(i=!0)}function l(){i=!1}function d(){"hidden"===this.visibilityState&&a&&(i=!0)}function h(t){var e,n,r,o=t.target;try{return o.matches(":focus-visible")}catch(t){}return i||(n=(e=o).type,!("INPUT"!==(r=e.tagName)||!c[n]||e.readOnly)||"TEXTAREA"===r&&!e.readOnly||!!e.isContentEditable)}function f(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function p(){return{isFocusVisible:h,onBlurVisible:f,ref:r.useCallback((function(t){var e,n=o.findDOMNode(t);null!=n&&((e=n.ownerDocument).addEventListener("keydown",u,!0),e.addEventListener("mousedown",l,!0),e.addEventListener("pointerdown",l,!0),e.addEventListener("touchstart",l,!0),e.addEventListener("visibilitychange",d,!0))}),[])}}},410:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0);function o(t,e){return r.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)}},420:function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,o=n*this.x+e*this.y;return this.x=r,this.y=o,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),o=e.x+n*(this.x-e.x)-r*(this.y-e.y),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=o,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},421:function(t,e,n){var r=n(1268),o=n(1272),i=n(1273),a={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},s=Object.keys(a);function c(t){for(var e=i(),n=r(t),o=0;o<n.length;o++)e.include(n[o]);return e}t.exports=function(t){return c(t).bbox()},t.exports.polygon=function(t){return c(t).polygon()},t.exports.bboxify=function(t){return o(t).map((function(t){t&&(s.some((function(e){return!!t[e]&&-1!==a[e].indexOf(t.type)}))&&(t.bbox=c(t).bbox(),this.update(t)))}))}},433:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(292),o=n(58),i=n(57),a=n(114);class s extends r.a{get ELEMENTS(){return Object(a.a)(!1),0}get RANK(){return Object(a.a)(!1),0}toString(){let t="[";if(i.b.printRowMajor){t+="row-major:";for(let e=0;e<this.RANK;++e)for(let n=0;n<this.RANK;++n)t+=" ".concat(this[n*this.RANK+e])}else{t+="column-major:";for(let e=0;e<this.ELEMENTS;++e)t+=" ".concat(this[e])}return t+="]",t}getElementIndex(t,e){return e*this.RANK+t}getElement(t,e){return this[e*this.RANK+t]}setElement(t,e,n){return this[e*this.RANK+t]=Object(o.a)(n),this}getColumn(t,e=new Array(this.RANK).fill(-0)){const n=t*this.RANK;for(let t=0;t<this.RANK;++t)e[t]=this[n+t];return e}setColumn(t,e){const n=t*this.RANK;for(let t=0;t<this.RANK;++t)this[n+t]=e[t];return this}}},440:function(t,e,n){"use strict";var r=n(304),o=n(14);e.a=function t(e,n={},i=null){const{type:a,coordinates:s}=e.geometry,c=e.properties&&e.properties.id;let u=[];function l(t,e){let i="",a=null;t.forEach((t,s)=>{const l=null!=e?`${e}.${s}`:String(s),h=Object(r.a)(c,t,l,d(l));if(n.midpoints&&a){const t=function(t,e,n){const r=e.geometry.coordinates,i=n.geometry.coordinates;if(r[1]>o.LAT_RENDERED_MAX||r[1]<o.LAT_RENDERED_MIN||i[1]>o.LAT_RENDERED_MAX||i[1]<o.LAT_RENDERED_MIN)return null;const a={lng:(r[0]+i[0])/2,lat:(r[1]+i[1])/2};return{type:o.geojsonTypes.FEATURE,properties:{meta:o.meta.MIDPOINT,parent:t,lng:a.lng,lat:a.lat,coord_path:n.properties.coord_path},geometry:{type:o.geojsonTypes.POINT,coordinates:[a.lng,a.lat]}}}(c,a,h);t&&u.push(t)}a=h;const f=JSON.stringify(t);i!==f&&u.push(h),0===s&&(i=f)})}function d(t){return!!n.selectedPaths&&-1!==n.selectedPaths.indexOf(t)}return a===o.geojsonTypes.POINT?u.push(Object(r.a)(c,s,i,d(i))):a===o.geojsonTypes.POLYGON?s.forEach((t,e)=>{l(t,null!==i?`${i}.${e}`:String(e))}):a===o.geojsonTypes.LINE_STRING?l(s,i):0===a.indexOf(o.geojsonTypes.MULTI_PREFIX)&&function(){const r=a.replace(o.geojsonTypes.MULTI_PREFIX,"");s.forEach((i,a)=>{const s={type:o.geojsonTypes.FEATURE,properties:e.properties,geometry:{type:r,coordinates:i}};u=u.concat(t(s,n,a))})}(),u}},449:function(t,e,n){"use strict";var r=n(420),o=n.n(r);e.a=function(t,e){const n=e.getBoundingClientRect();return new o.a(t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0))}},539:function(t,e,n){"use strict";function r(t,e){return function(){return null}}n.d(e,"a",(function(){return r}))},554:function(t,e){function n(t,e){var n=t.getCenter(),r=t.getZoom(),o=t.getBearing(),i=t.getPitch();e.forEach((function(t){t.jumpTo({center:n,zoom:r,bearing:o,pitch:i})}))}t.exports=function(){var t,e=arguments.length;if(1===e)t=arguments[0];else{t=[];for(var r=0;r<e;r++)t.push(arguments[r])}var o=[];function i(){t.forEach((function(t,e){t.on("move",o[e])}))}function a(){t.forEach((function(t,e){t.off("move",o[e])}))}function s(t,e){a(),n(t,e),i()}return t.forEach((function(e,n){o[n]=s.bind(null,e,t.filter((function(t,e){return e!==n})))})),i(),function(){a(),o=[]}}},57:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"c",(function(){return u}));n(114);Math.PI,Math.PI;const r={};function o(t,{precision:e=r.precision||4}={}){return t=function(t){return Math.round(t/r.EPSILON)*r.EPSILON}(t),"".concat(parseFloat(t.toPrecision(e)))}function i(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function a(t,e,n){if(i(t)){n=n||((r=t).clone?r.clone():new Array(r.length));for(let r=0;r<n.length&&r<t.length;++r)n[r]=e(t[r],r,n);return n}var r;return e(t)}function s(t,e,n){return a(t,t=>Math.max(e,Math.min(n,t)))}function c(t,e,n){return i(t)?t.map((t,r)=>c(t,e[r],n)):n*e+(1-n)*t}function u(t,e,n){const o=r.EPSILON;n&&(r.EPSILON=n);try{if(t===e)return!0;if(i(t)&&i(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!u(t[n],e[n]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):!(!Number.isFinite(t)||!Number.isFinite(e))&&Math.abs(t-e)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{r.EPSILON=o}}r.EPSILON=1e-12,r.debug=!1,r.precision=4,r.printTypes=!1,r.printDegrees=!1,r.printRowMajor=!0},58:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s}));var r=n(57);function o(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function i(t,e,n=""){if(r.b.debug&&!function(t,e){if(t.length!==e)return!1;for(let e=0;e<t.length;++e)if(!Number.isFinite(t[e]))return!1;return!0}(t,e))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return t}const a={};function s(t,e){a[t]||(a[t]=!0,console.warn("".concat(t," has been removed in version ").concat(e,", see upgrade guide for more information")))}},66:function(t,e,n){"use strict";n.d(e,"e",(function(){return T})),n.d(e,"c",(function(){return _})),n.d(e,"k",(function(){return P})),n.d(e,"j",(function(){return y})),n.d(e,"m",(function(){return v})),n.d(e,"n",(function(){return w})),n.d(e,"l",(function(){return j})),n.d(e,"b",(function(){return M})),n.d(e,"d",(function(){return C})),n.d(e,"g",(function(){return b})),n.d(e,"f",(function(){return x})),n.d(e,"a",(function(){return E})),n.d(e,"i",(function(){return O})),n.d(e,"h",(function(){return S}));var r=n(92);function o(t,e){const n=r.n([],e,t);return r.k(n,n,1/n[3]),n}function i(t,e){const n=t%e;return n<0?e+n:n}const a=Math.log2||function(t){return Math.log(t)*Math.LOG2E};var s=n(60),c=n(116),u=n(68);function l(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const d=Math.PI,h=d/4,f=d/180,p=180/d;function g(t){return Math.pow(2,t)}function m(t){return a(t)}function y([t,e]){l(Number.isFinite(t)),l(Number.isFinite(e)&&e>=-90&&e<=90,"invalid latitude");const n=e*f;return[512*(t*f+d)/(2*d),512*(d+Math.log(Math.tan(h+.5*n)))/(2*d)]}function v([t,e]){const n=t/512*(2*d)-d,r=2*(Math.atan(Math.exp(e/512*(2*d)-d))-h);return[n*p,r*p]}function b({latitude:t}){l(Number.isFinite(t));return m(4003e4*Math.cos(t*f))-9}function x({latitude:t,longitude:e,highPrecision:n=!1}){l(Number.isFinite(t)&&Number.isFinite(e));const r={},o=Math.cos(t*f),i=512/360/o,a=512/4003e4/o;if(r.unitsPerMeter=[a,a,a],r.metersPerUnit=[1/a,1/a,1/a],r.unitsPerDegree=[512/360,i,a],r.degreesPerUnit=[.703125,1/i,1/a],n){const e=f*Math.tan(t*f)/o,n=512/360*e/2,s=512/4003e4*e,c=s/i*a;r.unitsPerDegree2=[0,n,s],r.unitsPerMeter2=[c,0,c]}return r}function E(t,e){const[n,r,o]=t,[i,a,s]=e,{unitsPerMeter:c,unitsPerMeter2:u}=x({longitude:n,latitude:r,highPrecision:!0}),l=y(t);l[0]+=i*(c[0]+u[0]*a),l[1]+=a*(c[1]+u[1]*a);const d=v(l),h=(o||0)+(s||0);return Number.isFinite(o)||Number.isFinite(s)?[d[0],d[1],h]:d}function O({height:t,pitch:e,bearing:n,altitude:r,scale:o,center:i=null}){const a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return s.p(a,a,[0,0,-r]),s.l(a,a,-e*f),s.n(a,a,n*f),o/=t,s.o(a,a,[o,o,o]),i&&s.p(a,a,u.i([],i)),a}function S({width:t,height:e,fovy:n=M(1.5),altitude:r,pitch:o=0,nearZMultiplier:i=1,farZMultiplier:a=1}){void 0!==r&&(n=M(r));const s=.5*n*f,c=C(n),u=o*f,l=Math.sin(s)*c/Math.sin(Math.min(Math.max(Math.PI/2-u-s,.01),Math.PI-.01));return{fov:2*s,aspect:t/e,focalDistance:c,near:i,far:(Math.sin(u)*l+c)*a}}function M(t){return 2*Math.atan(.5/t)*p}function C(t){return.5/Math.tan(.5*t*f)}function w(t,e){const[n,r,i=0]=t;return l(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(i)),o(e,[n,r,i,1])}function j(t,e,n=0){const[r,i,a]=t;if(l(Number.isFinite(r)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(a)){return o(e,[r,i,a,1])}const s=o(e,[r,i,0,1]),u=o(e,[r,i,1,1]),d=s[2],h=u[2],f=d===h?0:((n||0)-d)/(h-d);return c.c([],s,u,f)}function _({width:t,height:e,bounds:n,minExtent:r=0,maxZoom:o=24,padding:i=0,offset:s=[0,0]}){const[[c,u],[d,h]]=n;if(Number.isFinite(i)){i={top:i,bottom:i,left:i,right:i}}else l(Number.isFinite(i.top)&&Number.isFinite(i.bottom)&&Number.isFinite(i.left)&&Number.isFinite(i.right));const f=new L({width:t,height:e,longitude:0,latitude:0,zoom:0}),p=f.project([c,h]),g=f.project([d,u]),m=[Math.max(Math.abs(g[0]-p[0]),r),Math.max(Math.abs(g[1]-p[1]),r)],y=[t-i.left-i.right-2*Math.abs(s[0]),e-i.top-i.bottom-2*Math.abs(s[1])];l(y[0]>0&&y[1]>0);const v=y[0]/m[0],b=y[1]/m[1],x=(i.right-i.left)/2/v,E=(i.bottom-i.top)/2/b,O=[(g[0]+p[0])/2+x,(g[1]+p[1])/2+E],S=f.unproject(O),M=Math.min(o,f.zoom+a(Math.abs(Math.min(v,b))));return l(Number.isFinite(M)),{longitude:S[0],latitude:S[1],zoom:M}}const I=Math.PI/180;function T(t,e=0){const{width:n,height:r,unproject:o}=t,i={targetZ:e},a=o([0,r],i),s=o([n,r],i);let c,u;return(t.fovy?.5*t.fovy*I:Math.atan(.5/t.altitude))>(90-t.pitch)*I-.01?(c=k(t,0,e),u=k(t,n,e)):(c=o([0,0],i),u=o([n,0],i)),[a,s,u,c]}function k(t,e,n){const{pixelUnprojectionMatrix:r}=t,i=o(r,[e,0,1,1]),a=o(r,[e,t.height,1,1]),s=(n*t.distanceScales.unitsPerMeter[2]-i[2])/(a[2]-i[2]),u=v(c.c([],i,a,s));return u[2]=n,u}class L{constructor({width:t,height:e,latitude:n=0,longitude:r=0,zoom:o=0,pitch:i=0,bearing:a=0,altitude:c=null,fovy:l=null,position:d=null,nearZMultiplier:h=.02,farZMultiplier:f=1.01}={width:1,height:1}){t=t||1,e=e||1,null===l&&null===c?l=M(c=1.5):null===l?l=M(c):null===c&&(c=C(l));const p=g(o);c=Math.max(.75,c);const m=x({longitude:r,latitude:n}),v=y([r,n]);v[2]=0,d&&u.a(v,v,u.h([],d,m.unitsPerMeter)),this.projectionMatrix=function({width:t,height:e,pitch:n,altitude:r,fovy:o,nearZMultiplier:i,farZMultiplier:a}){const{fov:c,aspect:u,near:l,far:d}=S({width:t,height:e,altitude:r,fovy:o,pitch:n,nearZMultiplier:i,farZMultiplier:a});return s.j([],c,u,l,d)}({width:t,height:e,pitch:i,fovy:l,nearZMultiplier:h,farZMultiplier:f}),this.viewMatrix=O({height:e,scale:p,center:v,pitch:i,bearing:a,altitude:c}),this.width=t,this.height=e,this.scale=p,this.latitude=n,this.longitude=r,this.zoom=o,this.pitch=i,this.bearing=a,this.altitude=c,this.fovy=l,this.center=v,this.meterOffset=d||[0,0,0],this.distanceScales=m,this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}_initMatrices(){const{width:t,height:e,projectionMatrix:n,viewMatrix:r}=this,o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];s.h(o,o,n),s.h(o,o,r),this.viewProjectionMatrix=o;const i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];s.o(i,i,[t/2,-e/2,1]),s.p(i,i,[1,-1,0]),s.h(i,i,o);const a=s.f([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=i,this.pixelUnprojectionMatrix=a}equals(t){return t instanceof L&&(t.width===this.width&&t.height===this.height&&s.b(t.projectionMatrix,this.projectionMatrix)&&s.b(t.viewMatrix,this.viewMatrix))}project(t,{topLeft:e=!0}={}){const n=w(this.projectPosition(t),this.pixelProjectionMatrix),[r,o]=n,i=e?o:this.height-o;return 2===t.length?[r,i]:[r,i,n[2]]}unproject(t,{topLeft:e=!0,targetZ:n}={}){const[r,o,i]=t,a=e?o:this.height-o,s=n&&n*this.distanceScales.unitsPerMeter[2],c=j([r,a,i],this.pixelUnprojectionMatrix,s),[u,l,d]=this.unprojectPosition(c);return Number.isFinite(i)?[u,l,d]:Number.isFinite(n)?[u,l,n]:[u,l]}projectPosition(t){const[e,n]=y(t);return[e,n,(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(t){const[e,n]=v(t);return[e,n,(t[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(t){return y(t)}unprojectFlat(t){return v(t)}getMapCenterByLngLatPosition({lngLat:t,pos:e}){const n=j(e,this.pixelUnprojectionMatrix),r=y(t),o=c.a([],r,c.d([],n));return v(c.a([],this.center,o))}getLocationAtPoint({lngLat:t,pos:e}){return this.getMapCenterByLngLatPosition({lngLat:t,pos:e})}fitBounds(t,e={}){const{width:n,height:r}=this,{longitude:o,latitude:i,zoom:a}=_(Object.assign({width:n,height:r,bounds:t},e));return new L({width:n,height:r,longitude:o,latitude:i,zoom:a})}getBounds(t){const e=this.getBoundingRegion(t),n=Math.min(...e.map(t=>t[0])),r=Math.max(...e.map(t=>t[0]));return[[n,Math.min(...e.map(t=>t[1]))],[r,Math.max(...e.map(t=>t[1]))]]}getBoundingRegion(t={}){return T(this,t.z||0)}}function P({width:t,height:e,longitude:n,latitude:r,zoom:o,pitch:s=0,bearing:c=0}){(n<-180||n>180)&&(n=i(n+180,360)-180),(c<-180||c>180)&&(c=i(c+180,360)-180);const u=a(e/512);if(o<=u)o=u,r=0;else{const t=e/2/Math.pow(2,o),n=v([0,t])[1];if(r<n)r=n;else{const e=v([0,512-t])[1];r>e&&(r=e)}}return{width:t,height:e,longitude:n,latitude:r,zoom:o,pitch:s,bearing:c}}},73:function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"j",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"i",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return f}));var r=n(14);function o(t){return function(e){const n=e.featureTarget;return!!n&&(!!n.properties&&n.properties.meta===t)}}function i(t){return!!t.originalEvent&&(!!t.originalEvent.shiftKey&&0===t.originalEvent.button)}function a(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===r.activeStates.ACTIVE&&t.featureTarget.properties.meta===r.meta.FEATURE))}function s(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===r.activeStates.INACTIVE&&t.featureTarget.properties.meta===r.meta.FEATURE))}function c(t){return void 0===t.featureTarget}function u(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&t.featureTarget.properties.meta===r.meta.FEATURE)}function l(t){const e=t.featureTarget;return!!e&&(!!e.properties&&e.properties.meta===r.meta.VERTEX)}function d(t){return!!t.originalEvent&&!0===t.originalEvent.shiftKey}function h(t){return 27===t.keyCode}function f(t){return 13===t.keyCode}},737:function(t,e,n){},742:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(58),o=n(433),i=n(233),a=n(60),s=n(116),c=n(68),u=n(92);const l=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),d=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),h=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),f={};class p extends o.a{static get IDENTITY(){return f.IDENTITY=f.IDENTITY||Object.freeze(new p(l)),f.IDENTITY}static get ZERO(){return f.ZERO=f.ZERO||Object.freeze(new p(d)),f.ZERO}get INDICES(){return h}get ELEMENTS(){return 16}get RANK(){return 4}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}set(t,e,n,r,o,i,a,s,c,u,l,d,h,f,p,g){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=o,this[5]=i,this[6]=a,this[7]=s,this[8]=c,this[9]=u,this[10]=l,this[11]=d,this[12]=h,this[13]=f,this[14]=p,this[15]=g,this.check()}setRowMajor(t,e,n,r,o,i,a,s,c,u,l,d,h,f,p,g){return this[0]=t,this[1]=o,this[2]=c,this[3]=h,this[4]=e,this[5]=i,this[6]=u,this[7]=f,this[8]=n,this[9]=a,this[10]=l,this[11]=p,this[12]=r,this[13]=s,this[14]=d,this[15]=g,this.check()}toRowMajor(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}identity(){return this.copy(l)}fromQuaternion(t){return a.c(this,t),this.check()}frustum({left:t,right:e,bottom:n,top:r,near:o,far:i}){return i===1/0?p._computeInfinitePerspectiveOffCenter(this,t,e,n,r,o):a.d(this,t,e,n,r,o,i),this.check()}static _computeInfinitePerspectiveOffCenter(t,e,n,r,o,i){const a=2*i/(n-e),s=2*i/(o-r),c=(n+e)/(n-e),u=(o+r)/(o-r),l=-2*i;return t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=c,t[9]=u,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=l,t[15]=0,t}lookAt(t,e,n){return 1===arguments.length&&({eye:t,center:e,up:n}=t),e=e||[0,0,0],n=n||[0,1,0],a.g(this,t,e,n),this.check()}ortho({left:t,right:e,bottom:n,top:r,near:o=.1,far:i=500}){return a.i(this,t,e,n,r,o,i),this.check()}orthographic({fovy:t=45*Math.PI/180,aspect:e=1,focalDistance:n=1,near:r=.1,far:o=500}){if(t>2*Math.PI)throw Error("radians");const i=t/2,a=n*Math.tan(i),s=a*e;return(new p).ortho({left:-s,right:s,bottom:-a,top:a,near:r,far:o})}perspective({fovy:t,fov:e=45*Math.PI/180,aspect:n=1,near:r=.1,far:o=500}={}){if((t=t||e)>2*Math.PI)throw Error("radians");return a.j(this,t,n,r,o),this.check()}determinant(){return a.a(this)}getScale(t=[-0,-0,-0]){return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}getTranslation(t=[-0,-0,-0]){return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}getRotation(t=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=null){const n=this.getScale(e||[-0,-0,-0]),r=1/n[0],o=1/n[1],i=1/n[2];return t[0]=this[0]*r,t[1]=this[1]*o,t[2]=this[2]*i,t[3]=0,t[4]=this[4]*r,t[5]=this[5]*o,t[6]=this[6]*i,t[7]=0,t[8]=this[8]*r,t[9]=this[9]*o,t[10]=this[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}getRotationMatrix3(t=[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=null){const n=this.getScale(e||[-0,-0,-0]),r=1/n[0],o=1/n[1],i=1/n[2];return t[0]=this[0]*r,t[1]=this[1]*o,t[2]=this[2]*i,t[3]=this[4]*r,t[4]=this[5]*o,t[5]=this[6]*i,t[6]=this[8]*r,t[7]=this[9]*o,t[8]=this[10]*i,t}transpose(){return a.q(this,this),this.check()}invert(){return a.f(this,this),this.check()}multiplyLeft(t){return a.h(this,t,this),this.check()}multiplyRight(t){return a.h(this,this,t),this.check()}rotateX(t){return a.l(this,this,t),this.check()}rotateY(t){return a.m(this,this,t),this.check()}rotateZ(t){return a.n(this,this,t),this.check()}rotateXYZ([t,e,n]){return this.rotateX(t).rotateY(e).rotateZ(n)}rotateAxis(t,e){return a.k(this,this,t,e),this.check()}scale(t){return Array.isArray(t)?a.o(this,this,t):a.o(this,this,[t,t,t]),this.check()}translate(t){return a.p(this,this,t),this.check()}transform(t,e){return 4===t.length?(e=u.n(e||[-0,-0,-0,-0],t,this),Object(r.b)(e,4),e):this.transformAsPoint(t,e)}transformAsPoint(t,e){const{length:n}=t;switch(n){case 2:e=s.h(e||[-0,-0],t,this);break;case 3:e=c.o(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(r.b)(e,t.length),e}transformAsVector(t,e){switch(t.length){case 2:e=Object(i.a)(e||[-0,-0],t,this);break;case 3:e=Object(i.c)(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(r.b)(e,t.length),e}makeRotationX(t){return this.identity().rotateX(t)}makeTranslation(t,e,n){return this.identity().translate([t,e,n])}transformPoint(t,e){return Object(r.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(t,e)}transformVector(t,e){return Object(r.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(t,e)}transformDirection(t,e){return Object(r.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(t,e)}}},745:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(433),o=n(58),i=n(233),a=n(157),s=n(116),c=n(68);const u=Object.freeze([1,0,0,0,1,0,0,0,1]),l=Object.freeze([0,0,0,0,0,0,0,0,0]),d=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),h={};class f extends r.a{static get IDENTITY(){return h.IDENTITY=h.IDENTITY||Object.freeze(new f(u)),h.IDENTITY}static get ZERO(){return h.ZERO=h.ZERO||Object.freeze(new f(l)),h.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return d}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}set(t,e,n,r,o,i,a,s,c){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=o,this[5]=i,this[6]=a,this[7]=s,this[8]=c,this.check()}setRowMajor(t,e,n,r,o,i,a,s,c){return this[0]=t,this[1]=r,this[2]=a,this[3]=e,this[4]=o,this[5]=s,this[6]=n,this[7]=i,this[8]=c,this.check()}determinant(){return a.b(this)}identity(){return this.copy(u)}fromQuaternion(t){return a.c(this,t),this.check()}transpose(){return a.i(this,this),this.check()}invert(){return a.d(this,this),this.check()}multiplyLeft(t){return a.e(this,t,this),this.check()}multiplyRight(t){return a.e(this,this,t),this.check()}rotate(t){return a.f(this,this,t),this.check()}scale(t){return Array.isArray(t)?a.g(this,this,t):a.g(this,this,[t,t,t]),this.check()}translate(t){return a.h(this,this,t),this.check()}transform(t,e){switch(t.length){case 2:e=s.g(e||[-0,-0],t,this);break;case 3:e=c.n(e||[-0,-0,-0],t,this);break;case 4:e=Object(i.d)(e||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(o.b)(e,t.length),e}transformVector(t,e){return Object(o.c)("Matrix3.transformVector"),this.transform(t,e)}transformVector2(t,e){return Object(o.c)("Matrix3.transformVector"),this.transform(t,e)}transformVector3(t,e){return Object(o.c)("Matrix3.transformVector"),this.transform(t,e)}}},746:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(292),o=n(58),i=n(114),a=n(98),s=n(92);const c=[0,0,0,1];class u extends r.a{constructor(t=0,e=0,n=0,r=1){super(-0,-0,-0,-0),Array.isArray(t)&&1===arguments.length?this.copy(t):this.set(t,e,n,r)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}set(t,e,n,r){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this.check()}fromMatrix3(t){return a.e(this,t),this.check()}identity(){return a.f(this),this.check()}fromAxisRotation(t,e){return a.p(this,t,e),this.check()}setAxisAngle(t,e){return this.fromAxisRotation(t,e)}get ELEMENTS(){return 4}get x(){return this[0]}set x(t){this[0]=Object(o.a)(t)}get y(){return this[1]}set y(t){this[1]=Object(o.a)(t)}get z(){return this[2]}set z(t){this[2]=Object(o.a)(t)}get w(){return this[3]}set w(t){this[3]=Object(o.a)(t)}len(){return a.h(this)}lengthSquared(){return a.r(this)}dot(t,e){if(void 0!==e)throw new Error("Quaternion.dot only takes one argument");return a.d(this,t)}rotationTo(t,e){return a.n(this,t,e),this.check()}add(t,e){if(void 0!==e)throw new Error("Quaternion.add only takes one argument");return a.a(this,this,t),this.check()}calculateW(){return a.b(this,this),this.check()}conjugate(){return a.c(this,this),this.check()}invert(){return a.g(this,this),this.check()}lerp(t,e,n){return a.i(this,t,e,n),this.check()}multiplyRight(t,e){return Object(i.a)(!e),a.j(this,this,t),this.check()}multiplyLeft(t,e){return Object(i.a)(!e),a.j(this,t,this),this.check()}normalize(){const t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}rotateX(t){return a.k(this,this,t),this.check()}rotateY(t){return a.l(this,this,t),this.check()}rotateZ(t){return a.m(this,this,t),this.check()}scale(t){return a.o(this,this,t),this.check()}slerp(t,e,n){switch(arguments.length){case 1:({start:t=c,target:e,ratio:n}=arguments[0]);break;case 2:[e,n]=arguments,t=this}return a.q(this,t,e,n),this.check()}transformVector4(t,e=t){return s.o(e,t,this),Object(o.b)(e,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(t,e){return this.setAxisAngle(t,e)}premultiply(t,e){return this.multiplyLeft(t,e)}multiply(t,e){return this.multiplyRight(t,e)}}},747:function(t,e,n){"use strict";e.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},754:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(292),o=n(58),i=n(114);class a extends r.a{get ELEMENTS(){return Object(i.a)(!1),0}copy(t){return Object(i.a)(!1),this}get x(){return this[0]}set x(t){this[0]=Object(o.a)(t)}get y(){return this[1]}set y(t){this[1]=Object(o.a)(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let e=0;for(let n=0;n<this.ELEMENTS;++n){const r=this[n]-t[n];e+=r*r}return Object(o.a)(e)}dot(t){let e=0;for(let n=0;n<this.ELEMENTS;++n)e+=this[n]*t[n];return Object(o.a)(e)}normalize(){const t=this.magnitude();if(0!==t)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}multiply(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e[t];return this.check()}divide(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e[t];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return Object(i.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),Object(o.a)(this[t])}setComponent(t,e){return Object(i.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}addVectors(t,e){return this.copy(t).add(e)}subVectors(t,e){return this.copy(t).subtract(e)}multiplyVectors(t,e){return this.copy(t).multiply(e)}addScaledVector(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}var s=n(57),c=n(68),u=n(233);const l=[0,0,0],d={};class h extends a{static get ZERO(){return d.ZERO=d.ZERO||Object.freeze(new h(0,0,0,0))}constructor(t=0,e=0,n=0){super(-0,-0,-0),1===arguments.length&&Object(s.e)(t)?this.copy(t):(s.b.debug&&(Object(o.a)(t),Object(o.a)(e),Object(o.a)(n)),this[0]=t,this[1]=e,this[2]=n)}set(t,e,n){return this[0]=t,this[1]=e,this[2]=n,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return s.b.debug&&(Object(o.a)(t.x),Object(o.a)(t.y),Object(o.a)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=Object(o.a)(t)}angle(t){return c.b(this,t)}cross(t){return c.d(this,this,t),this.check()}rotateX({radians:t,origin:e=l}){return c.k(this,this,e,t),this.check()}rotateY({radians:t,origin:e=l}){return c.l(this,this,e,t),this.check()}rotateZ({radians:t,origin:e=l}){return c.m(this,this,e,t),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return c.o(this,this,t),this.check()}transformAsVector(t){return Object(u.c)(this,this,t),this.check()}transformByMatrix3(t){return c.n(this,this,t),this.check()}transformByMatrix2(t){return Object(u.b)(this,this,t),this.check()}transformByQuaternion(t){return c.p(this,this,t),this.check()}}},803:function(t,e,n){"use strict";t.exports=o,t.exports.default=o;var r=1e20;function o(t,e,n,r,o,i){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=o||"sans-serif",this.fontWeight=i||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function i(t,e,n,r,o,i){for(var s=0;s<e;s++)a(t,s,e,n,r,o,i);for(var c=0;c<n;c++)a(t,c*e,1,e,r,o,i)}function a(t,e,n,o,i,a,s){var c,u,l,d;for(a[0]=0,s[0]=-r,s[1]=r,c=0;c<o;c++)i[c]=t[e+c*n];for(c=1,u=0,l=0;c<o;c++){do{d=a[u],l=(i[c]-i[d]+c*c-d*d)/(c-d)/2}while(l<=s[u]&&--u>-1);a[++u]=c,s[u]=l,s[u+1]=r}for(c=0,u=0;c<o;c++){for(;s[u+1]<c;)u++;d=a[u],t[e+c*n]=i[d]+(c-d)*(c-d)}}o.prototype._draw=function(t,e){var n,o,a,s,c,u,l,d,h,f=this.ctx.measureText(t),p=f.width,g=2*this.buffer;e&&this.useMetrics?(c=Math.floor(f.actualBoundingBoxAscent),d=this.buffer+Math.ceil(f.actualBoundingBoxAscent),u=this.buffer,l=this.buffer,n=(o=Math.min(this.size,Math.ceil(f.actualBoundingBoxRight-f.actualBoundingBoxLeft)))+g,a=(s=Math.min(this.size-u,Math.ceil(f.actualBoundingBoxAscent+f.actualBoundingBoxDescent)))+g,this.ctx.textBaseline="alphabetic"):(n=o=this.size,a=s=this.size,c=19*this.fontSize/24,u=l=0,d=this.middle,this.ctx.textBaseline="middle"),o&&s&&(this.ctx.clearRect(l,u,o,s),this.ctx.fillText(t,this.buffer,d),h=this.ctx.getImageData(l,u,o,s));var m=new Uint8ClampedArray(n*a);return function(t,e,n,o,i,a,s){a.fill(r,0,e*n),s.fill(0,0,e*n);for(var c=(e-o)/2,u=0;u<i;u++)for(var l=0;l<o;l++){var d=(u+c)*e+l+c,h=t.data[4*(u*o+l)+3]/255;if(1===h)a[d]=0,s[d]=r;else if(0===h)a[d]=r,s[d]=0;else{var f=Math.max(0,.5-h),p=Math.max(0,h-.5);a[d]=f*f,s[d]=p*p}}}(h,n,a,o,s,this.gridOuter,this.gridInner),i(this.gridOuter,n,a,this.f,this.v,this.z),i(this.gridInner,n,a,this.f,this.v,this.z),function(t,e,n,r,o,i,a){for(var s=0;s<e*n;s++){var c=Math.sqrt(r[s])-Math.sqrt(o[s]);t[s]=Math.round(255-255*(c/i+a))}}(m,n,a,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:m,metrics:{width:o,height:s,sdfWidth:n,sdfHeight:a,top:c,left:0,advance:p}}},o.prototype.draw=function(t){return this._draw(t,!1).data},o.prototype.drawWithMetrics=function(t){return this._draw(t,!0)}},805:function(t,e,n){"use strict";e.a=function(t,e){return!!t.lngLat&&(t.lngLat.lng===e[0]&&t.lngLat.lat===e[1])}},806:function(t,e,n){"use strict";function r(t){if(this._items={},this._nums={},this._length=t?t.length:0,t)for(let e=0,n=t.length;e<n;e++)this.add(t[e]),void 0!==t[e]&&("string"==typeof t[e]?this._items[t[e]]=e:this._nums[t[e]]=e)}r.prototype.add=function(t){return this.has(t)||(this._length++,"string"==typeof t?this._items[t]=this._length:this._nums[t]=this._length),this},r.prototype.delete=function(t){return!1===this.has(t)||(this._length--,delete this._items[t],delete this._nums[t]),this},r.prototype.has=function(t){return("string"==typeof t||"number"==typeof t)&&(void 0!==this._items[t]||void 0!==this._nums[t])},r.prototype.values=function(){const t=[];return Object.keys(this._items).forEach(e=>{t.push({k:e,v:this._items[e]})}),Object.keys(this._nums).forEach(e=>{t.push({k:JSON.parse(e),v:this._nums[e]})}),t.sort((t,e)=>t.v-e.v).map(t=>t.k)},r.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this},e.a=r},807:function(t,e,n){"use strict";var r=n(294),o=n(14);e.a=function(t,e){const n=Object(r.a)(t.map(t=>t.toGeoJSON()),e);t.forEach(t=>{const e=t.getCoordinates(),r=t=>{const e={lng:t[0]+n.lng,lat:t[1]+n.lat};return[e.lng,e.lat]},i=t=>t.map(t=>r(t)),a=t=>t.map(t=>i(t));let s;t.type===o.geojsonTypes.POINT?s=r(e):t.type===o.geojsonTypes.LINE_STRING||t.type===o.geojsonTypes.MULTI_POINT?s=e.map(r):t.type===o.geojsonTypes.POLYGON||t.type===o.geojsonTypes.MULTI_LINE_STRING?s=e.map(i):t.type===o.geojsonTypes.MULTI_POLYGON&&(s=e.map(a)),t.incomingCoords(s)})}},808:function(t,e,n){"use strict";var r=n(87),o=n(1285);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(0)),a=(0,r(n(1286)).default)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");e.default=a},823:function(t,e,n){"use strict";function r(t){for(var e="https://material-ui.com/production-error/?code="+t,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}n.d(e,"a",(function(){return r}))},825:function(t,e,n){"use strict";var r=n(2),o=n(46),i=n(0),a=(n(3),n(123)),s=n(7),c=n(231),u=n(206),l=n(120),d=n(409),h=n(97),f=n(1476),p="undefined"==typeof window?i.useEffect:i.useLayoutEffect;var g=function(t){var e=t.classes,n=t.pulsate,r=void 0!==n&&n,o=t.rippleX,a=t.rippleY,c=t.rippleSize,l=t.in,d=t.onExited,h=void 0===d?function(){}:d,f=t.timeout,g=i.useState(!1),m=g[0],y=g[1],v=Object(s.a)(e.ripple,e.rippleVisible,r&&e.ripplePulsate),b={width:c,height:c,top:-c/2+a,left:-c/2+o},x=Object(s.a)(e.child,m&&e.childLeaving,r&&e.childPulsate),E=Object(u.a)(h);return p((function(){if(!l){y(!0);var t=setTimeout(E,f);return function(){clearTimeout(t)}}}),[E,l,f]),i.createElement("span",{className:v,style:b},i.createElement("span",{className:x}))},m=i.forwardRef((function(t,e){var n=t.center,a=void 0!==n&&n,c=t.classes,u=t.className,l=Object(o.a)(t,["center","classes","className"]),d=i.useState([]),p=d[0],m=d[1],y=i.useRef(0),v=i.useRef(null);i.useEffect((function(){v.current&&(v.current(),v.current=null)}),[p]);var b=i.useRef(!1),x=i.useRef(null),E=i.useRef(null),O=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(x.current)}}),[]);var S=i.useCallback((function(t){var e=t.pulsate,n=t.rippleX,r=t.rippleY,o=t.rippleSize,a=t.cb;m((function(t){return[].concat(Object(h.a)(t),[i.createElement(g,{key:y.current,classes:c,timeout:550,pulsate:e,rippleX:n,rippleY:r,rippleSize:o})])})),y.current+=1,v.current=a}),[c]),M=i.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.pulsate,o=void 0!==r&&r,i=e.center,s=void 0===i?a||e.pulsate:i,c=e.fakeElement,u=void 0!==c&&c;if("mousedown"===t.type&&b.current)b.current=!1;else{"touchstart"===t.type&&(b.current=!0);var l,d,h,f=u?null:O.current,p=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)l=Math.round(p.width/2),d=Math.round(p.height/2);else{var g=t.touches?t.touches[0]:t,m=g.clientX,y=g.clientY;l=Math.round(m-p.left),d=Math.round(y-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2==0&&(h+=1);else{var v=2*Math.max(Math.abs((f?f.clientWidth:0)-l),l)+2,M=2*Math.max(Math.abs((f?f.clientHeight:0)-d),d)+2;h=Math.sqrt(Math.pow(v,2)+Math.pow(M,2))}t.touches?null===E.current&&(E.current=function(){S({pulsate:o,rippleX:l,rippleY:d,rippleSize:h,cb:n})},x.current=setTimeout((function(){E.current&&(E.current(),E.current=null)}),80)):S({pulsate:o,rippleX:l,rippleY:d,rippleSize:h,cb:n})}}),[a,S]),C=i.useCallback((function(){M({},{pulsate:!0})}),[M]),w=i.useCallback((function(t,e){if(clearTimeout(x.current),"touchend"===t.type&&E.current)return t.persist(),E.current(),E.current=null,void(x.current=setTimeout((function(){w(t,e)})));E.current=null,m((function(t){return t.length>0?t.slice(1):t})),v.current=e}),[]);return i.useImperativeHandle(e,(function(){return{pulsate:C,start:M,stop:w}}),[C,M,w]),i.createElement("span",Object(r.a)({className:Object(s.a)(c.root,u),ref:O},l),i.createElement(f.a,{component:null,exit:!0},p))})),y=Object(l.a)((function(t){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(t.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(t.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(i.memo(m)),v=i.forwardRef((function(t,e){var n=t.action,l=t.buttonRef,h=t.centerRipple,f=void 0!==h&&h,p=t.children,g=t.classes,m=t.className,v=t.component,b=void 0===v?"button":v,x=t.disabled,E=void 0!==x&&x,O=t.disableRipple,S=void 0!==O&&O,M=t.disableTouchRipple,C=void 0!==M&&M,w=t.focusRipple,j=void 0!==w&&w,_=t.focusVisibleClassName,I=t.onBlur,T=t.onClick,k=t.onFocus,L=t.onFocusVisible,P=t.onKeyDown,A=t.onKeyUp,N=t.onMouseDown,R=t.onMouseLeave,F=t.onMouseUp,D=t.onTouchEnd,H=t.onTouchMove,z=t.onTouchStart,U=t.onDragLeave,B=t.tabIndex,V=void 0===B?0:B,G=t.TouchRippleProps,W=t.type,q=void 0===W?"button":W,J=Object(o.a)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Z=i.useRef(null);var Y=i.useRef(null),X=i.useState(!1),K=X[0],Q=X[1];E&&K&&Q(!1);var $=Object(d.a)(),tt=$.isFocusVisible,et=$.onBlurVisible,nt=$.ref;function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return Object(u.a)((function(r){return e&&e(r),!n&&Y.current&&Y.current[t](r),!0}))}i.useImperativeHandle(n,(function(){return{focusVisible:function(){Q(!0),Z.current.focus()}}}),[]),i.useEffect((function(){K&&j&&!S&&Y.current.pulsate()}),[S,j,K]);var ot=rt("start",N),it=rt("stop",U),at=rt("stop",F),st=rt("stop",(function(t){K&&t.preventDefault(),R&&R(t)})),ct=rt("start",z),ut=rt("stop",D),lt=rt("stop",H),dt=rt("stop",(function(t){K&&(et(t),Q(!1)),I&&I(t)}),!1),ht=Object(u.a)((function(t){Z.current||(Z.current=t.currentTarget),tt(t)&&(Q(!0),L&&L(t)),k&&k(t)})),ft=function(){var t=a.findDOMNode(Z.current);return b&&"button"!==b&&!("A"===t.tagName&&t.href)},pt=i.useRef(!1),gt=Object(u.a)((function(t){j&&!pt.current&&K&&Y.current&&" "===t.key&&(pt.current=!0,t.persist(),Y.current.stop(t,(function(){Y.current.start(t)}))),t.target===t.currentTarget&&ft()&&" "===t.key&&t.preventDefault(),P&&P(t),t.target===t.currentTarget&&ft()&&"Enter"===t.key&&!E&&(t.preventDefault(),T&&T(t))})),mt=Object(u.a)((function(t){j&&" "===t.key&&Y.current&&K&&!t.defaultPrevented&&(pt.current=!1,t.persist(),Y.current.stop(t,(function(){Y.current.pulsate(t)}))),A&&A(t),T&&t.target===t.currentTarget&&ft()&&" "===t.key&&!t.defaultPrevented&&T(t)})),yt=b;"button"===yt&&J.href&&(yt="a");var vt={};"button"===yt?(vt.type=q,vt.disabled=E):("a"===yt&&J.href||(vt.role="button"),vt["aria-disabled"]=E);var bt=Object(c.a)(l,e),xt=Object(c.a)(nt,Z),Et=Object(c.a)(bt,xt),Ot=i.useState(!1),St=Ot[0],Mt=Ot[1];i.useEffect((function(){Mt(!0)}),[]);var Ct=St&&!S&&!E;return i.createElement(yt,Object(r.a)({className:Object(s.a)(g.root,m,K&&[g.focusVisible,_],E&&g.disabled),onBlur:dt,onClick:T,onFocus:ht,onKeyDown:gt,onKeyUp:mt,onMouseDown:ot,onMouseLeave:st,onMouseUp:at,onDragLeave:it,onTouchEnd:ut,onTouchMove:lt,onTouchStart:ct,ref:Et,tabIndex:E?-1:V},vt,J),p,Ct?i.createElement(y,Object(r.a)({ref:Y,center:f},G)):null)}));e.a=Object(l.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(v)},84:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Ee})),n.d(e,"b",(function(){return K})),n.d(e,"c",(function(){return ge})),n.d(e,"d",(function(){return $})),n.d(e,"e",(function(){return xe})),n.d(e,"f",(function(){return me})),n.d(e,"g",(function(){return Oe})),n.d(e,"h",(function(){return Et}));var r=n(0),o=n.n(r),i=n(3),a=n.n(i),s=n(38),c=n(340),u=n.n(c),l=(n(1267),n(105)),d=n(237),h=n(779),f=n(780),p=n.n(f),g=n(48),m=(n(1329),n(783),n(784),n(782),n(299)),y=n(306),v=n(781),b=n.n(v),x=n(822),E=(n(737),n(302),n(420)),O=n.n(E),S=n(421),M=n.n(S),C=n(554),w=n.n(C),j=n(1321),_=n(308),I=n(824),T=n(826),k=n(786),L=n.n(k),P=n(785),A=n.n(P),N=n(1330),R=n(1327),F=n(1322),D=n(555);function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){V(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(t,e)||J(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||J(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y=["lng","lat"],X=function(t){var e=this,n=this;this.registeredElements={},this.baseLayers=[],this.firstSymbolLayer=void 0,this.eventHandlers={layerchange:[],viewportchange:[]},this.wrapper={on:function(t,e,r,o){if(n.eventHandlers[t]){"string"==typeof r&&(o=r,r={}),n.eventHandlers[t].push({handler:e,options:r});var i=[t,e];o&&"string"==typeof o&&(n.initRegisteredElements(o),n.registeredElements[o].wrapperEvents.push(i))}},off:function(t,e){n.eventHandlers[t]&&(n.eventHandlers[t]=n.eventHandlers[t].filter((function(t){if(!Object.is(t.handler,e))return t})))},fire:function(t,e){if(n.eventHandlers[t]){var r=e||window,o=new Event(t);o.data=n,n.eventHandlers[t].forEach((function(t){t.handler.call(r,o)}))}},layerState:{},layerStateStrings:{},oldLayerStateStrings:{},buildLayerObject:function(t){var e,r,o={},i=null===(e=t.paint)||void 0===e?void 0:e._values;Object.keys(i||{}).map((function(t){o[t]=void 0!==i[t].value?i[t].value.value:i[t]}));var a={};return i=null===(r=t.layout)||void 0===r?void 0:r._values,Object.keys(i||{}).map((function(t){a[t]=void 0!==i[t].value?i[t].value.value:i[t]})),{id:t.id,type:t.type,visible:"none"!==t.visibility,baseLayer:-1!==n.baseLayers.indexOf(t.id),paint:o,layout:a}},buildLayerObjects:function(){return n.style._order.map((function(t){return n.wrapper.buildLayerObject(n.map.style._layers[t])})).filter((function(t){return t}))},refreshLayerState:function(){n.wrapper.layerState=n.wrapper.buildLayerObjects(),n.wrapper.layerStateStrings=n.wrapper.layerState.map((function(t){return JSON.stringify(t)}))},viewportState:{},viewportStateString:"{}",oldViewportStateString:"{}",getViewport:function(){return"function"==typeof n.map.getCenter?{center:function(t){var e=t.lng,n=t.lat;G(t,Y);return{lng:e,lat:n}}(n.map.getCenter()),zoom:n.map.getZoom(),bearing:n.map.getBearing(),pitch:n.map.getPitch()}:{}},refreshViewport:function(){n.wrapper.viewportState=n.wrapper.getViewport()}},this.initRegisteredElements=function(t,e){(void 0===n.registeredElements[t]||"undefined"!==e&&e)&&(n.registeredElements[t]={layers:[],sources:[],images:[],events:[],controls:[],wrapperEvents:[]})},this.addLayer=function(t,e,r){n.map.style&&(r&&"string"==typeof r&&void 0!==t.id&&(n.initRegisteredElements(r),n.registeredElements[r].layers.push(t.id),"object"===U(t.source)&&n.registeredElements[r].sources.push(t.id)),n.map.addLayer(t,e))},this.addSource=function(t,e,r,o){if(n.map.style){if("string"==typeof r&&void 0===o)return n.addSource.call(n,t,e,void 0,r);o&&"string"==typeof o&&void 0!==t&&(n.initRegisteredElements(o),n.registeredElements[o].sources.push(t)),n.map.addSource(t,e,r)}},this.addImage=function(t,e,r,o){if(n.map.style){if("string"==typeof r&&void 0===o)return n.addImage.call(n,t,e,void 0,r);o&&"string"==typeof o&&void 0!==t&&(n.initRegisteredElements(o),n.registeredElements[o].images.push(t)),n.map.addImage(t,e,r)}},this.on=function(t,e,r,o){var i;if("string"==typeof r&&"function"==typeof e)return n.on.call(n,t,void 0,e,r);var a=[t,e,r];e||(a=[t,r]),o&&"string"==typeof o&&(n.initRegisteredElements(o),n.registeredElements[o].events.push(a)),(i=n.map).on.apply(i,q(a))},this.addControl=function(t,e,r){r&&"string"==typeof r&&(n.initRegisteredElements(r),n.registeredElements[r].controls.push(t)),n.map.addControl(t,e)},this.cleanup=function(t){n.map.style&&void 0!==n.registeredElements[t]&&(n.registeredElements[t].layers.forEach((function(t){n.map.style.getLayer(t)&&n.map.style.removeLayer(t)})),n.registeredElements[t].sources.forEach((function(t){n.map.style.getSource(t)&&n.map.style.removeSource(t)})),n.registeredElements[t].images.forEach((function(t){n.map.hasImage(t)&&n.map.style.removeImage(t)})),n.registeredElements[t].events.forEach((function(t){var e;(e=n.map).off.apply(e,q(t))})),n.registeredElements[t].controls.forEach((function(t){n.map.removeControl(t)})),n.registeredElements[t].wrapperEvents.forEach((function(t){var e;(e=n.wrapper).off.apply(e,q(t))})),n.initRegisteredElements(t,!0))};["moveLayer","removeLayer","removeSource","setPaintProperty","setLayoutProperty"].forEach((function(t){e[t]=function(){var r;n.map&&e.map.style&&"function"==typeof n.map.style[t]&&(r=n.map.style)[t].apply(r,arguments);return n.map._update?n.map._update(!0):void 0}}));["getLayer","getSource","listImages","getPaintProperty","getLayoutProperty","removeImage"].forEach((function(t){e[t]=function(){var e;return!(!n.map||!n.map.style)&&(e=n.map.style)[t].apply(e,arguments)}})),this.addNativeMaplibreFunctionsAndProps=function(){Object.keys(e.map.__proto__).forEach((function(t){void 0===e[t]&&(e[t]=function(){var e;return(e=n.map)[t].apply(e,arguments)})})),Object.keys(e.map).forEach((function(t){void 0===e[t]&&(e[t]=n.map[t])}))};["getZoom","setZoom","getCenter","setCenter","getBearing","setBearing","getPitch","setPitch","jumpTo","flyTo","panTo","panBy","panBy","zoomTo","zoomIn","zoomOut","getPadding","setPadding","rotateTo","resetNorth","resetNorthPitch","snapToNorth","cameraForBounds","fitBounds","fitScreenCoordinates","getFreeCameraOptions","setFreeCameraOptions","easeTo","stop"].forEach((function(t){e[t]=function(){if("function"==typeof n.map[t]){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=n.map[t]).call.apply(e,[n.map].concat(o))}}})),function(){var e,r=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t.mapOptions.style||-1!==t.mapOptions.style.indexOf("mapbox://")){e.next=3;break}return e.next=3,fetch(t.mapOptions.style).then((function(t){if(t.ok)return t.json();throw new Error("error loading map style.json")})).then((function(e){e.layers.forEach((function(t){n.baseLayers.push(t.id),n.firstSymbolLayer||"symbol"!==t.type||(n.firstSymbolLayer=t.id)})),n.styleJson=e,t.mapOptions.style=e})).catch((function(t){console.log(t)}));case 3:n.map=new u.a.Map(t.mapOptions),n.addNativeMaplibreFunctionsAndProps(),n.wrapper.refreshViewport(),n.wrapper.fire("viewportchange"),n.map.on("move",(function(){n.wrapper.viewportState=n.wrapper.getViewport(),n.wrapper.fire("viewportchange")})),n.map.on("data",(function(){n.wrapper.refreshLayerState(),n.wrapper.fire("layerchange")})),"function"==typeof t.onReady&&t.onReady(n.map,n);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){B(i,r,o,a,s,"next",t)}function s(t){B(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(){return r.apply(this,arguments)}}()()},K=function(t){var e=Object(r.useRef)(null),n=Object(r.useRef)(null),i=Object(r.useContext)(s.b),a=Object(r.useRef)(i),c=Object(r.useRef)(t.mapId),u=t.options;return Object(r.useEffect)((function(){var t=c.current,n=a.current;return function(){var r,o;n.removeMap(t),null===(r=e.current)||void 0===r||null===(o=r.remove)||void 0===o||o.call(r),e.current=null}}),[]),Object(r.useEffect)((function(){n.current&&(e.current=new X({mapOptions:z({container:n.current},u),onReady:function(e,n){e.once("load",(function(){t.mapId?i.registerMap(t.mapId,n):i.setMap(n)})),window.map=n}}))}),[n]),o.a.createElement("div",{ref:n,className:"mapContainer"})};K.defaultProps={mapId:void 0,options:{lng:8.607,lat:53.1409349,zoom:10,accessToken:"pk.eyJ1IjoibWF4dG9iaSIsImEiOiJjaW1rcWQ5bWMwMDJvd2hrbWZ2ZTBhcnM5In0.NcGt5NmLP5Q1WC7P5u6qUA"}},K.propTypes={mapId:a.a.string,options:a.a.object};var Q=function(t){var e=Object(r.useContext)(s.b),n=Object(r.useRef)(!1),i=Object(r.useRef)(void 0),a=Object(r.useRef)((t.idPrefix?t.idPrefix:"MlComponentTemplate-")+Object(l.a)());return Object(r.useEffect)((function(){var t=a.current;return function(){i.current&&(i.current.cleanup(t),i.current=void 0),n.current=!1}}),[]),Object(r.useEffect)((function(){e.mapExists(t.mapId)&&!n.current&&(n.current=!0,i.current=e.getMap(t.mapId),i.current.setCenter([7.132122000552613,50.716405378037706]))}),[e.mapIds,e,t.mapId]),o.a.createElement(o.a.Fragment,null)};Q.defaultProps={mapId:void 0},Q.propTypes={mapId:a.a.string};var $=function(t){var e=Object(r.useContext)(s.b),n=Object(r.useRef)(null),i=W(Object(r.useState)(!0),2),a=i[0],c=i[1],u=Object(r.useRef)((t.idPrefix?t.idPrefix:"MlFillExtrusionLayer-")+Object(l.a)()),h=Object(r.useRef)(!1),f=Object(r.useRef)(t.layerId||"MlFillExtrusionLayer-"+Object(l.a)());return Object(r.useEffect)((function(){var t=u.current;return function(){n.current&&(n.current.cleanup(t),n.current=void 0),h.current=!1}}),[]),Object(r.useEffect)((function(){if(e.mapExists(t.mapId)&&!h.current){h.current=!0,n.current=e.getMap(t.mapId);var r=void 0;e.map.getLayer("waterway-name")&&(r="waterway-name"),e.map.getLayer("poi_label")&&(r="poi_label"),e.map.addLayer({id:f.current,type:"fill-extrusion",source:t.sourceId||"openmaptiles","source-layer":t.sourceLayer||"building",minzoom:t.minZoom||14,paint:z({},t.paint)},t.insertBeforeLayer||r,u.current)}}),[e,t.insertBeforeLayer,t.mapId,t.minZoom,t.paint,t.sourceId,t.sourceLayer]),Object(r.useEffect)((function(){h.current&&n.current.setLayoutProperty(f.current,"visibility",a?"visible":"none")}),[a,e]),o.a.createElement(d.a,{color:"primary",variant:a?"contained":"outlined",onClick:function(){return c(!a)}},"Composite")};$.defaultProps={mapId:void 0,paint:{"fill-extrusion-color":"hsl(196, 61%, 83%)","fill-extrusion-height":{property:"render_height",type:"identity"},"fill-extrusion-base":{property:"render_min_height",type:"identity"},"fill-extrusion-opacity":1}},$.propTypes={mapId:a.a.string,layerId:a.a.string,idPrefix:a.a.string,paint:a.a.object,sourceId:a.a.string,sourceLayer:a.a.string,minZoom:a.a.number,insertBeforeLayer:a.a.string};var tt={street:["footway","street","road","street_name","residential","path","pedestrian","road_reference","road_reference_intl","square","place"],number:["house_number","street_number"],place:["city","village","hamlet","locality","croft","neighbourhood","suburb","city_district","district","quarter","borough","city_block","residential","commercial","industrial","houses","subdivision","allotments","postal_city","town","municipality","local_administrative_area"],zip:["postcode","partial_postcode"],state:["state","province","state_code"]},et=function(t){return 25.4,96/25.4*t+"px"},nt=function(t,e,n){n(!0);var r=window.devicePixelRatio,o=document.createElement("div");o.className="hidden-map",document.body.appendChild(o);var i=document.createElement("div");i.style.width=et(210),i.style.height=et(297),o.appendChild(i);var a=new u.a.Map({container:i,center:t.getCenter(),zoom:t.getZoom(),bearing:t.getBearing(),pitch:t.getPitch(),interactive:!1,preserveDrawingBuffer:!0,fadeDuration:0,attributionControl:!1}),s=t.getStyle(),c=function(t){var e=s.sources[t];Object.keys(e).forEach((function(t){e[t]||delete e[t]}))};for(var l in s.sources)c(l);a.setStyle(s),a.once("idle",(function(){var t,i=new h.a({orientation:"p",unit:"mm",compress:!0});Object.defineProperty(window,"devicePixelRatio",{get:function(){return 3.125}});var s=(e?function(t){var e=[];for(var n in tt)tt[n].some((function(n){return!!t.hasOwnProperty(n)&&(e.push(t[n]),!0)}));return e.join(", ")}(e.address):"").split(","),c=[];c.length&&s.forEach((function(t){var e=t.match(/.{1,34}/g);c.push.apply(c,q(e))})),i.addImage(a.getCanvas().toDataURL("image/png"),"png",0,0,210,297,null,"FAST"),i.setFillColor("white"),i.rect(138,287,297,10,"F"),i.setFontSize(10),i.text("Datenquelle: © OpenStreetMap-Mitwirkende",140,i.internal.pageSize.height-3),i.setFillColor("white");var u=3.25*c.length+3+3+6.5+4+1;i.rect(2.5,2,66.5,u,"F"),i.setFontSize(10),i.text("Karten PDF:",6,5.5),i.rect(6,7,60,3.25*c.length+4+1),i.setFontSize(10),c.forEach((function(t,e){i.text(t.trim(),8,10+3.5*e+2)})),i.addImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAACxCAMAAABnTAbVAAAC8VBMVEUAAAD/AACAAACqAFW/AECZMzOqK1W2JEm/IECqHDmzGk25F0aqFUCxJzu2JEmqIkSvIEC0HjyqHEeuG0OzGkC2GD2uI0axIUO1IECtHz2xHUWzHEKtG0CwGj6zIkS1IUKyHz60HkSvHUKxHECzHD6uG0OxIUGzIECuHz6wHkOyHkG0HUCwHD6xHEOzIUGvIECxHz6zH0KvHkGxHUCyHT+vHEKwHEGyIECzHz+wH0KxHkGzHkCwHT+xHUKyHEGvIECxHz+yH0KzHkGwHkCxHj+zHUKwHUGxHECyHz+wH0GxH0GyHkCwHj+xHUGyHUGzHUCwHz+xH0GyH0GwHkCxHj+yHkGwHUCxHUCyHT+wH0GxH0CxHkCyHj+wHkGxHkCyHUCwHT+xH0GyH0CwH0CxHj+yHkGwHkCxHUCxHT+yHUGwH0CxH0CyHj+wHkGxHkCyHkCwHT+xHUGxH0CyH0CxHz+xHkGyHkCwHkCxHj+yHUGwHUCxH0CwHkGxHkCxHkCyHj+xHUGxHUCyH0CwHz+xHkGyHkCwHkCxHj+xHkGwHUCxHUCxHz+yH0GxHkCyHj+wHkGxHUCxHUCwHz+xH0GxHkCyHkCxHj+xHkGyHkCxHUCxHT+yH0GwHkCxHkCxHj+wHkGxHkCxHkCyHT+xH0GxH0CyHkCxHj+xHkGxHkCwHkCxHT+xHUCwH0CxHkCxHj+yHkCxHkCxHkCyHj+xHUCxH0CxHkCwHj+xHkCxHkCwHkCxHj+xHkCyHUCxH0CxHj+xHkCxHkCxHkCxHj+wHkCxHUCxH0CyHj+xHkCxHkCyHkCxHj+xHkCxHUCxHz+xHkCwHkCxHkCxHj+yHkCxHkCxHkCxHkCxHkCxHkCxHj+xHkCwHkCxHT+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xH0CxHkCxHkCyHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkD///9g21WfAAAA+XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyEiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fn+AgYKDhIWGh4iJiouMjY6PkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc/Q0dLT1NXW19ja29zd3uDh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7v1AMKAAAAAWJLR0T61W0GSgAACWZJREFUGBnVwXlAVHUCB/DvmxkuD0QswFo3TcwzS0p01RVMpUytLKxMSVNpLUsLj7VDo7btsNTssrTMdAtWNjNbkyzF3EotwrXMI7XwAAxE5Jz5/rcaMMx782Z452/p84GV2na+ZmRqasrwxE4OtFRhI/+29SS9qn/86PGUKLQ4CW+X0p/n+xeTnGhB4v/NgIpXj3aihZhRyaCOPNYRwrW+KwkKmWxWTVYfiBRy49qzxW0hN5FaeLLiIUrv5UUkl0Au9iy1qXk1BgJIIzZ7eMG1kHuBmpVMkWCz0LQC1itzQkb6hTpsiYOdQmcfZ6M8yPWmLoWDYBsp9SCbZENuDPWpmgKbJO+mr9WQm0y95sEO8Zso9z7k7qJuj8JyzofPUeFjyA2nfvfDYl23089eyPWkfrXDYCXXI1X0Vy5BxllC/U50hHU676aqbpDLogEfoEFUR5g0qoTqJkJuAo0YjQZPpcIMab6bAayBXMgxGrDfiXrhBVnRMOyiTxhQkQtyGTTidjS4quZIEgzqfYRBjIFc2Pc0YCcaLWbdXyUY8acSBrMBCgPqqJ+nExpEniL/FQn9hpczKHdPKCyiAfeh0SMkf+wDvSbWsBlroCCtpX6volFkOcmzqdBntofN8QyGQkQudcuF12qe554DPWZRg70hUAjNoV6fwyuFv1nuhGYT3dRiDpRCVlCnHHiFlfM3m9tCo5trqUlFX/hJO0ddFqJJLut9HQ1NrquiRoc7wM/V31GPa9DkGTbIvwga9C+nZrlO+Al9opqabYWPqWy0NwbNuvQEdXgJKuI/oEaVfeFjFL32xaEZYV+yQeWBbVlZq15f9sp7W/YcrmYAS6AmOY9aeCbA13Vssv8SBPcazzuaPS/5Yvhy9bhtYfZxqlgiQU3SFg+bUzUJMtfTR0EUgpnK2s/n9oQ6qe+cT85R6SUnVPVYXsag9iVCLo2+dkQgsKv3zI9FUBGpuR7KbY6CulZ3bqplICfmhUHhWcpsdCGgi6FB16dOUeaHeATSbtyKI/Tn2TEtAn7yKLdSgkmt55ygr9M3I4ies9fkV7PJwXVTO0HFxbVUWAjTWj10kr7eikRQIb3vSJ8//5l5aSN7RyGAJ6nkuQXmRS1108eRZJgUeZp+yvvAAoP20od7VRxMeZEqDkXDAiFPuumjLCMExo3yUM2nLljhhhL6+iHVAYO6nqK6TFii05eU2ZfmhBHdf2YA7mRYIiybcnvTwqDbgJMM6Gh7WML5JhVOPvNH6CLNqmYQ62ENaSmVatbfFArNEvIoV7Phvmti2rXukrJgazXPmw6LLKa/4uUDHdAi/h8eylQtjoNX1H355JlOsIb0PtUUrhgTgeAcoza5KfddD8hIN37LjbBI+BdUV/HJI4NCEIBr2LKjVNrcFkquhypvh0UuOsCAzm5bktYnBHLRQx/d9Cv9veeCir550bBI3yoGVXv40xWZGdNT09LTH12yZmcR1X0VDlVtR8Aqc2mBXzrCdo7PaN44CHBZKc36CELMpUk1XSBE6EGa8xYEmUBT3L0giLSLZnwIYW6iGbdCGMdhGlcaAXHm07g3IVCHczRsHER6l0bVRkGk22jUTgjVpooGPQuxttCg8RDrARp0OcTqRWPKJYjlqqQh+RBtDw1ZD9FW0pDnIdqDNCQDoo2iIVMgWiINGQvRLqchwyBaFA35M0STamjEIAh3mkYMhnClNOJ6CHeGRqRCuCoakQ7RImhIJkSLoyFvQbSraMhWiDaWhhyFaDNpiKcdBFtOYwZCsG00ZjrEkoppzGsQqzsNyodY99CgukgI9TaNSoZIUiGNWgSREmjYfyDSszSsrj3EcRyjceMgTgpNWAlx1tGEYhdEiaygGddBlIdoyisQJKKQphx3QYxZNGk0hAj7mSblQIiZNKs2DgJEn6RpcyDACpr3kwu2S3TTAnfAbq58WmEP7PYYgzq1fdXf56anT5/ycOayNZ8WMaChsNeQWgZy4NXJie0hFzciY2MF1WyDrWJ/oaritfdchgAiRr18jP5ugI0cW6jCnZsWgaAcwzd6qPCdA/Z5mv4Ozr8EGvR4pZpyE2CbSR4qHU53QaP4LA99FbaDTW6po8L+iU7oMHg3fS2DPYZVUe50uhP6uBbWsom7P+xw7RnKrYuFfgMPsUl+KKw39FfKHEqBIW3Xs8lSWC61ijKrW8Egx1I2uQ0We8BNX1WzYMIsNxuVd4eVnIspc6gfTJnkZqP/RsM6l26nTG4UTHqAXl+1gVWGn6DMhnCYlkmvz8JhidDFHsqsdMICb9BrUxtY4M97KbdMghXCvqFXwWUwq+NaKjwHi3Qto1dhf5gSOruMCu9IsMqdbFI11wnDwmcepdLmEFhnHX18PQDGtM44Tj+72sBCl5yhD88/+0G/K18sor/CWFhqDuV2psfCq/UMNCdm9rdUU5cMa4V8TwVP/uszRicmJAyZ9m5ZJfCXpBAE4Lx2wWc1VLcQVhvHIN4DxrM0J2NwBBRikmdmlzCgrQ5YzbGfgaUA0k6eV1OQ8/y9qSMHJQy96e4HH389r5hBFcXBelMZ0DEngEQPdZsCG4T9zECewgUrqdcOCXZYyACqL8UFHYqoT21f2OJyD9WtQr1p1Oc52GQ3VXl6oZ6URz1OtYFNHqaqj9AovoI6LIBd/kBVQ+E1m9qVRMI2P1LFDjRx5FGzx2GfN+nPMxA+OpVQo7L2sM9k+suGzHhq9AJs1Jl+arpBbhW1uRJ2KqXSMii0LqAWu2Crb6hQGgOlrr9Sgxmw1ftUSIe/MR42q7I9bPU05bZLUPEEm5UDe02jTGU3qJHWsjn3wl7jKbMA6iK+YjO6wF430te3IQgg9hCDOgCbJdNH+RUIqMtxBvMybDaAPiYhiH5lDOJW2Kwfm7yBoJIqGFhX2CyJXgURCG74OQZS4YDNxrJR6RVozohKBrAHdpvEBjUj0LyUCqpbDbvdzwaTocWQUqqaB7stYr1MaJNQRDV3wG7v8DdrJGjU7SBVXA+7fcELPgyFZh2+oL/+sJmjjOd9HAYdWuXQzxWwWS+e92EodJEWeagQA5tNJ7khFHrdUk65cNgsh8wOhX4991GmFewVVs7nHTAiYil9tYO9Uuruh1F3n2GTONjr6dEwrnMevfrBXrEwwzGvig3GomXrvoP1HkQLJ6WV8II30OJ1XO0huQu/AwN3k5Vh+B1wpP3EIfhdCE2fhv+X/wF/AO+L9vuzfwAAAABJRU5ErkJggg==","png",5,12+3*c.length+4,3,3,null,"FAST"),i.setFontSize(10),i.text("wheregroup.com",40,12+3.25*c.length+4+1),i.setProperties({title:"Map export",subject:"Map export",creator:"WhereGroup GmbH",author:"(c)WhereGroup GmbH, (c)OpenStreetMap"}),i.save("Map.pdf"),a.remove(),null===(t=o.parentNode)||void 0===t||t.removeChild(o),Object.defineProperty(window,"devicePixelRatio",{get:function(){return r}}),n(!1)}))},rt=function(t){var e=Object(r.useContext)(s.b),n=Object(r.useRef)(!1),i=Object(r.useRef)(void 0);return Object(r.useEffect)((function(){e.mapExists(t.mapId)&&!n.current&&(n.current=!0,i.current=e.getMap(t.mapId))}),[e.mapIds,e,t.mapId]),o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{color:"primary",variant:"contained",onClick:function(){nt(i.current,null,(function(){}))}},o.a.createElement(p.a,null)))};rt.defaultProps={mapId:void 0},rt.propTypes={mapId:a.a.string};var ot=function(t,e,n,r,o,i,a,s,c,u,l){var d=[],h=[],f=[],p=[];n.current=[];var m=i.current||{geometry:{type:"LineString",coordinates:[]},properties:{},type:"Feature"},y=t,v=y,b=m,x=!1;if(void 0===v.geometry&&void 0!==b.geometry&&b.geometry.coordinates.length>1)v=Object(g.lineString)(b.geometry.coordinates.slice(0,2));else if(void 0===b.geometry&&void 0!==v.geometry&&v.geometry.coordinates.length>1)b=Object(g.lineString)(v.geometry.coordinates.slice(0,2));else if(void 0===b.geometry&&void 0===v.geometry)return;if(v.geometry.coordinates.length<b.geometry.coordinates.length&&(v=m,b=y,x=!0),v&&b)for(var E=0,O=v.geometry.coordinates.length;E<O;E++)void 0!==b.geometry.coordinates[E]&&v.geometry.coordinates[E][0]===b.geometry.coordinates[E][0]&&v.geometry.coordinates[E][1]===b.geometry.coordinates[E][1]?n.current.push(v.geometry.coordinates[E]):(void 0!==v.geometry.coordinates[E]&&h.push(v.geometry.coordinates[E]),void 0!==b.geometry.coordinates[E]&&d.push(b.geometry.coordinates[E]));if(x?(f=d,p=h):(f=h,p=d),!(f.length<2&&p<2)){var S=e.transitionTime/a,M=p.length>1?Math.round(Object(g.length)(Object(g.lineString)(p))):0,C=f.length>1?Math.round(Object(g.length)(Object(g.lineString)(f))):0,w=C+M,j=M/w,_=Math.round(S*j),I=Math.round(M/_*100)/100,T=C/w,k=Math.round(S*T),L=Math.round(C/k*100)/100;r.current=[];var P={},A={};if(p.length>1){for(P=(A=Object(g.lineChunk)(Object(g.lineString)(p),I)).features[1],E=0;E<_;E++){if(r.current.push(P),void 0===A.features[E]){r.current.push(P);break}P=Object(g.lineString)([].concat(q(P.geometry.coordinates),q(A.features[E].geometry.coordinates)))}r.current.reverse()}if(f.length>1)for(P=(A=Object(g.lineChunk)(Object(g.lineString)(f),L)).features[1],E=0;E<k;E++){if(r.current.push(P),void 0===A.features[E]){r.current.push(P);break}P=Object(g.lineString)([].concat(q(P.geometry.coordinates),q(A.features[E].geometry.coordinates)))}r.current.push(e.geojson),s.current=1,o.current=!0,l.current=setTimeout((function(){return function t(e,n,r,o,i,a,s,c,u){var l=arguments;if(void 0!==r.getSource(n)&&o.current){if(void 0!==i.current[s.current]){var d,h=s.current+1===i.current.length?e.geojson:Object(g.lineString)([].concat(q(a.current),q(i.current[s.current].geometry.coordinates)));if(null==r||null===(d=r.getSource)||void 0===d||!d.call(r,n))return;r.getSource(n).setData(h),"function"==typeof e.onTransitionFrame&&e.onTransitionFrame(h),s.current++,o.current&&s.current<i.current.length?u.current=setTimeout((function(){return t.apply(void 0,q(l))}),c):("function"==typeof e.onTransitionEnd&&e.onTransitionEnd(e.geojson),o.current=!1)}}else u.current=setTimeout((function(){return t.apply(void 0,q(l))}),c)}(e,u,c,o,r,n,s,a,l)}),a)}},it=function(t){var e=Object(r.useContext)(s.b),n=Object(r.useRef)(null),i=Object(r.useRef)(null),a=Object(r.useRef)(!1),c=Object(r.useRef)(!1),u=Object(r.useRef)(void 0),d=Object(r.useRef)(!1),h=Object(r.useRef)([]),f=Object(r.useRef)([]),p=Object(r.useRef)((t.layerId?t.layerId:"MlGeoJsonLayer-")+(t.idSuffix||Object(l.a)())),m=Object(r.useRef)(t.layerId||p.current);Object(r.useEffect)((function(){var t=p.current;return function(){u.current&&clearTimeout(u.current),i.current&&(i.current.cleanup(t),i.current=null)}}),[]),Object(r.useEffect)((function(){if(i.current&&a.current)for(var n in t.layout)e.getMap(t.mapId).setLayoutProperty(m.current,n,t.layout[n])}),[t.layout,e,t.mapId]),Object(r.useEffect)((function(){if(i.current&&a.current)for(var n in t.paint)e.getMap(t.mapId).setPaintProperty(m.current,n,t.paint[n])}),[t.paint,e,t.mapId]);var y=Object(r.useCallback)((function(e){ot(e,t,f,h,c,n,50,d,i.current,p.current,u)}),[t]);return Object(r.useEffect)((function(){var e,r;null!==(e=i.current)&&void 0!==e&&null!==(r=e.getSource)&&void 0!==r&&r.call(e,p.current)&&a.current&&(void 0!==t.transitionTime&&"line"===t.type&&n.current?(c.current=!1,d.current=!1,h.current=[],f.current=[],y(t.geojson)):i.current.getSource(p.current).setData(t.geojson),n.current=t.geojson)}),[t.geojson,t.mapId,e,t.type,y,t.transitionTime]),Object(r.useEffect)((function(){if(e.mapExists(t.mapId)&&!a.current&&t.geojson){a.current=!0;var r=t.geojson;if("line"===t.type&&void 0!==t.transitionTime&&t.transitionTime&&void 0!==t.geojson.geometry)r=Object(g.lineChunk)(t.geojson,.01).features[0];i.current=e.getMap(t.mapId),i.current.addLayer({id:m.current,source:{type:"geojson",data:r},type:t.type||"line",paint:t.paint||{"line-color":"rgb(100,200,100)","line-width":10},layout:t.layout||{}},t.insertBeforeLayer,p.current),void 0!==t.onHover&&i.current.on("mousemove",p.current,t.onHover,p.current),void 0!==t.onClick&&i.current.on("click",p.current,t.onClick,p.current),void 0!==t.onLeave&&i.current.on("mouseleave",p.current,t.onLeave,p.current),"line"===t.type&&void 0!==t.transitionTime&&void 0!==t.geojson.geometry&&(y(t.geojson),n.current=t.geojson)}}),[e.mapIds,e,t,y]),o.a.createElement(o.a.Fragment,null)};it.propTypes={mapId:a.a.string,type:a.a.string,layout:a.a.object,paint:a.a.object,geojson:a.a.object,insertBeforeLayer:a.a.string,layerId:a.a.string,onClick:a.a.func,onHover:a.a.func,onLeave:a.a.func,transitionTime:a.a.number,idSuffix:a.a.string};var at,st,ct=function(t){var e=Object(r.useRef)(null),n=Object(r.useRef)((t.idPrefix?t.idPrefix:"MlImageMarkerLayer-")+Object(l.a)()),i=Object(r.useContext)(s.b),a=Object(r.useRef)(!1),c=(Object(r.useRef)(t.idSuffix||(new Date).getTime()),Object(r.useRef)(t.imageId||"img_"+(new Date).getTime())),u=Object(r.useRef)(t.layerId||n.current);Object(r.useEffect)((function(){var t=n.current;return function(){e.current&&(e.current.cleanup(t),e.current=null)}}),[]),Object(r.useEffect)((function(){if(e.current&&(!e.current||i.getMap(t.mapId).getLayer(u.current))&&t.options){var n;if(t.options.layout)for(n in t.options.layout)i.getMap(t.mapId).setLayoutProperty(u.current,n,t.options.layout[n]);if(t.options.paint)for(n in t.options.paint)i.getMap(t.mapId).setPaintProperty(u.current,n,t.options.paint[n])}}),[t.options,u.current,i,t.mapId]);var d=Object(r.useCallback)((function(){var r=z({id:u.current,layout:{}},t.options);r.layout["icon-image"]=c.current,e.current.addLayer(r,t.insertBeforeLayer,n.current)}),[t]);return Object(r.useEffect)((function(){t.options&&i.mapExists(t.mapId)&&!a.current&&(e.current=i.getMap(t.mapId),a.current=!0,console.log(t.imgSrc),t.imgSrc&&e.current.loadImage(t.imgSrc,(function(t,r){if(t)throw t;e.current.addImage(c.current,r,n.current)})),d())}),[i.mapIds,i,t,d]),Object(r.useEffect)((function(){e.current&&(!e.current||i.getMap(t.mapId).getLayer(u.current))&&t.options&&e.current.getSource(u.current).setData(t.options.source.data)}),[t.options.source.data,i,t]),o.a.createElement(o.a.Fragment,null)};function ut(){return(ut=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function lt(t){return Object(r.createElement)("svg",ut({width:"39.675098mm",height:"104.27064mm",viewBox:"0 0 39.675098 104.27064"},t),Object(r.createElement)("g",{transform:"translate(-86.019554,-58.032633)"},Object(r.createElement)("path",{style:{strokeWidth:.744756},d:"m 442.74023,219.33594 -117.62695,32.32422 54.71094,31.12304 c -21.99397,41.5931 -32.8507,84.88283 -38.33008,127.89649 -6.86182,50.94051 -5.95715,103.99765 20.23828,155.46484 5.97246,11.72776 13.65817,23.59773 24.38867,35.06641 2.6597,2.84073 5.65602,5.75455 9.12891,8.68164 0.87557,0.7378 1.85363,1.52609 2.95117,2.35547 0.29669,0.22563 0.63616,0.47742 1.02149,0.75586 l 0.58203,0.42578 34.57812,-15.12305 -0.33789,-0.2207 c -0.0265,-0.0151 -0.0842,-0.0587 -0.18359,-0.13086 -0.46723,-0.34885 -0.9819,-0.76796 -1.56055,-1.25 -2.29757,-1.91343 -4.46539,-4.04643 -6.64062,-6.33985 -8.80052,-9.27114 -15.30333,-19.4993 -20.83985,-30.13867 -24.42289,-46.90715 -24.77465,-97.03535 -18.58008,-146.68164 4.94388,-37.37493 13.65299,-74.4847 30.20508,-109.92969 l 58.6211,33.34766 z",transform:"scale(0.26458333)"})))}function dt(){return(dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ht(t){return Object(r.createElement)("svg",dt({width:"39.675098mm",height:"104.27064mm",viewBox:"0 0 39.675098 104.27064"},t),at||(at=Object(r.createElement)("g",{transform:"translate(-86.019554,-58.032633)"},Object(r.createElement)("path",{d:"m 94.572523,58.032633 31.122127,8.55245 -14.4756,8.234638 c 5.81924,11.004841 8.69175,22.458582 10.1415,33.839279 1.81552,13.47801 1.57616,27.51604 -5.35471,41.13341 -1.58021,3.10296 -3.61373,6.24356 -6.45284,9.27798 -0.70371,0.75161 -1.49649,1.52256 -2.41535,2.29702 -0.23167,0.19521 -0.49044,0.40378 -0.78083,0.62322 -0.0785,0.0597 -0.16832,0.12632 -0.27027,0.19999 l -0.154,0.11265 -9.148793,-4.00131 0.0894,-0.0584 c 0.007,-0.004 0.02228,-0.0155 0.04857,-0.0346 0.123621,-0.0923 0.259794,-0.20319 0.412895,-0.33073 0.607899,-0.50626 1.181468,-1.07062 1.756997,-1.67742 2.328481,-2.45299 4.049011,-5.15919 5.513881,-7.97419 6.46189,-12.41085 6.55496,-25.67394 4.91598,-38.80952 -1.30807,-9.888781 -3.61235,-19.707408 -7.99176,-29.085561 l -15.510171,8.823235 z"}))))}function ft(){return(ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function pt(t){return Object(r.createElement)("svg",ft({width:"75.967445mm",height:"234.71339mm",viewBox:"0 0 75.967445 234.71339"},t),st||(st=Object(r.createElement)("g",{transform:"translate(-76.705281,-29.77268)"},Object(r.createElement)("path",{d:"m 114.68901,29.77268 37.98372,117.3567 H 76.705281 Z"}),Object(r.createElement)("path",{d:"m 114.68901,264.48608 37.98372,-117.3567 H 76.705281 Z"}))))}var gt=Object(m.a)("div",{target:"e12lzm5x2"})({name:"1204o9",styles:"width:40%;display:flex;align-items:center;&:hover{cursor:pointer;}path{filter:drop-shadow(0px 0px 15px rgba(0, 0, 0, 0.2));}&:hover path{filter:drop-shadow(0px 0px 13px rgba(255, 255, 255, 0.1));}path:nth-of-type(2){fill:#343434;}&:hover path:nth-of-type(2){fill:#434343;}path:nth-of-type(1){fill:#e90318;}&:hover path:nth-of-type(1){fill:#fb4052;}"}),mt=Object(m.a)("div",{target:"e12lzm5x1"})({name:"1m8y6tb",styles:"pointer-events:none;display:flex;z-index:1002;position:absolute;align-items:center;margin-left:-30%;path:nth-of-type(2){}svg g{transform:translate(-76.7053, -29.7727) scale(2, 1);}svg{z-index:9990;height:150px;width:200px;}"}),yt=Object(m.a)("div",{target:"e12lzm5x0"})({name:"1j4uu1m",styles:"width:30%;margin-top:14px;z-index:999;display:flex;svg:hover{cursor:pointer;}svg:hover path{fill:#ececec;filter:drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.1));}path{fill:#bbb;}svg{transform:scale(0.6);z-index:9990;height:172px;}"}),vt=function(t){var e=Object(r.useContext)(s.b),n=Object(r.useRef)(!1),i=Object(r.useRef)(void 0),a=Object(r.useRef)((t.idPrefix?t.idPrefix:"MlNavigationCompass-")+Object(l.a)()),c=W(Object(r.useState)(0),2),u=c[0],d=c[1];return Object(r.useEffect)((function(){var t=a.current;return function(){i.current&&(i.current.cleanup(t),i.current=void 0),n.current=!1}}),[]),Object(r.useEffect)((function(){e.mapExists(t.mapId)&&!n.current&&(n.current=!0,i.current=e.getMap(t.mapId),i.current.on("rotate",(function(){d(Math.round(i.current.getBearing()))}),a.current),d(Math.round(i.current.getBearing())))}),[e.mapIds,e,t.mapId]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Object(y.a)(z({zIndex:1e3,top:0,position:"absolute"},t.style),"","")},o.a.createElement("div",{className:Object(y.a)(z({position:"absolute",border:"10px solid #bcbcbc",backgroundColor:"#717171",background:"radial-gradient(#717171, #414141)",height:"200px",width:"200px",borderRadius:"50%",display:"flex",justifyContent:"center",transform:"scale(0.2) translateX(-448px) translateY(-448px)"},t.backgroundStyle),"","")},o.a.createElement(yt,{className:Object(y.a)(z({},t.rotateRightStyle),"","")},o.a.createElement(lt,{onClick:function(){var t,e,n=Math.round(null===(t=i.current)||void 0===t?void 0:t.getBearing()),r=Math.round(n%90);n>0&&(r=90-r),0===r&&(r=90),null===(e=i.current)||void 0===e||e.setBearing(Math.round(n+Math.abs(r)))}})),o.a.createElement(gt,{className:Object(y.a)(z({},t.needleStyle),"",""),onClick:function(){var t;null===(t=i.current)||void 0===t||t.setBearing(0)}},o.a.createElement(mt,{style:{transform:"rotate("+u+"deg)"}},o.a.createElement(pt,null))),o.a.createElement(yt,{className:Object(y.a)(z({},t.rotateLeftStyle),"","")},o.a.createElement(ht,{onClick:function(){var t,e,n=Math.round(null===(t=i.current)||void 0===t?void 0:t.getBearing()),r=Math.round(n%90);n<0&&(r=90+r),0===r&&(r=90),null===(e=i.current)||void 0===e||e.setBearing(Math.round(n-Math.abs(r)))}})))))};vt.propTypes={idPrefix:a.a.string,style:a.a.object,backgroundStyle:a.a.object,needleStyle:a.a.object,rotateRightStyle:a.a.object,rotateLeftStyle:a.a.object};var bt=function(t){var e=Object(r.useContext)(s.b),n=W(Object(r.useState)(!1),2),i=n[0],a=n[1],c=W(Object(r.useState)(void 0),2),u=c[0],h=c[1],f=Object(r.useRef)(void 0),p=W(Object(r.useState)(!1),2),m=p[0],y=p[1],v=Object(r.useRef)(!1),x=Object(r.useRef)(void 0),E=Object(r.useRef)((t.idPrefix?t.idPrefix:"MlFollowGps-")+Object(l.a)()),O=W(Object(r.useState)(30),2),S=O[0],M=O[1];Object(r.useEffect)((function(){var t=E.current;return function(){x.current&&(x.current.cleanup(t),x.current=void 0),f.current&&(v.current=!1,navigator.geolocation.clearWatch(f.current),f.current=void 0)}}),[]),Object(r.useEffect)((function(){e.mapExists(t.mapId)&&!v.current&&(v.current=!0,x.current=e.getMap(t.mapId),x.current.setCenter([7.132122000552613,50.716405378037706]))}),[e.mapIds,e,t.mapId]);var C=function(t){x.current&&(x.current.setCenter([t.coords.longitude,t.coords.latitude]),M(t.coords.accuracy),h(Object(g.point)([t.coords.longitude,t.coords.latitude])))},w=function(t){console.log("Access of user location denied"),y(!0)};return o.a.createElement(o.a.Fragment,null,i&&u&&o.a.createElement(it,{geojson:u,type:"circle",paint:{"circle-radius":{stops:[[0,0],[20,S/.075/Math.cos(u.geometry.coordinates[1]*Math.PI/180)]],base:2},"circle-color":"#ee7700","circle-opacity":.5}}),i&&u&&o.a.createElement(ct,{options:{type:"symbol",source:{type:"geojson",data:u},layout:{"icon-size":.1,"icon-offset":[0,-340]}},imgSrc:"b556faa3bc6829d2.png"}),o.a.createElement(d.a,{sx:z({zIndex:1002,color:i?"#bbb":"#666"},t.style),disabled:m,onClick:function(){i?navigator.geolocation.clearWatch(f.current):f.current=navigator.geolocation.watchPosition(C,w),a(!i)}}," ",o.a.createElement(b.a,{sx:{fontSize:t.style.fontSize}})," "))};bt.defaultProps={mapId:void 0,style:{minWidth:"30px",minHeight:"30px",width:"30px",height:"30px",backgroundColor:"#414141",borderRadius:"23%",margin:.15,fontSize:"1.3em",":hover":{backgroundColor:"#515151",color:"#ececec"}}},bt.propTypes={mapId:a.a.string,style:a.a.object};a.a.string,a.a.string,a.a.object,a.a.object,a.a.string;a.a.string,a.a.object,a.a.object,a.a.string;var xt={visible:!0,urlParameters:{bbox:"{bbox-epsg-3857}",format:"image/png",service:"WMS",version:"1.1.1",request:"GetMap",srs:"EPSG:3857",width:256,height:256,styles:""},attribution:"",sourceOptions:{minZoom:0,maxZoom:20},layerOptions:{minZoom:0,maxZoom:20}},Et=function(t){var e=Object(r.useContext)(s.b),n=Object(r.useRef)(t.layerId||"MlWmsLayer-"+Object(l.a)()),i=Object(r.useRef)(null),a=Object(r.useRef)(!1),c=Object(r.useRef)(t.layerId||n.current);return Object(r.useEffect)((function(){var t=n.current;return function(){i.current&&(i.current.cleanup(t),i.current=null),a.current=!1}}),[]),Object(r.useEffect)((function(){var r;if(e.mapExists(t.mapId)&&!a.current&&(i.current=e.getMap(t.mapId),i.current)){var o;a.current=!0;var s=t.url;-1!==t.url.indexOf("?")&&(s=(o=t.url.split("?"))[0]);var u=new URLSearchParams(null===(r=o)||void 0===r?void 0:r[1]),l=z(z(z({},xt.urlParameters),Object.fromEntries(u)),t.urlParameters),d=new URLSearchParams(l),h=decodeURIComponent(d.toString())+"".replace(/%2F/g,"/").replace(/%3A/g,":");i.current.addSource(c.current,z({type:"raster",tiles:[s+"?"+h],tileSize:l.width,attribution:t.attribution},t.sourceOptions),n.current),i.current.addLayer(z({id:c.current,type:"raster",source:n.current},t.layerOptions),t.insertBeforeLayer,n.current),t.visible||i.current.setLayoutProperty(n.current,"visibility","none")}}),[e.mapIds,e,t]),Object(r.useEffect)((function(){i.current&&a.current&&(t.visible?i.current.setLayoutProperty(n.current,"visibility","visible"):i.current.setLayoutProperty(n.current,"visibility","none"))}),[t.visible]),o.a.createElement(o.a.Fragment,null)};Et.defaultProps=z({},xt),Et.propTypes={url:a.a.string.isRequired,urlParameters:a.a.shape({layers:a.a.string.isRequired,bbox:a.a.string,format:a.a.string,service:a.a.string,version:a.a.string,request:a.a.string,srs:a.a.string,width:a.a.number,height:a.a.number}),mapId:a.a.string,attribution:a.a.string,layerOptions:a.a.object,sourceOptions:a.a.object,insertBeforeLayer:a.a.string,visible:a.a.bool};var Ot="mapbox-gl-draw_boxselect",St="add",Mt="move",Ct="pointer",wt="none",jt="polygon",_t="Feature",It="Polygon",Tt="LineString",kt="Point",Lt="Multi",Pt="MultiPoint",At="MultiLineString",Nt="MultiPolygon",Rt="draw.create",Ft="draw.update",Dt="draw.combine",Ht="draw.uncombine",zt="move",Ut="change_coordinates",Bt="feature",Vt="midpoint",Gt="vertex",Wt="true",qt="false";function Jt(t){return function(e){var n=e.featureTarget;return!!n&&(!!n.properties&&n.properties.meta===t)}}function Zt(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===Wt&&t.featureTarget.properties.meta===Bt))}function Yt(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===qt&&t.featureTarget.properties.meta===Bt))}function Xt(t){return void 0===t.featureTarget}function Kt(t){var e=t.featureTarget;return!!e&&(!!e.properties&&e.properties.meta===Gt)}function Qt(t){return!!t.originalEvent&&!0===t.originalEvent.shiftKey}var $t=function(t){setTimeout((function(){t.map&&t.map.doubleClickZoom&&t._ctx&&t._ctx.store&&t._ctx.store.getInitialConfigValue&&t._ctx.store.getInitialConfigValue("doubleClickZoom")&&t.map.doubleClickZoom.enable()}),0)},te=function(t){setTimeout((function(){t.map&&t.map.doubleClickZoom&&t.map.doubleClickZoom.disable()}),0)};var ee=function(t,e,n,r){return{type:_t,properties:{meta:Gt,parent:t,coord_path:n,active:r?Wt:qt},geometry:{type:kt,coordinates:e}}},ne={};function re(t,e){var n=e.getBoundingClientRect();return new O.a(t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0))}ne.onSetup=function(){console.log("Change mode: custom polygon");var t=this.newFeature({type:_t,properties:{},geometry:{type:It,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),te(this),this.updateUIClasses({mouse:St}),this.activateUIButton(jt),this.setActionableState({trash:!0}),{polygon:t,currentVertexPosition:0}},ne.clickAnywhere=function(t,e){if(t.currentVertexPosition>0&&(n=e,r=t.polygon.coordinates[0][t.currentVertexPosition-1],n.lngLat&&n.lngLat.lng===r[0]&&n.lngLat.lat===r[1]))return this.changeMode("custom_select",{featureIds:[t.polygon.id]});var n,r;this.updateUIClasses({mouse:St}),t.polygon.updateCoordinate("0.".concat(t.currentVertexPosition),e.lngLat.lng,e.lngLat.lat),t.currentVertexPosition++,t.polygon.updateCoordinate("0.".concat(t.currentVertexPosition),e.lngLat.lng,e.lngLat.lat),this.map.fire(Rt,{features:[t.polygon.toGeoJSON()]})},ne.clickOnVertex=function(t){return this.changeMode("custom_select",{featureIds:[t.polygon.id]})},ne.onMouseMove=function(t,e){t.polygon.updateCoordinate("0.".concat(t.currentVertexPosition),e.lngLat.lng,e.lngLat.lat),Kt(e)&&this.updateUIClasses({mouse:Ct})},ne.onTap=ne.onClick=function(t,e){return Kt(e)?this.clickOnVertex(t,e):this.clickAnywhere(t,e)},ne.onKeyUp=function(t,e){!function(t){return 27===t.keyCode}(e)?function(t){return 13===t.keyCode}(e)&&this.changeMode("custom_select",{featureIds:[t.polygon.id]}):(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode("custom_select"))},ne.onStop=function(t){this.updateUIClasses({mouse:wt}),$t(this),this.activateUIButton(),void 0!==this.getFeature(t.polygon.id)&&(t.polygon.removeCoordinate("0.".concat(t.currentVertexPosition)),t.polygon.isValid()?this.map.fire(Rt,{features:[t.polygon.toGeoJSON()]}):(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode("custom_select",{},{silent:!0})))},ne.toDisplayFeatures=function(t,e,n){var r=e.properties.id===t.polygon.id;if(e.properties.active=r?Wt:qt,!r)return n(e);if(0!==e.geometry.coordinates.length){var o=e.geometry.coordinates[0].length;if(!(o<3)){if(e.properties.meta=Bt,n(ee(t.polygon.id,e.geometry.coordinates[0][0],"0.0",!1)),o>3){var i=e.geometry.coordinates[0].length-3;n(ee(t.polygon.id,e.geometry.coordinates[0][i],"0.".concat(i),!1))}if(o<=4){var a=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];if(n({type:_t,properties:e.properties,geometry:{coordinates:a,type:Tt}}),3===o)return}return n(e)}}},ne.onTrash=function(t){this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode("custom_select")};var oe=function(t,e,n){var r=e.geometry.coordinates,o=n.geometry.coordinates;if(r[1]>85||r[1]<-85||o[1]>85||o[1]<-85)return null;var i={lng:(r[0]+o[0])/2,lat:(r[1]+o[1])/2};return{type:_t,properties:{meta:Vt,parent:t,lng:i.lng,lat:i.lat,coord_path:n.properties.coord_path},geometry:{type:kt,coordinates:[i.lng,i.lat]}}};function ie(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.geometry,o=r.type,i=r.coordinates,a=t.properties&&t.properties.id,s=[];function c(t,n){var r="",o=null;t.forEach((function(t,i){var c=null!=n?"".concat(n,".").concat(i):String(i),l=ee(a,t,c,u(c));if(e.midpoints&&o){var d=oe(a,o,l);d&&s.push(d)}o=l;var h=JSON.stringify(t);r!==h&&s.push(l),0===i&&(r=h)}))}function u(t){return!!e.selectedPaths&&-1!==e.selectedPaths.indexOf(t)}function l(){var n=o.replace(Lt,"");i.forEach((function(r,o){var i={type:_t,properties:t.properties,geometry:{type:n,coordinates:r}};s=s.concat(ie(i,e,o))}))}return o===kt?s.push(ee(a,i,n,u(n))):o===It?i.forEach((function(t,e){c(t,null!==n?"".concat(n,".").concat(e):String(e))})):o===Tt?c(i,n):0===o.indexOf(Lt)&&l(),s}function ae(t){if(this._items={},this._nums={},this._length=t?t.length:0,t)for(var e=0,n=t.length;e<n;e++)this.add(t[e]),void 0!==t[e]&&("string"==typeof t[e]?this._items[t[e]]=e:this._nums[t[e]]=e)}ae.prototype.add=function(t){return this.has(t)||(this._length++,"string"==typeof t?this._items[t]=this._length:this._nums[t]=this._length),this},ae.prototype.delete=function(t){return!1===this.has(t)||(this._length--,delete this._items[t],delete this._nums[t]),this},ae.prototype.has=function(t){return("string"==typeof t||"number"==typeof t)&&(void 0!==this._items[t]||void 0!==this._nums[t])},ae.prototype.values=function(){var t=this,e=[];return Object.keys(this._items).forEach((function(n){e.push({k:n,v:t._items[n]})})),Object.keys(this._nums).forEach((function(n){e.push({k:JSON.parse(n),v:t._nums[n]})})),e.sort((function(t,e){return t.v-e.v})).map((function(t){return t.k}))},ae.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var se=function(t,e){var n=-90,r=90,o=-90,i=90,a=270,s=-270;t.forEach((function(t){var e=M()(t),c=e[1],u=e[3],l=e[0],d=e[2];c>n&&(n=c),u<r&&(r=u),u>o&&(o=u),c<i&&(i=c),l<a&&(a=l),d>s&&(s=d)}));var c=e;return n+c.lat>85&&(c.lat=85-n),o+c.lat>90&&(c.lat=90-o),r+c.lat<-85&&(c.lat=-85-r),i+c.lat<-90&&(c.lat=-90-i),a+c.lng<=-270&&(c.lng+=360*Math.ceil(Math.abs(c.lng)/360)),s+c.lng>=270&&(c.lng-=360*Math.ceil(Math.abs(c.lng)/360)),c},ce=function(t,e){var n=se(t.map((function(t){return t.toGeoJSON()})),e);t.forEach((function(t){var e,r=t.getCoordinates(),o=function(t){var e={lng:t[0]+n.lng,lat:t[1]+n.lat};return[e.lng,e.lat]},i=function(t){return t.map((function(t){return o(t)}))};t.type===kt?e=o(r):t.type===Tt||t.type===Pt?e=r.map(o):t.type===It||t.type===At?e=r.map(i):t.type===Nt&&(e=r.map((function(t){return t.map((function(t){return i(t)}))}))),t.incomingCoords(e)}))},ue={onSetup:function(t){var e=this;console.log("Change mode: custom select");var n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:t.featureIds||[]};return this.setSelected(n.initiallySelectedFeatureIds.filter((function(t){return void 0!==e.getFeature(t)}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},fireUpdate:function(){this.map.fire(Ft,{action:zt,features:this.getSelected().map((function(t){return t.toGeoJSON()}))})},fireActionable:function(){var t=this,e=this.getSelected(),n=e.filter((function(e){return t.isInstanceOf("MultiFeature",e)})),r=!1;if(e.length>1){r=!0;var o=e[0].type.replace("Multi","");e.forEach((function(t){t.type.replace("Multi","")!==o&&(r=!1)}))}var i=n.length>0,a=e.length>0;this.setActionableState({combineFeatures:r,uncombineFeatures:i,trash:a})},getUniqueIds:function(t){return t.length?t.map((function(t){return t.properties.id})).filter((function(t){return void 0!==t})).reduce((function(t,e){return t.add(e),t}),new ae).values():[]},stopExtendedInteractions:function(t){t.boxSelectElement&&(t.boxSelectElement.parentNode&&t.boxSelectElement.parentNode.removeChild(t.boxSelectElement),t.boxSelectElement=null),this.map.dragPan.enable(),t.boxSelecting=!1,t.canBoxSelect=!1,t.dragMoving=!1,t.canDragMove=!1},onStop:function(){$t(this)},onMouseMove:function(t){return this.stopExtendedInteractions(t)},onMouseOut:function(t){if(t.dragMoving)return this.fireUpdate()}};ue.onTap=ue.onClick=function(t,e){return Xt(e)?this.clickAnywhere(t,e):Jt(Gt)(e)?this.clickOnVertex(t,e):function(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&t.featureTarget.properties.meta===Bt)}(e)?this.clickOnFeature(t,e):void 0},ue.clickAnywhere=function(t){var e=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach((function(t){return e.doRender(t)}))),$t(this),this.stopExtendedInteractions(t)},ue.clickOnVertex=function(t,e){this.changeMode("custom_direct_select",{featureId:e.featureTarget.properties.parent,coordPath:e.featureTarget.properties.coord_path,startPos:e.lngLat}),this.updateUIClasses({mouse:Mt})},ue.startOnActiveFeature=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),this.doRender(e.featureTarget.properties.id),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},ue.clickOnFeature=function(t,e){var n=this;te(this),this.stopExtendedInteractions(t);var r=Qt(e),o=this.getSelectedIds(),i=e.featureTarget.properties.id,a=this.isSelected(i);if(!r&&a&&this.getFeature(i).type!==kt)return this.changeMode("custom_direct_select",{featureId:i});a&&r?(this.deselect(i),this.updateUIClasses({mouse:Ct}),1===o.length&&$t(this)):!a&&r?(this.select(i),this.updateUIClasses({mouse:Mt})):a||r||(o.forEach((function(t){return n.doRender(t)})),this.setSelected(i),this.updateUIClasses({mouse:Mt})),this.doRender(i)},ue.onMouseDown=function(t,e){return Zt(e)?this.startOnActiveFeature(t,e):this.drawConfig.boxSelect&&function(t){return!!t.originalEvent&&(!!t.originalEvent.shiftKey&&0===t.originalEvent.button)}(e)?this.startBoxSelect(t,e):void 0},ue.startBoxSelect=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),t.boxSelectStartLocation=re(e.originalEvent,this.map.getContainer()),t.canBoxSelect=!0},ue.onTouchStart=function(t,e){if(Zt(e))return this.startOnActiveFeature(t,e)},ue.onDrag=function(t,e){return t.canDragMove?this.dragMove(t,e):this.drawConfig.boxSelect&&t.canBoxSelect?this.whileBoxSelect(t,e):void 0},ue.whileBoxSelect=function(t,e){t.boxSelecting=!0,this.updateUIClasses({mouse:St}),t.boxSelectElement||(t.boxSelectElement=document.createElement("div"),t.boxSelectElement.classList.add(Ot),this.map.getContainer().appendChild(t.boxSelectElement));var n=re(e.originalEvent,this.map.getContainer()),r=Math.min(t.boxSelectStartLocation.x,n.x),o=Math.max(t.boxSelectStartLocation.x,n.x),i=Math.min(t.boxSelectStartLocation.y,n.y),a=Math.max(t.boxSelectStartLocation.y,n.y),s="translate(".concat(r,"px, ").concat(i,"px)");t.boxSelectElement.style.transform=s,t.boxSelectElement.style.WebkitTransform=s,t.boxSelectElement.style.width="".concat(o-r,"px"),t.boxSelectElement.style.height="".concat(a-i,"px")},ue.dragMove=function(t,e){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};ce(this.getSelected(),n),t.dragMoveLocation=e.lngLat},ue.onMouseUp=function(t,e){var n=this;if(t.dragMoving)this.fireUpdate();else if(t.boxSelecting){var r=[t.boxSelectStartLocation,re(e.originalEvent,this.map.getContainer())],o=this.featuresAt(null,r,"click"),i=this.getUniqueIds(o).filter((function(t){return!n.isSelected(t)}));i.length&&(this.select(i),i.forEach((function(t){return n.doRender(t)})),this.updateUIClasses({mouse:Mt}))}this.stopExtendedInteractions(t)},ue.toDisplayFeatures=function(t,e,n){e.properties.active=this.isSelected(e.properties.id)?Wt:qt,n(e),this.fireActionable(),e.properties.active===Wt&&e.geometry.type!==kt&&ie(e).forEach(n)},ue.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},ue.onCombineFeatures=function(){var t=this.getSelected();if(!(0===t.length||t.length<2)){for(var e=[],n=[],r=t[0].type.replace("Multi",""),o=0;o<t.length;o++){var i=t[o];if(i.type.replace("Multi","")!==r)return;i.type.includes("Multi")?i.getCoordinates().forEach((function(t){e.push(t)})):e.push(i.getCoordinates()),n.push(i.toGeoJSON())}if(n.length>1){var a=this.newFeature({type:_t,properties:n[0].properties,geometry:{type:"Multi".concat(r),coordinates:e}});this.addFeature(a),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([a.id]),this.map.fire(Dt,{createdFeatures:[a.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},ue.onUncombineFeatures=function(){var t=this,e=this.getSelected();if(0!==e.length){for(var n=[],r=[],o=function(o){var i=e[o];t.isInstanceOf("MultiFeature",i)&&(i.getFeatures().forEach((function(e){t.addFeature(e),e.properties=i.properties,n.push(e.toGeoJSON()),t.select([e.id])})),t.deleteFeature(i.id,{silent:!0}),r.push(i.toGeoJSON()))},i=0;i<e.length;i++)o(i);n.length>1&&this.map.fire(Ht,{createdFeatures:n,deletedFeatures:r}),this.fireActionable()}};var le=function(t,e,n,r){for(var o=[],i=t[0].toFixed(5),a=t[1].toFixed(5),s=0;s<n.length;s++)if(n[s].id!==e)for(var c=0;c<n[s].geometry.coordinates.length;c++)for(var u=0;u<n[s].geometry.coordinates[c].length;u++)i===n[s].geometry.coordinates[c][u][0].toFixed(5)&&a===n[s].geometry.coordinates[c][u][1].toFixed(5)&&o.push({featureId:n[s].id,coord_path:c+"."+u,lng:n[s].geometry.coordinates[c][u][0],lat:n[s].geometry.coordinates[c][u][1]});return o},de=function(t){for(var e=t._controls.length-1;e>=0;e--)if(t._controls[e].options&&"custom_select"===t._controls[e].options.defaultMode)return t._controls[e];return null},he=Jt(Gt),fe=Jt(Vt),pe={};pe.fireUpdate=function(){this.map.fire(Ft,{action:Ut,features:this.getSelected().map((function(t){return t.toGeoJSON()}))})},pe.fireActionable=function(t){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:t.selectedCoordPaths.length>0})},pe.startDragging=function(t,e){this.map.dragPan.disable(),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},pe.stopDragging=function(t){this.map.dragPan.enable(),t.dragMoving=!1,t.canDragMove=!1,t.dragMoveLocation=null},pe.onVertex=function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties,r=t.selectedCoordPaths.indexOf(n.coord_path);Qt(e)||-1!==r?Qt(e)&&-1===r&&t.selectedCoordPaths.push(n.coord_path):t.selectedCoordPaths=[n.coord_path];var o=de(this.map).getAll(),i=le(e.featureTarget._geometry.coordinates,e.featureTarget.properties.parent,o.features,this.map);t.groupMove_vertices=i;for(var a=0;a<t.groupMove_vertices.length;a++)t.groupMove_vertices[a].feature=this.getFeature(t.groupMove_vertices[a].featureId);var s=this.pathsToCoordinates(t.featureId,t.selectedCoordPaths);this.setSelectedCoordinates(s)},pe.onMidpoint=function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties;t.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),t.selectedCoordPaths=[n.coord_path]},pe.pathsToCoordinates=function(t,e){return e.map((function(e){return{feature_id:t,coord_path:e}}))},pe.onFeature=function(t,e){0===t.selectedCoordPaths.length?this.startDragging(t,e):this.stopDragging(t)},pe.dragFeature=function(t,e,n){ce(this.getSelected(),n),t.dragMoveLocation=e.lngLat},pe.dragVertex=function(t,e,n){for(var r=t.selectedCoordPaths.map((function(e){return t.feature.getCoordinate(e)})),o=r.map((function(t){return{type:_t,properties:{},geometry:{type:kt,coordinates:t}}})),i=se(o,n),a=0;a<r.length;a++){var s=r[a];t.feature.updateCoordinate(t.selectedCoordPaths[a],s[0]+i.lng,s[1]+i.lat);for(var c=0;c<t.groupMove_vertices.length;c++){var u=t.groupMove_vertices[c].coord_path.split(".");if(void 0!==u[0]&&void 0!==u[1]&&void 0!==t.groupMove_vertices[c].feature.coordinates[u[0]]&&void 0!==t.groupMove_vertices[c].feature.coordinates[u[0]][u[1]]){var l=t.groupMove_vertices[c].feature.coordinates[u[0]][u[1]];t.groupMove_vertices[c].feature.updateCoordinate(t.groupMove_vertices[c].coord_path,l[0]+i.lng,l[1]+i.lat)}}}},pe.clickNoTarget=function(){this.changeMode("custom_select")},pe.clickInactive=function(){this.changeMode("custom_select")},pe.clickActiveFeature=function(t){t.selectedCoordPaths=[],this.clearSelectedCoordinates(),t.feature.changed()},pe.onSetup=function(t){var e=t.featureId,n=this.getFeature(e);if(!n)throw new Error("You must provide a featureId to enter direct_select mode");if(n.type===kt)throw new TypeError("direct_select mode doesn't handle point features");var r={featureId:e,feature:n,dragMoveLocation:t.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:t.coordPath?[t.coordPath]:[],groupMove_vertices:t.groupMove_vertices?t.groupMove_vertices:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(e,r.selectedCoordPaths)),this.setSelected(e),te(this),this.setActionableState({trash:!0}),r},pe.onStop=function(){$t(this),this.clearSelectedCoordinates()},pe.toDisplayFeatures=function(t,e,n){t.featureId===e.properties.id?(e.properties.active=Wt,n(e),ie(e,{map:this.map,midpoints:!0,selectedPaths:t.selectedCoordPaths}).forEach(n)):(e.properties.active=qt,n(e)),this.fireActionable(t)},pe.onTrash=function(t){t.selectedCoordPaths.sort((function(t,e){return e.localeCompare(t,"en",{numeric:!0})})).forEach((function(e){return t.feature.removeCoordinate(e)})),this.fireUpdate(),t.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(t),!1===t.feature.isValid()&&(this.deleteFeature([t.featureId]),this.changeMode("custom_select",{}))},pe.onMouseMove=function(t,e){var n=Zt(e),r=he(e),o=0===t.selectedCoordPaths.length;n&&o||r&&!o?this.updateUIClasses({mouse:Mt}):this.updateUIClasses({mouse:wt}),this.stopDragging(t)},pe.onMouseOut=function(t){t.dragMoving&&this.fireUpdate()},pe.onTouchStart=pe.onMouseDown=function(t,e){return he(e)?this.onVertex(t,e):Zt(e)?this.onFeature(t,e):fe(e)?this.onMidpoint(t,e):void 0},pe.onDrag=function(t,e){if(!0===t.canDragMove){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};t.selectedCoordPaths.length>0?this.dragVertex(t,e,n):this.dragFeature(t,e,n),t.dragMoveLocation=e.lngLat}},pe.onClick=function(t,e){return Xt(e)?this.clickNoTarget(t,e):Zt(e)?this.clickActiveFeature(t,e):Yt(e)?this.clickInactive(t,e):void this.stopDragging(t)},pe.onTap=function(t,e){return Xt(e)?this.clickNoTarget(t,e):Zt(e)?this.clickActiveFeature(t,e):Yt(e)?this.clickInactive(t,e):void 0},pe.onTouchEnd=pe.onMouseUp=function(t){t.dragMoving&&this.fireUpdate(),this.stopDragging(t)};var ge=function(t){var e=Object(r.useContext)(s.b);return Object(r.useEffect)((function(){if(e.mapExists())return function(){"function"==typeof t.cleanup&&t.cleanup(e.getMap(t.mapId))}})),Object(r.useEffect)((function(){e.mapExists(t.mapId)&&"function"==typeof t.mapIsReady&&t.mapIsReady(e.getMap(t.mapId))}),[e.mapIds,e,t]),o.a.createElement(o.a.Fragment,null)},me=function(t){var e=Object(r.useContext)(s.b),n=Object(r.useRef)(!1),i=Object(r.useRef)(null),a=W(Object(r.useState)(50),2),c=a[0],u=a[1],l=Object(r.useRef)(50),d=W(Object(r.useState)(50),2),h=d[0],f=d[1],p=Object(r.useRef)(50),g=Object(r.useRef)(t.magnifierRadius),m=W(Object(r.useState)(g.current),2),y=m[0],v=m[1],b=Object(r.useCallback)((function(){return!(!t.map1Id||!t.map2Id)&&!(!e.getMap(t.map1Id)||!e.getMap(t.map2Id))}),[t,e]),x=Object(r.useRef)((function(){b()&&E({clientX:l.current,clientY:p.current})}));Object(r.useEffect)((function(){window.addEventListener("resize",x.current);var t=x.current;return function(){window.removeEventListener("resize",t),i.current&&i.current()}}),[]);var E=Object(r.useCallback)((function(n){if(b()){var r=e.maps[t.map1Id].getCanvas().getBoundingClientRect(),o=n.clientX||(void 0!==n.touches&&void 0!==n.touches[0]?n.touches[0].clientX:0),i=n.clientY||(void 0!==n.touches&&void 0!==n.touches[0]?n.touches[0].clientY:0);o-=r.x,i-=r.y;var a=(o/r.width*100).toFixed(2),s=(i/r.height*100).toFixed(2);l.current===a&&p.current===s||(u(a),l.current=a,f(s),p.current=s,e.maps[t.map2Id].getContainer().style.clipPath="circle(".concat(g.current,"px at ")+l.current*r.width/100+"px "+p.current*r.height/100+"px)")}}),[e,b,t]);Object(r.useEffect)((function(){b()&&!n.current&&(n.current=!0,i.current=w()(e.getMap(t.map1Id).map,e.getMap(t.map2Id).map),e.maps[t.map1Id].getCanvas().clientWidth>e.maps[t.map1Id].getCanvas().clientHeight&&2*g.current>e.maps[t.map1Id].getCanvas().clientHeight&&(g.current=Math.floor(e.maps[t.map1Id].getCanvas().clientHeight/2),v(g.current)),e.maps[t.map1Id].getCanvas().clientHeight>e.maps[t.map1Id].getCanvas().clientWidth&&2*g.current>e.maps[t.map1Id].getCanvas().clientWidth&&(g.current=Math.floor(e.maps[t.map1Id].getCanvas().clientWidth/2),v(g.current)),E({clientX:e.maps[t.map1Id].getCanvas().clientWidth/2,clientY:e.maps[t.map1Id].getCanvas().clientHeight/2}))}),[e.mapIds,e,b,t,E]);var O=function(t){t.touches?(document.addEventListener("touchmove",E),document.addEventListener("touchend",S)):(document.addEventListener("mousemove",E),document.addEventListener("mouseup",M))},S=function t(){document.removeEventListener("touchmove",E),document.removeEventListener("touchend",t)},M=function t(){document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",t)};return o.a.createElement("div",{style:{position:"absolute",left:c+"%",top:h+"%",borderRadius:"50%",width:2*y+1+"px",height:2*y+1+"px",background:"rgba(0,0,0,0)",border:"2px solid #fafafa",boxShadow:"1px 2px 2px rgba(19, 19, 19, .5), inset 1px 1px 1px rgba(19, 19, 19, .2)",cursor:"pointer",zIndex:"110",marginLeft:-1*y-1+"px",marginTop:-1*y-1+"px",textAlign:"center",lineHeight:"91px",fontSize:"2em",color:"#fafafa",userSelect:"none"},onTouchStart:O,onMouseDown:O,onWheel:function(t){var n=new WheelEvent(t.type,t);e.map.getCanvas().dispatchEvent(n)}})};me.defaultProps={magnifierRadius:200},me.propTypes={map1Id:a.a.string,map2Id:a.a.string,magnifierRadius:a.a.number};a.a.string,a.a.string;var ye=o.a.createContext({}),ve=ye.Provider,be=function(){var e,r=/\s*/g,o=/^\s*|\s*$/g,i=/\s+/;function a(t){if(!t||!t.length)return 0;for(var e=0,n=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e)|0;return n}function s(t,e){return t.getElementsByTagName(e)}function c(t,e){return t.getAttribute(e)}function u(t,e){return parseFloat(c(t,e))}function l(t,e){var n=s(t,e);return n.length?n[0]:null}function d(t){for(var e=0,n=[];e<t.length;e++)n[e]=parseFloat(t[e]);return n}function h(t){var e;return t&&(e=t).normalize&&e.normalize(),t&&t.textContent||""}function f(t,e){var n,r,o={};for(r=0;r<e.length;r++)(n=l(t,e[r]))&&(o[e[r]]=h(n));return o}function p(t,e){for(var n in e)t[n]=e[n]}function g(t){return d(t.replace(r,"").split(","))}function m(t){for(var e=t.replace(o,"").split(i),n=[],r=0;r<e.length;r++)n.push(g(e[r]));return n}function y(t){var e,n=[u(t,"lon"),u(t,"lat")],r=l(t,"ele"),o=l(t,"gpxtpx:hr")||l(t,"hr"),i=l(t,"time");return r&&(e=parseFloat(h(r)),isNaN(e)||n.push(e)),{coordinates:n,time:i?h(i):null,heartRate:o?parseFloat(h(o)):null}}if("undefined"!=typeof XMLSerializer)e=new XMLSerializer;else{var v="object"===(void 0===t?"undefined":U(t))&&!t.browser,b="object"===("undefined"==typeof Titanium?"undefined":U(Titanium));if("object"!==("undefined"==typeof exports?"undefined":U(exports))||!v&&!b)throw new Error("Unable to initialize serializer");e=new(n(1274).XMLSerializer)}function x(t){return void 0!==t.xml?t.xml:e.serializeToString(t)}return{kml:function(t){for(var e={type:"FeatureCollection",features:[]},n={},r={},o={},i=["Polygon","LineString","Point","Track","gx:Track"],u=s(t,"Placemark"),f=s(t,"Style"),p=s(t,"StyleMap"),y=0;y<f.length;y++){var v=a(x(f[y])).toString(16);n["#"+c(f[y],"id")]=v,r[v]=f[y]}for(var b=0;b<p.length;b++){n["#"+c(p[b],"id")]=a(x(p[b])).toString(16);for(var E=s(p[b],"Pair"),O={},S=0;S<E.length;S++)O[h(l(E[S],"key"))]=h(l(E[S],"styleUrl"));o["#"+c(p[b],"id")]=O}for(var M=0;M<u.length;M++)e.features=e.features.concat(j(u[M]));function C(t){var e,n;return"#"===(t=t||"").substr(0,1)&&(t=t.substr(1)),6!==t.length&&3!==t.length||(e=t),8===t.length&&(n=parseInt(t.substr(0,2),16)/255,e="#"+t.substr(6,2)+t.substr(4,2)+t.substr(2,2)),[e,isNaN(n)?void 0:n]}function w(t){var e=s(t,"coord"),n=[],r=[];0===e.length&&(e=s(t,"gx:coord"));for(var o=0;o<e.length;o++)n.push(d(h(e[o]).split(" ")));for(var i=s(t,"when"),a=0;a<i.length;a++)r.push(h(i[a]));return{coords:n,times:r}}function j(t){var e,a=function t(e){var n,r,o,a,c,u=[],d=[];if(l(e,"MultiGeometry"))return t(l(e,"MultiGeometry"));if(l(e,"MultiTrack"))return t(l(e,"MultiTrack"));if(l(e,"gx:MultiTrack"))return t(l(e,"gx:MultiTrack"));for(o=0;o<i.length;o++)if(r=s(e,i[o]))for(a=0;a<r.length;a++)if(n=r[a],"Point"===i[o])u.push({type:"Point",coordinates:g(h(l(n,"coordinates")))});else if("LineString"===i[o])u.push({type:"LineString",coordinates:m(h(l(n,"coordinates")))});else if("Polygon"===i[o]){var f=s(n,"LinearRing"),p=[];for(c=0;c<f.length;c++)p.push(m(h(l(f[c],"coordinates"))));u.push({type:"Polygon",coordinates:p})}else if("Track"===i[o]||"gx:Track"===i[o]){var y=w(n);u.push({type:"LineString",coordinates:y.coords}),y.times.length&&d.push(y.times)}return{geoms:u,coordTimes:d}}(t),u={},d=h(l(t,"name")),f=h(l(t,"address")),p=h(l(t,"styleUrl")),y=h(l(t,"description")),v=l(t,"TimeSpan"),b=l(t,"TimeStamp"),x=l(t,"ExtendedData"),E=l(t,"LineStyle"),O=l(t,"PolyStyle"),S=l(t,"visibility");if(!a.geoms.length)return[];if(d&&(u.name=d),f&&(u.address=f),p){"#"!==p[0]&&(p="#"+p),u.styleUrl=p,n[p]&&(u.styleHash=n[p]),o[p]&&(u.styleMapHash=o[p],u.styleHash=n[o[p].normal]);var M=r[u.styleHash];if(M){E||(E=l(M,"LineStyle")),O||(O=l(M,"PolyStyle"));var j=l(M,"IconStyle");if(j){var _=l(j,"Icon");if(_){var I=h(l(_,"href"));I&&(u.icon=I)}}}}if(y&&(u.description=y),v){var T=h(l(v,"begin")),k=h(l(v,"end"));u.timespan={begin:T,end:k}}if(b&&(u.timestamp=h(l(b,"when"))),E){var L=C(h(l(E,"color"))),P=L[0],A=L[1],N=parseFloat(h(l(E,"width")));P&&(u.stroke=P),isNaN(A)||(u["stroke-opacity"]=A),isNaN(N)||(u["stroke-width"]=N)}if(O){var R=C(h(l(O,"color"))),F=R[0],D=R[1],H=h(l(O,"fill")),z=h(l(O,"outline"));F&&(u.fill=F),isNaN(D)||(u["fill-opacity"]=D),H&&(u["fill-opacity"]="1"===H?u["fill-opacity"]||1:0),z&&(u["stroke-opacity"]="1"===z?u["stroke-opacity"]||1:0)}if(x){var U=s(x,"Data"),B=s(x,"SimpleData");for(e=0;e<U.length;e++)u[U[e].getAttribute("name")]=h(l(U[e],"value"));for(e=0;e<B.length;e++)u[B[e].getAttribute("name")]=h(B[e])}S&&(u.visibility=h(S)),a.coordTimes.length&&(u.coordTimes=1===a.coordTimes.length?a.coordTimes[0]:a.coordTimes);var V={type:"Feature",geometry:1===a.geoms.length?a.geoms[0]:{type:"GeometryCollection",geometries:a.geoms},properties:u};return c(t,"id")&&(V.id=c(t,"id")),[V]}return e},gpx:function(t){var e,n,r=s(t,"trk"),o=s(t,"rte"),i=s(t,"wpt"),a={type:"FeatureCollection",features:[]};for(e=0;e<r.length;e++)(n=g(r[e]))&&a.features.push(n);for(e=0;e<o.length;e++)(n=m(o[e]))&&a.features.push(n);for(e=0;e<i.length;e++)a.features.push(v(i[e]));function u(t,e){for(var n=0;n<e;n++)t.push(null);return t}function d(t,e){var n=s(t,e),r=[],o=[],i=[],a=n.length;if(a<2)return{};for(var c=0;c<a;c++){var l=y(n[c]);r.push(l.coordinates),l.time&&o.push(l.time),(l.heartRate||i.length)&&(i.length||u(i,c),i.push(l.heartRate||null))}return{line:r,times:o,heartRates:i}}function g(t){for(var e,n=s(t,"trkseg"),r=[],o=[],i=[],a=0;a<n.length;a++)if((e=d(n[a],"trkpt"))&&(e.line&&r.push(e.line),e.times&&e.times.length&&o.push(e.times),i.length||e.heartRates&&e.heartRates.length)){if(!i.length)for(var c=0;c<a;c++)i.push(u([],r[c].length));e.heartRates&&e.heartRates.length?i.push(e.heartRates):i.push(u([],e.line.length||0))}if(0!==r.length){var h=x(t);return p(h,b(l(t,"extensions"))),o.length&&(h.coordTimes=1===r.length?o[0]:o),i.length&&(h.heartRates=1===r.length?i[0]:i),{type:"Feature",properties:h,geometry:{type:1===r.length?"LineString":"MultiLineString",coordinates:1===r.length?r[0]:r}}}}function m(t){var e=d(t,"rtept");if(e.line){var n=x(t);return p(n,b(l(t,"extensions"))),{type:"Feature",properties:n,geometry:{type:"LineString",coordinates:e.line}}}}function v(t){var e=x(t);return p(e,f(t,["sym"])),{type:"Feature",properties:e,geometry:{type:"Point",coordinates:y(t).coordinates}}}function b(t){var e={};if(t){var n=l(t,"line");if(n){var r=h(l(n,"color")),o=parseFloat(h(l(n,"opacity"))),i=parseFloat(h(l(n,"width")));r&&(e.stroke=r),isNaN(o)||(e["stroke-opacity"]=o),isNaN(i)||(e["stroke-width"]=96*i/25.4)}}return e}function x(t){var e=f(t,["name","cmt","desc","type","time","keywords"]),n=s(t,"link");n.length&&(e.links=[]);for(var r,o=0;o<n.length;o++)p(r={href:c(n[o],"href")},f(n[o],["text","type"])),e.links.push(r);return e}return a}}}(),xe=function(t){var e=Object(r.useContext)(ye),n=Object(r.useRef)((t.idPrefix?t.idPrefix:"MlGpxViewer-")+Object(l.a)()),i=Object(r.useContext)(s.b),a=t.mapId,u=Object(r.useRef)(!1),d=Object(r.useRef)(null),h="importer-layer-lines",f="importer-layer-points",p=W(Object(r.useState)(!1),2),m=p[0],y=p[1],v=Object(r.useRef)(null),b=W(Object(r.useState)(0),2),E=b[0],O=b[1],S=W(Object(r.useState)([]),2),M=S[0],C=S[1],w=Object(r.useRef)(null),k=Object(x.a)("(max-width:900px)"),P=Object(r.useRef)(new c.Popup({closeButton:!1,closeOnClick:!0}));Object(r.useEffect)((function(){var t=n.current,e=P.current;return function(){d.current&&(d.current.cleanup(t),d.current.getCanvas().style.cursor="",d.current=null),e.remove()}}),[]),Object(r.useEffect)((function(){i.mapExists(a)&&!u.current&&(u.current=!0,d.current=i.getMap(a),d.current.addSource("import-source",{type:"geojson",data:e.data},n.current),d.current.addLayer({id:h,source:"import-source",type:"line",paint:{"line-width":4,"line-color":"rgba(212, 55, 23,0.5)"}},t.insertBeforeLayer,n.current),d.current.addLayer({id:f,source:"import-source",type:"circle",paint:{"circle-color":"rgba(72, 77, 99,0.5)","circle-radius":7},filter:["==","$type","Point"]},t.insertBeforeLayer,n.current),[h,f].forEach((function(t){d.current.setLayoutProperty(t,"visibility","visible")})),d.current.on("mouseenter",f,(function(e){i.getMap(t.mapId).getCanvas().style.cursor="pointer";for(var n=e.features[0].geometry.coordinates.slice(),r=e.features[0].properties.name;Math.abs(e.lngLat.lng-n[0])>180;)n[0]+=e.lngLat.lng>n[0]?360:-360;P.current.setLngLat(n).setHTML(r).addTo(d.current)})),d.current.on("mouseleave","places",(function(){d.current.getCanvas().style.cursor="",P.current.remove()})),d.current.setZoom(10))}),[i.mapIds,i,e.data,a,t]),Object(r.useEffect)((function(){var t=v.current,e=function(t){O(1e3),D(t)},n=function(){O(0)},r=function(t){O(0),D(t)};return window.addEventListener("dragenter",e),window.addEventListener("dragover",D),t.addEventListener("dragleave",n),window.addEventListener("drop",r),function(){window.removeEventListener("dragenter",e),window.removeEventListener("dragover",D),window.removeEventListener("drop",D),t.removeEventListener("dragleave",n),window.removeEventListener("drop",(function(t){return r}))}}));var D=function(t){t.preventDefault(),t.stopPropagation()};Object(r.useEffect)((function(){if(d.current){var e=t.visible?"visible":"none";[h,f].forEach((function(t){d.current.setLayoutProperty(t,"visibility",e)}))}}),[t.visible]);var H=function(t){if(d.current)try{C([]);var n=(new DOMParser).parseFromString(t,"application/xml");n.querySelector("metadata").childNodes.forEach((function(t){var e=t.textContent,n=t.nodeName;if("link"===t.nodeName&&(e=t.getAttribute("href")),e.trim().length){var r={title:n,value:e,id:(new Date).getTime()};C((function(t){return[].concat(q(t),[r])}))}}));var r=be.gpx(n);e.setData(r),d.current.getSource("import-source").setData(r);var o=Object(g.bbox)(r);d.current.fitBounds(o)}catch(t){console.log(t)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{position:"fixed",right:"5px",bottom:k?"40px":"25px",display:"flex",flexDirection:"column",gap:"5px",zIndex:1e3}},o.a.createElement(T.a,{onClick:function(){w.current.click()},style:{backgroundColor:"rgba(255,255,255,1)"},size:"large"},o.a.createElement("input",{ref:w,onChange:function(){var t=w.current.files[0];if(!t)return!1;var e=new FileReader;e.onload=function(t){H(t.currentTarget.result)},e.readAsText(t)},type:"file",id:"input",multiple:!0,style:{display:"none"}}),o.a.createElement(A.a,null)),o.a.createElement(T.a,{onClick:function(){y((function(t){return!t}))},style:{backgroundColor:"rgba(255,255,255,1)"},size:"large"},o.a.createElement(L.a,null))),o.a.createElement(I.a,{variant:"persistent",anchor:"left",open:m},o.a.createElement(_.a,{variant:"h6",style:{textAlign:"center",padding:"1em"},noWrap:!0},"Informationen zur Route"),o.a.createElement(j.a,null),o.a.createElement(N.a,null,M.map((function(t){return o.a.createElement(R.a,{key:"item--".concat(t.id)},o.a.createElement(F.a,{primary:t.value}))})))),o.a.createElement("div",{onDrop:function(t){if(t.preventDefault(),t.dataTransfer.items){if(t.dataTransfer.items.length>1)return!1;if("file"===t.dataTransfer.items[0].kind){var e=new FileReader;e.onload=function(t){H(t.currentTarget.result)};var n=t.dataTransfer.items[0].getAsFile();e.readAsText(n)}}},ref:v,style:{position:"absolute",left:"0",top:"0",backgroundColor:"rgba(255,255,255,0.5)",width:"100%",height:"100%",zIndex:E}},o.a.createElement(_.a,{variant:"h6",style:{top:"50%",position:"absolute",left:"50%",msTransform:"translate(-50%, -50%)",transform:" translate(-50%, -50%)"},noWrap:!0},"Gpx-Datei ablegen")))};xe.defaultProps={visible:!0},xe.propTypes={mapId:a.a.string,idPrefix:a.a.string,visible:a.a.bool,insertBeforeLayer:a.a.string};var Ee=function(t){var e=t.children,n=W(Object(r.useState)({type:"FeatureCollection",features:[]}),2),i={data:n[0],setData:n[1],getEmptyFeatureCollection:function(){return{type:"FeatureCollection",features:[]}}};return o.a.createElement(ve,{value:i},e)};Ee.propTypes={children:a.a.node.isRequired};var Oe=function(t){var e=Object(r.useContext)(s.b),n=Object(r.useRef)((t.idPrefix?t.idPrefix:"MlSpatialElevationProfile-")+Object(l.a)()),i=Object(r.useRef)(null),a=Object(r.useRef)(!1),c=Object(r.useContext)(ye),u=Object(r.useRef)("elevationprofile-"+Object(l.a)()),d=Object(r.useRef)("elevationprofile-layer-"+Object(l.a)()),h=Object(r.useCallback)((function(e,n,r,o,i){var a=Object(D.a)([[e,n],[o,i]]),s=Object(g.lineOffset)(a,5,{units:"meters"}),c=s.geometry.coordinates[0][0],u=s.geometry.coordinates[0][1],l=s.geometry.coordinates[1][0],d=s.geometry.coordinates[1][1];return Object(D.b)([[[e,n],[o,i],[l,d],[c,u],[e,n]]],{height:r*t.elevationFactor})}),[t.elevationFactor]);return Object(r.useEffect)((function(){var t=n.current;return function(){i.current&&(i.current.cleanup(t),i.current=null)}}),[]),Object(r.useEffect)((function(){e.mapExists(t.mapId)&&!a.current&&(a.current=!0,i.current=e.getMap(t.mapId),i.current.addSource(u.current,{type:"geojson",data:c.data},n.current),i.current.addLayer({id:d.current,source:u.current,type:"fill-extrusion",paint:{"fill-extrusion-height":["get","height"],"fill-extrusion-opacity":.9,"fill-extrusion-color":["interpolate",["linear"],["get","height"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"yellow"]}},t.insertBeforeLayer,n.current))}),[e.mapIds,t.insertBeforeLayer,t.mapId,c,e]),Object(r.useEffect)((function(){var e;if(i.current&&i.current.getLayer(d.current)){var n=c.data;if(n&&n.features){var r=n.features.find((function(t){return"LineString"===t.geometry.type}));if(r&&r.geometry){var o=r.geometry.coordinates.map((function(t,e){return t[2]})),a=Math.min.apply(Math,q(o)),s=Math.max.apply(Math,q(o))-a;s=0===s?1:s,i.current.setPaintProperty(d.current,"fill-extrusion-color",["interpolate",["linear"],["get","height"],0,"rgb(0,255,55)",s*t.elevationFactor,"rgb(255,0,0)"]);var l=function(t,e,n){return t*(1-n)+e*n},f=[];r.geometry.coordinates.forEach((function(t,e){if(r.geometry.coordinates[e+1]){var n=~~(1e3*Object(g.distance)([t[0],t[1]],[r.geometry.coordinates[e+1][0],r.geometry.coordinates[e+1][1]],{units:"kilometers"})/10);n=n<1?1:n;for(var o=0;o<n;o++){var i=l(r.geometry.coordinates[e][0],r.geometry.coordinates[e+1][0],o/n),s=l(r.geometry.coordinates[e][1],r.geometry.coordinates[e+1][1],o/n),c=l(r.geometry.coordinates[e][2]-a,r.geometry.coordinates[e+1][2]-a,o/n),u=l(r.geometry.coordinates[e][0],r.geometry.coordinates[e+1][0],(o+1)/n),d=l(r.geometry.coordinates[e][1],r.geometry.coordinates[e+1][1],(o+1)/n),p=h(i,s,c,u,d);f.push(p)}}}));var p=c.getEmptyFeatureCollection();p.features=f,null===(e=i.current.getSource(u.current))||void 0===e||e.setData(p)}}}}),[c.data,h,c,t.elevationFactor,e]),o.a.createElement(o.a.Fragment,null)};function Se(t){var e=Object(r.useContext)(s.b),n=Object(r.useRef)(!1),o=Object(r.useRef)(void 0),i=W(Object(r.useState)(void 0),2),a=(i[0],i[1]),c=W(Object(r.useState)(void 0),2),u=c[0],d=c[1],h=Object(r.useRef)(void 0),f=W(Object(r.useState)(void 0),2),p=f[0],g=f[1],m=Object(r.useRef)(void 0),y=Object(r.useRef)(Object(l.a)()),v=Object(r.useCallback)((function(e){return!(!t.filter.includeBaseLayers&&e.baseLayer)&&(void 0===t.filter.matchLayerIds||(t.filter.matchLayerIds instanceof RegExp?t.filter.matchLayerIds.test(e.id):e.id.includes(t.filter.matchLayerIds)))}),[t.filter]),b=Object(r.useCallback)((function(){var t=o.current.wrapper.layerState.filter(v),e=JSON.stringify(t);m.current!==e&&(m.current=e,g(t))}),[v]);return Object(r.useEffect)((function(){var t=y.current;return function(){o.current&&(o.current.cleanup(t),o.current=void 0),n.current=!1}}),[]),Object(r.useEffect)((function(){var r,i,s,c;e.mapExists(t.mapId)&&!n.current&&(n.current=!0,o.current=e.getMap(t.mapId),null!=t&&null!==(r=t.watch)&&void 0!==r&&r.viewport&&(d(o.current.wrapper.viewportState),o.current.wrapper.on("viewportchange",(function(){var t,e,n,r;h.current!==(null===(t=o.current)||void 0===t?void 0:t.wrapper.viewportStateString)&&(d(null===(e=o.current)||void 0===e?void 0:e.wrapper.viewportState),a(null===(n=o.current)||void 0===n||null===(r=n.wrapper.viewportState)||void 0===r?void 0:r.center))}),y.current)),null!=t&&null!==(i=t.watch)&&void 0!==i&&i.layers&&(b(),o.current.wrapper.on("layerchange",b,{includeBaseLayers:null==t||null===(s=t.filter)||void 0===s?void 0:s.includeBaseLayers,matchLayerIds:null==t||null===(c=t.filter)||void 0===c?void 0:c.matchLayerIds},y.current)))}),[e.mapIds,e,t.mapId,b]),{layers:p,viewport:u}}Oe.defaultProps={elevationFactor:1},Oe.propTypes={mapId:a.a.string,idPrefix:a.a.string,elevationFactor:a.a.number,insertBeforeLayer:a.a.string},Se.defaultProps={mapId:void 0,watch:{layers:!0,sources:!1,viewport:!1},filter:{includeBaseLayers:!1}},Se.propTypes={mapId:a.a.string,watch:a.a.shape({layers:a.a.bool,sources:a.a.bool,viewport:a.a.bool}),filter:a.a.shape({includeBaseLayers:a.a.bool,matchLayerIds:a.a.oneOfType([a.a.string,a.a.instanceOf(RegExp)]),matchSourceIds:a.a.oneOfType([a.a.string,a.a.instanceOf(RegExp)])})}}).call(this,n(139))}}]);
//# sourceMappingURL=vendors~main~dab50aa4.5db2dbd2.iframe.bundle.js.map